/*
 COPYRIGHT 2009 ESRI

 TRADE SECRETS: ESRI PROPRIETARY AND CONFIDENTIAL
 Unpublished material - all rights reserved under the
 Copyright Laws of the United States and applicable international
 laws, treaties, and conventions.

 For additional information, contact:
 Environmental Systems Research Institute, Inc.
 Attn: Contracts and Legal Services Department
 380 New York Street
 Redlands, California, 92373
 USA

 email: contracts@esri.com
 */
//>>built
require({cache:{"esri/layers/TiledMapServiceLayer":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojo/_base/url","dojo/dom-construct","dojo/dom-class","dojo/dom-geometry","dojo/dom-style","dojox/collections/ArrayList","dojox/gfx/matrix","esri/kernel","esri/config","esri/sniff","esri/domUtils","esri/tileUtils","esri/geometry/Point","esri/geometry/Rect","esri/layers/layer"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13){var _14=_d.defaults.map.zoomDuration;var _15=_1(_13,{declaredClass:"esri.layers.TiledMapServiceLayer",constructor:function(url,_16){_2.connect(this,"onLoad",this,"_initTiledLayer");this._displayLevels=_16?_16.displayLevels:null;this._lowestLevel=this._displayLevels?this._displayLevels[0]:0;this._resampling=_16?_16.resampling:false;this._resamplingTolerance=_16?_16.resamplingTolerance:null;var dh=_3.hitch;this._addImage=dh(this,this._addImage);this._tileLoadHandler=dh(this,this._tileLoadHandler);this._tileErrorHandler=dh(this,this._tileErrorHandler);this._tilePopPop=dh(this,this._tilePopPop);this._cleanUpRemovedImages=dh(this,this._cleanUpRemovedImages);this._fireOnUpdateEvent=dh(this,this._fireOnUpdateEvent);this._transitionEnd=dh(this,this._transitionEnd);},opacity:1,isPNG32:false,_multiple:1,_initTiledLayer:function(){var ti=this.tileInfo,_17=ti.lods;this._tileW=ti.width;this._tileH=ti.height;var _18=(this.scales=[]),dl=this._displayLevels,_19=(this.declaredClass==="esri.layers.WMTSLayer"&&ti.dpi!=96),_1a=-Infinity,_1b=Infinity,fe=this.fullExtent,ul=new _11(fe.xmin,fe.ymax),lr=new _11(fe.xmax,fe.ymin),_1c=_10.getContainingTileCoords,_1d,lod,i,len=_17.length;for(i=0;i<len;i++){lod=_17[i];if(_19){lod.scale=lod.scale*96/ti.dpi;}_1d=_1c(ti,ul,lod);lod.startTileRow=_1d.row<0?0:_1d.row;lod.startTileCol=_1d.col<0?0:_1d.col;_1d=_1c(ti,lr,lod);lod.endTileRow=_1d.row;lod.endTileCol=_1d.col;if(!dl||_4.indexOf(dl,lod.level)!==-1){_18[i]=lod.scale;_1a=(lod.scale>_1a)?lod.scale:_1a;_1b=(lod.scale<_1b)?lod.scale:_1b;}}if(_19){ti.dpi=96;}if(_1a!==-Infinity&&!this._hasMin){this.setMinScale(_1a);}if(_1b!==Infinity&&!this._hasMax){this.setMaxScale(_1b);}this._patchIE=_e("ie")>=6&&_e("ie")<7&&(this.isPNG32||ti.format==="Mixed");},_isMapAtVisibleScale:function(){var _1e=this.inherited(arguments);if(_1e){var i,map=this._map,_1f=this.scales,_20=map.getScale(),_21=false,_22=(map.width>map.height)?map.width:map.height;for(i=0;i<_1f.length;i++){if((Math.abs(_1f[i]-_20)/_1f[i])<(1/_22)){_21=true;break;}}_1e=_21;}return _1e;},_setMap:function(map,_23,_24,lod){this.inherited(arguments);this._map=map;var d=(this._div=_6.create("div",null,_23)),_25=map.__visibleDelta,dc=_2.connect,_26=_c._css.names,css={position:"absolute",width:map.width+"px",height:map.height+"px",overflow:"visible"};if(map.navigationMode==="css-transforms"){css[_26.transform]=_c._css.translate(-_25.x,-_25.y);_9.set(d,css);delete css[_26.transform];css[_26.transition]=_26.transformName+" "+_14+"ms ease";_9.set((this._active=_6.create("div",null,d)),css);this._active._remove=0;this._passives=[];}else{css.left=-_25.x+"px";css.top=-_25.y+"px";_9.set(d,css);}this._onResizeHandler_connect=dc(map,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=dc(this,"onOpacityChange",this,"_opacityChangeHandler");var _27=this.tileInfo,sr=_27.spatialReference,_28=sr._getInfo();this._wrap=map.wrapAround180&&sr._isWrappable()&&Math.abs(_28.origin[0]-_27.origin.x)<=_28.dx;if(this._wrap){_10._addFrameInfo(_27,_28);}this.evaluateSuspension();if(this.suspended&&!map.loaded){var _29=_2.connect(map,"onLoad",this,function(){_2.disconnect(_29);_29=null;this.evaluateSuspension();});}return d;},_unsetMap:function(map,_2a){if(!this.suspended){this._suspendImpl();}_6.destroy(this._div);this._map=this._div=null;var dd=_2.disconnect;dd(this._onResizeHandler_connect);dd(this._opacityChangeHandler_connect);this.inherited(arguments);},onSuspend:function(){this.inherited(arguments);this._suspendImpl();},_suspendImpl:function(){_f.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();var _2b=this._tiles,_2c=this._tileIds,_2d=this._loadingList,img,i,id,_2e=_2.disconnect,_2f=_6.destroy;if(_2d&&_2d.count>0){_2d.forEach(function(_30){img=_2b[_30];if(img){_2e(img._onload_connect);_2e(img._onerror_connect);_2e(img._onabort_connect);img._onload_connect=img._onerror_connect=img._onabort_connect=null;}});_2d.clear();this._fireUpdateEnd();}this._removeList.clear();for(i=_2c.length-1;i>=0;i--){id=_2c[i];img=id&&_2b[id];if(img){_2f(img);}}if(this._map.navigationMode==="css-transforms"){var _31=this._active,_32=this._passives,_33;this._noDom=0;for(i=_32.length-1;i>=0;i--){_33=_32[i];if(_33._endHandle){_2e(_33._endHandle);}_33._matrix=_33._multiply=_33._endHandle=null;_33._marked=_33._remove=0;_32.splice(i,1);_2f(_33);}_31._matrix=_31._multiply=null;_31._marked=_31._remove=0;}this._tileIds=this._tiles=this._tileBounds=this._ct=this._loadingList=this._removeList=this._standby=null;},onResume:function(){this.inherited(arguments);this._tileIds=[];this._tiles=[];this._tileBounds=[];this._ct=null;this._removeList=new _a();this._loadingList=new _a();_f.show(this._div);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(_3.hitch(this,function(){if(!this.suspended){this._onExtentChangeHandler(this._map.extent,null,true,this._map.__LOD);}}),0);},_enableDrawConnectors:function(){var map=this._map,_34=_2.connect;if(map.navigationMode==="css-transforms"){this._onScaleHandler_connect=_34(map,"onScale",this,this._onScaleHandler);if(_e("esri-touch")||_e("esri-pointer")){this._standby=[];var _35=this,_36=function(){_35._noDom=1;};this._onPanStartHandler_connect=_34(map,"onPanStart",_36);this._onZoomStartHandler_connect=_34(map,"onZoomStart",_36);}}else{this._onZoomHandler_connect=_34(map,"onZoom",this,"_onZoomHandler");}this._onPanHandler_connect=_34(map,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=_34(map,"onExtentChange",this,"_onExtentChangeHandler");},_disableDrawConnectors:function(){var _37=_2.disconnect;_37(this._onPanHandler_connect);_37(this._onZoomHandler_connect);_37(this._onScaleHandler_connect);_37(this._onExtentChangeHandler_connect);_37(this._onPanStartHandler_connect);_37(this._onZoomStartHandler_connect);this._onPanHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=this._onExtentChangeHandler_connect=this._onPanStartHandler_connect=this._onZoomStartHandler_connect=null;},_onResizeHandler:function(_38,_39,_3a){var css={width:_39+"px",height:_3a+"px"},ds=_9.set,i;ds(this._div,css);if(this._map.navigationMode==="css-transforms"){if(this._active){ds(this._active,css);}for(i=this._passives.length-1;i>=0;i--){ds(this._passives[i],css);}}},_onExtentChangeHandler:function(_3b,_3c,_3d,lod){var map=this._map,i,_3e=this._standby,img,_3f;clearTimeout(this._wakeTimer);this._wakeTimer=null;if(map._isPanningOrZooming()){return;}if(map.navigationMode==="css-transforms"){if(_3d){for(i=this._passives.length-1;i>=0;i--){_3f=this._passives[i];_9.set(_3f,_c._css.names.transition,"none");if(_3f._marked){this._passives.splice(i,1);if(_3f.parentNode){_3f.parentNode.removeChild(_3f);}_6.destroy(_3f);}else{if(_3f.childNodes.length>0){_3f._multiply=_3f._multiply?_b.multiply(_3f._matrix,_3f._multiply):_3f._matrix;}}}}this._noDom=0;if(_3e&&_3e.length){for(i=_3e.length-1;i>=0;i--){img=_3e[i];_9.set(img,"visibility","visible");this._tilePopPop(img);_3e.splice(i,1);}}}this._fireUpdateStart();this._rrIndex=0;var ct=_10.getCandidateTileInfo(map,this.tileInfo,_3b),mv=map.__visibleDelta,id;if(!this._ct||ct.lod.level!==this._ct.lod.level||_3d){var _40=(ct&&this._ct&&ct.lod.level!==this._ct.lod.level);this._ct=ct;var _41=this._tiles,_42=this._tileIds,_43=this._tileBounds,_44=this._removeList,_45,il=_42.length;this._cleanUpRemovedImages();for(i=0;i<il;i++){id=_42[i];_45=_41[id];_43[id]=_42[i]=null;if((map.navigationMode==="css-transforms")&&_40&&_45.parentNode&&map.fadeOnZoom){_45._fadeOut=_40;_45.parentNode._remove++;}_44.add(_45);}if(_3d){this._tileIds=[];this._tiles=[];this._tileBounds=[];}}var mx=mv.x,my=mv.y;if(map.navigationMode==="css-transforms"){var css={};css[_c._css.names.transform]=_c._css.translate(mx,my);_9.set(this._div,css);}else{_9.set(this._div,{left:mx+"px",top:my+"px"});}this.__coords_dx=mx;this.__coords_dy=my;this._updateImages(new _12(0,0,mv.width,mv.height));if(this._loadingList.count===0){this.onUpdate();this._fireUpdateEnd();}else{this._fireOnUpdate=true;}var _46,_47,_48=this._tileW,_49=this._tileH;mv=new _12(-mv.x,-mv.y,mv.width,mv.height);for(i=this._tileIds.length-1;i>=0;i--){id=this._tileIds[i];if(id){img=this._tiles[id];_46=_8.getMarginBox(img);_47=new _12(_46.l,_46.t,_48,_49);if(map.navigationMode==="css-transforms"){_47.x=img._left;_47.y=img._top;}if(mv.intersects(_47)){this._tileBounds[id]=_47;}else{if(this._loadingList.contains(id)){this._tilePopPop(img);}_6.destroy(img);this._tileIds.splice(i,1);delete this._tileBounds[id];delete this._tiles[id];}}else{this._tileIds.splice(i,1);delete this._tileBounds[id];delete this._tiles[id];}}},_onPanHandler:function(_4a,_4b){var map=this._map,mv=map.__visibleDelta.offset(_4b.x,_4b.y);this.__coords_dx=this.__coords_dy=0;if(map.navigationMode==="css-transforms"){var css={};css[_c._css.names.transform]=_c._css.translate(mv.x,mv.y);_9.set(this._div,css);if(!_e("esri-touch")&&!_e("esri-pointer")){this._updateImages({x:-mv.x,y:-mv.y,width:mv.width,height:mv.height});}}else{_9.set(this._div,{left:mv.x+"px",top:mv.y+"px"});this._updateImages({x:-mv.x,y:-mv.y,width:mv.width,height:mv.height});}if(this._loadingList.count>0){this._fireUpdateStart();this._fireOnUpdate=true;}},_onScaleHandler:function(mtx,_4c){var i,css={},_4d=_c._css.names,map=this._map;for(i=this._passives.length-1;i>=0;i--){var _4e=this._passives[i];if(_4e.childNodes.length===0){this._passives.splice(i,1);_6.destroy(_4e);}else{if(_4e.style[_4d.transition]==="none"){_9.set(_4e,_4d.transition,_4d.transformName+" "+_14+"ms ease");}_9.set(_4e,_4d.transition,_4c?"none":(_4d.transformName+" "+_14+"ms ease"));_4e._matrix=mtx;css[_4d.transform]=_c._css.matrix(_4e._multiply?_b.multiply(mtx,_4e._multiply):mtx);_9.set(_4e,css);}}if(this._active&&this._active.childNodes.length===0){return;}_9.set(this._active,_4d.transition,_4c?"none":(_4d.transformName+" "+_14+"ms ease"));this._active._matrix=mtx;css[_4d.transform]=_c._css.matrix(this._active._matrix);_9.set(this._active,css);this._passives.push(this._active);css={position:"absolute",width:map.width+"px",height:map.height+"px",overflow:"visible"};css[_4d.transition]=_4d.transformName+" "+_14+"ms ease";_9.set((this._active=_6.create("div",null,this._div)),css);this._active._remove=0;if(map.fadeOnZoom){_6.place(this._active,this._div,"first");}},_onZoomHandler:function(_4f,_50,_51){var _52=_8.getMarginBox(this._div);_51=_51.offset(-_52.l,-_52.t);if(!this._previousScale||_50===1){this._previousScale=1;}var _53,_54=this._tileW*_50,_55=this._tileH*_50,_56=this._tileBounds,_57=this._tiles,_58=this._previousScale,_59=this._multiple,es=_9.set,_5a,_5b;var _5c=_e("ie");if(_5c&&_5c<8){_4.forEach(this._tileIds,function(id){_5b="";_53=_56[id];_5a=_57[id].style.margin.split(" ");_4.forEach(_5a,function(_5d){if(_5b!==""){_5b+=" ";}_5d=parseFloat(_5d);_5b+=(_5d/_58*_50+"px");});es(_57[id],{left:(_53.x-((_54-_53.width)*(_51.x-_53.x)/_53.width))+"px",top:(_53.y-((_55-_53.height)*(_51.y-_53.y)/_53.height))+"px",margin:_59!==1?_5b:"",zoom:_50});});}else{var _5e=_54*_59,_5f=_55*_59,_60,_61;_4.forEach(this._tileIds,function(id){_5b="";_53=_56[id];_60=(_53.x-((_54-_53.width)*(_51.x-_53.x)/_53.width));_61=(_53.y-((_55-_53.height)*(_51.y-_53.y)/_53.height));_5a=_57[id].style.margin.split(" ");_4.forEach(_5a,function(_62){if(_5b!==""){_5b+=" ";}_62=parseFloat(_62);_5b+=(_62/_58*_50+"px");});es(_57[id],{left:_60+"px",top:_61+"px",margin:_59!==1?_5b:"",width:_5e+"px",height:_5f+"px"});});}this._previousScale=_50;},_updateImages:function(_63){if(!this._ct){return;}var id,_64=this._tileW,_65=this._tileH,_66=this._ct,lod=_66.lod,_67=_66.tile,off=_67.offsets,_68=_67.coords,cr=_68.row,cc=_68.col,_69=lod.level,_6a=this.opacity,_6b=this._tileIds,_6c=this._loadingList,_6d=this._addImage,mId=this._map.id,tId=this.id,rx=_63.x,ry=_63.y,str=lod.startTileRow,etr=lod.endTileRow,stc=lod.startTileCol,etc=lod.endTileCol,_6e=_4.indexOf,r,c,mvx=-_63.x,mvy=-_63.y,_6f=off.x-this.__coords_dx,_70=off.y-this.__coords_dy,vx=((_64-_6f)+mvx),vy=((_65-_70)+mvy),_71=Math.ceil,_72=(vx>0)?(vx%_64):((_64-(Math.abs(vx)%_64))),_73=(vy>0)?(vy%_65):((_65-(Math.abs(vy)%_65))),_74=(rx>0)?Math.floor((rx+_6f)/_64):_71((rx-(_64-_6f))/_64),_75=(ry>0)?Math.floor((ry+_70)/_65):_71((ry-(_65-_70))/_65),_76=_74+_71((_63.width-_72)/_64),_77=_75+_71((_63.height-_73)/_65),_78,_79,_7a,_7b,col,row;if(this._wrap){_78=lod._frameInfo;_79=_78[0];_7a=_78[1];_7b=_78[2];}for(col=_74;col<=_76;col++){for(row=_75;row<=_77;row++){r=cr+row;c=cc+col;if(this._wrap){if(c<_7a){c=c%_79;c=c<_7a?c+_79:c;}else{if(c>_7b){c=c%_79;}}}if(r>=str&&r<=etr&&c>=stc&&c<=etc){id=mId+"_"+tId+"_tile_"+_69+"_"+row+"_"+col;if(_6e(_6b,id)===-1){_6c.add(id);_6b.push(id);_6d(_69,row,r,col,c,id,_64,_65,_6a,_67,off);}}}}},_cleanUpRemovedImages:function(){var _7c=this._removeList,dd=_6.destroy,i,_7d=_c._css.names;_7c.forEach(function(img){if(!img._fadeOut){img.style.filter="";img.style.zoom=1;dd(img);}});if(this._map.navigationMode==="css-transforms"){for(i=this._passives.length-1;i>=0;i--){var _7e=this._passives[i];if(_7e.childNodes.length===0){this._passives.splice(i,1);dd(_7e);}else{if(this._map.fadeOnZoom&&!_7e._marked&&(_7e._remove===_7e.childNodes.length)){_9.set(_7e,_7d.transition,"opacity 0.65s");_9.set(_7e,"opacity",0);_7e._marked=1;if(_e("ie")>=10){_7e.addEventListener(_7d.endEvent,this._transitionEnd,false);}else{_7e._endHandle=_2.connect(_7e,_7d.endEvent,this._transitionEnd);}}}}}_7c.clear();},_transitionEnd:function(evt){var _7f=evt.target,idx;if(evt.propertyName!=="opacity"){return;}if(_e("ie")>=10){_7f.removeEventListener(_c._css.names.endEvent,this._transitionEnd,false);}else{_2.disconnect(_7f._endHandle);_7f._endHandle=null;}idx=_4.indexOf(this._passives,_7f);if(idx>-1){this._passives.splice(idx,1);}if(_7f.parentNode){_7f.parentNode.removeChild(_7f);}_6.destroy(_7f);},_addImage:function(_80,row,r,col,c,id,_81,_82,_83,_84,_85){if(this._patchIE){var div=(this._tiles[id]=_6.create("div"));div.id=id;_7.add(div,"layerTile");_9.set(div,{left:((_81*col)-_85.x)+"px",top:((_82*row)-_85.y)+"px",width:_81+"px",height:_82+"px",filter:"progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+this.getTileUrl(_80,r,c)+"', sizingMethod='scale')"});if(_83<1){_9.set(div,"opacity",_83);}var _86=div.appendChild(_6.create("div"));_9.set(_86,{opacity:0,width:_81+"px",height:_82+"px"});this._div.appendChild(div);div=null;this._loadingList.remove(id);this._fireOnUpdateEvent();}else{var img=(this._tiles[id]=_6.create("img")),dc=_2.connect;img.id=id;_7.add(img,"layerTile");var _87=(_81*col)-_85.x,top=(_82*row)-_85.y,map=this._map,_88=_c._css.names,css={width:_81+"px",height:_82+"px",visibility:"hidden"};if(map.navigationMode==="css-transforms"){css[_88.transform]=_c._css.translate(_87,top);_9.set(img,css);img._left=_87;img._top=top;}else{css.left=_87+"px";css.top=top+"px";_9.set(img,css);}if(_83<1){_9.set(img,"opacity",_83);}img._onload_connect=dc(img,"onload",this,"_tileLoadHandler");img._onerror_connect=dc(img,"onerror",_3.hitch(this,"_tileErrorHandler",r,c));img._onabort_connect=dc(img,"onabort",this,"_tileAbortHandler");var url=this.getTileUrl(_80,r,c,img);if(url){if(this._failedRequests&&this._failedRequests[url]){_9.set(img,this._failedRequests[url].css);img.src=this._failedRequests[url].src;this._multiple=parseInt(this._failedRequests[url].css.width)/this._tileW;}else{this._multiple=1;img.src=url;}}if(map.navigationMode==="css-transforms"){this._active.appendChild(img);}else{this._div.appendChild(img);}img=null;}},getTileUrl:function(_89,row,col){},refresh:function(){if(!this.suspended){this._onExtentChangeHandler(this._map.extent,null,true,this._map.__LOD);}},_tilePopPop:function(img){var dd=_2.disconnect;dd(img._onload_connect);dd(img._onerror_connect);dd(img._onabort_connect);img._onload_connect=img._onerror_connect=img._onabort_connect=null;this._loadingList.remove(img.id);this._fireOnUpdateEvent();},_tileLoadHandler:function(evt){var img=evt.currentTarget;if(this._noDom){this._standby.push(img);return;}_9.set(img,"visibility","visible");this._tilePopPop(img);},_tileAbortHandler:function(evt){var img=evt.currentTarget;this.onError(new Error("Unable to load tile: "+img.src));_9.set(img,"visibility","hidden");this._tilePopPop(img);},_tileErrorHandler:function(r,c,evt){var img=evt.currentTarget,_8a=new _5(img.src),_8b=_8a.path.split("/"),_8c=parseInt(_8b[_8b.length-3]),_8d=this._ct.lod.level-_8c+1;this._multiple=Math.pow(2,_8d);if(!this._resampling||_8c===this._lowestLevel||this._resamplingTolerance===0||(this._resamplingTolerance&&Math.log(this._multiple)/Math.LN2>this._resamplingTolerance)){this.onError(new Error("Unable to load tile: "+img.src));_9.set(img,"visibility","hidden");this._tilePopPop(img);return;}this._resample(img,r,c);},_resample:function(img,r,c){var _8e=new _5(img.src),_8f=_8e.path.split("/"),_90=this._multiple,_91=parseInt(_8f[_8f.length-3])-1,_92=parseInt(r/_90),_93=parseInt(c/_90),_94=c%_90,_95=r%_90;var _96=this.getTileUrl(_91,_92,_93);var _97=this.getTileUrl(_91+Math.log(_90)/Math.LN2,r,c);var _98="-"+this._tileW*_95+"px",_99="-"+this._tileH*_94+"px",_9a=_98+" 0 0 "+_99,css={width:this._tileW*_90+"px",height:this._tileH*_90+"px",border:"4px",margin:_9a};if(!this._failedRequests){this._failedRequests={};}this._failedRequests[_97]={"src":_96,"css":css};_9.set(img,css);img.src=_96;},_fireOnUpdateEvent:function(){if(this._loadingList.count===0){this._cleanUpRemovedImages();if(this._fireOnUpdate){this._fireOnUpdate=false;this.onUpdate();this._fireUpdateEnd();}}},setOpacity:function(o){if(this.opacity!=o){this.onOpacityChange(this.opacity=o);}},onOpacityChange:function(){},_opacityChangeHandler:function(_9b){var djs=_9.set,i,j,_9c;if(this._map.navigationMode==="css-transforms"){if(this._active){_9c=this._active.childNodes;for(i=_9c.length-1;i>=0;i--){djs(_9c[i],"opacity",_9b);}}for(i=this._passives.length-1;i>=0;i--){_9c=this._passives[i].childNodes;for(j=_9c.length-1;j>=0;j--){djs(_9c[j],"opacity",_9b);}}return;}_9c=this._div.childNodes;for(i=_9c.length-1;i>=0;i--){djs(_9c[i],"opacity",_9b);}}});if(_e("extend-esri")){_3.setObject("layers.TiledMapServiceLayer",_15,_c);}return _15;});},"esri/geometry/mathUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel","esri/geometry/Point"],function(_9d,has,_9e,_9f){function _a0(pt1,pt2){var dx=pt2.x-pt1.x,dy=pt2.y-pt1.y;return Math.sqrt(dx*dx+dy*dy);};function _a1(pt1,pt2){var dx=pt2[0]-pt1[0],dy=pt2[1]-pt1[1];return Math.sqrt(dx*dx+dy*dy);};function _a2(pt0,pt1,_a3){if(pt0 instanceof _9f){return new _9f(pt0.x+_a3*(pt1.x-pt0.x),pt0.y+_a3*(pt1.y-pt0.y));}else{return [pt0[0]+_a3*(pt1[0]-pt0[0]),pt0[1]+_a3*(pt1[1]-pt0[1])];}};function _a4(pt0,pt1){return _a2(pt0,pt1,0.5);};function _a5(n1,n2){return Math.abs(n1-n2)<1e-8;};function _a6(p0,p1,p2,p3){var _a7=10000000000,x,y,a0=_a5(p0[0],p1[0])?_a7:(p0[1]-p1[1])/(p0[0]-p1[0]),a1=_a5(p2[0],p3[0])?_a7:(p2[1]-p3[1])/(p2[0]-p3[0]),b0=p0[1]-a0*p0[0],b1=p2[1]-a1*p2[0];if(_a5(a0,a1)){if(!_a5(b0,b1)){return null;}else{if(_a5(p0[0],p1[0])){if(Math.min(p0[1],p1[1])<Math.max(p2[1],p3[1])||Math.max(p0[1],p1[1])>Math.min(p2[1],p3[1])){y=(p0[1]+p1[1]+p2[1]+p3[1]-Math.min(p0[1],p1[1],p2[1],p3[1])-Math.max(p0[1],p1[1],p2[1],p3[1]))/2;x=(y-b0)/a0;}else{return null;}}else{if(Math.min(p0[0],p1[0])<Math.max(p2[0],p3[0])||Math.max(p0[0],p1[0])>Math.min(p2[0],p3[0])){x=(p0[0]+p1[0]+p2[0]+p3[0]-Math.min(p0[0],p1[0],p2[0],p3[0])-Math.max(p0[0],p1[0],p2[0],p3[0]))/2;y=a0*x+b0;}else{return null;}}return [x,y];}}if(_a5(a0,_a7)){x=p0[0];y=a1*x+b1;}else{if(_a5(a1,_a7)){x=p2[0];y=a0*x+b0;}else{x=-(b0-b1)/(a0-a1);y=a0*x+b0;}}return [x,y];};function _a8(_a9,_aa,_ab,_ac,sr){var pt=_a6([_a9.x,_a9.y],[_aa.x,_aa.y],[_ab.x,_ab.y],[_ac.x,_ac.y]);if(pt){pt=new _9f(pt[0],pt[1],sr);}return pt;};function _ad(_ae,_af){var p1=_ae[0],p2=_ae[1],p3=_af[0],p4=_af[1],x1=p1[0],y1=p1[1],x2=p2[0],y2=p2[1],x3=p3[0],y3=p3[1],x4=p4[0],y4=p4[1],x43=x4-x3,x13=x1-x3,x21=x2-x1,y43=y4-y3,y13=y1-y3,y21=y2-y1,_b0=(y43*x21)-(x43*y21),ua,ub,px,py;if(_b0===0){return false;}ua=((x43*y13)-(y43*x13))/_b0;ub=((x21*y13)-(y21*x13))/_b0;if(ua>=0&&ua<=1&&ub>=0&&ub<=1){px=x1+(ua*(x2-x1));py=y1+(ua*(y2-y1));return [px,py];}else{return false;}};function _b1(_b2,_b3){var p1=_b3[0],p2=_b3[1],x1=p1[0],y1=p1[1],x2=p2[0],y2=p2[1],x3=_b2[0],y3=_b2[1],x21=x2-x1,y21=y2-y1,x31=x3-x1,y31=y3-y1,_b4=Math.sqrt,pow=Math.pow,mag=_b4(pow(x21,2)+pow(y21,2)),u=((x31*x21)+(y31*y21))/(mag*mag),x=x1+u*x21,y=y1+u*y21;return _b4(pow(x3-x,2)+pow(y3-y,2));};var _b5={getLength:_a0,_getLength:_a1,getPointOnLine:_a2,getMidpoint:_a4,_equals:_a5,_getLineIntersection:_a6,getLineIntersection:_a8,_getLineIntersection2:_ad,_pointLineDistance:_b1};if(has("extend-esri")){_9d.mixin(_9d.getObject("geometry",true,_9e),_b5);}return _b5;});},"dojo/uacss":function(){define(["./dom-geometry","./_base/lang","./ready","./sniff","./_base/window"],function(_b6,_b7,_b8,has,_b9){var _ba=_b9.doc.documentElement,ie=has("ie"),_bb=has("opera"),maj=Math.floor,ff=has("ff"),_bc=_b6.boxModel.replace(/-/,""),_bd={"dj_quirks":has("quirks"),"dj_opera":_bb,"dj_khtml":has("khtml"),"dj_webkit":has("webkit"),"dj_safari":has("safari"),"dj_chrome":has("chrome"),"dj_gecko":has("mozilla")};if(ie){_bd["dj_ie"]=true;_bd["dj_ie"+maj(ie)]=true;_bd["dj_iequirks"]=has("quirks");}if(ff){_bd["dj_ff"+maj(ff)]=true;}_bd["dj_"+_bc]=true;var _be="";for(var clz in _bd){if(_bd[clz]){_be+=clz+" ";}}_ba.className=_b7.trim(_ba.className+" "+_be);_b8(90,function(){if(!_b6.isBodyLtr()){var _bf="dj_rtl dijitRtl "+_be.replace(/ /g,"-rtl ");_ba.className=_b7.trim(_ba.className+" "+_bf+"dj_rtl dijitRtl "+_be.replace(/ /g,"-rtl "));}});return has;});},"esri/symbols/SimpleMarkerSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","dojox/gfx/_base","esri/kernel","esri/lang","esri/symbols/MarkerSymbol","esri/symbols/SimpleLineSymbol"],function(_c0,_c1,_c2,has,_c3,_c4,_c5,_c6,_c7){var _c8={STYLE_CIRCLE:"circle",STYLE_SQUARE:"square",STYLE_CROSS:"cross",STYLE_X:"x",STYLE_DIAMOND:"diamond",STYLE_PATH:"path",STYLE_TARGET:"target"};var _c9={style:_c8.STYLE_CIRCLE,color:[255,255,255,0.25],size:12,angle:0,xoffset:0,yoffset:0};var SMS=_c0(_c6,{declaredClass:"esri.symbol.SimpleMarkerSymbol",type:"simplemarkersymbol",_styles:{circle:"esriSMSCircle",square:"esriSMSSquare",cross:"esriSMSCross",x:"esriSMSX",diamond:"esriSMSDiamond",path:"esriSMSPath"},constructor:function(_ca,_cb,_cc,_cd){if(_ca){if(_c1.isString(_ca)){this.style=_ca;if(_cb){this.size=_cb;}if(_cc){this.outline=_cc;}if(_cd){this.color=_cd;}}else{this.style=_c5.valueOf(this._styles,this.style);if(_ca.outline){this.outline=new _c7(_ca.outline);}}}else{_c1.mixin(this,_c9);this.size=_c3.pt2px(this.size);this.outline=new _c7(this.outline);this.color=new _c2(this.color);}if(!this.style){this.style=_c8.STYLE_CIRCLE;}},setStyle:function(_ce){this.style=_ce;return this;},setPath:function(_cf){this.path=_cf;this.setStyle(_c8.STYLE_PATH);return this;},setOutline:function(_d0){this.outline=_d0;return this;},getStroke:function(){return this.outline&&this.outline.getStroke();},getFill:function(){return this.color;},_setDim:function(_d1,_d2,_d3){this._targetWidth=_d1;this._targetHeight=_d2;this._spikeSize=_d3;},getShapeDescriptors:function(){var _d4,_d5,_d6;var _d7=this.style,_d8=this.size||_c3.pt2px(_c9.size),cx=0,cy=0,_d9=_d8/2,_da=cx-_d9,_db=cx+_d9,top=cy-_d9,_dc=cy+_d9;switch(_d7){case _c8.STYLE_CIRCLE:_d4={type:"circle",cx:cx,cy:cy,r:_d9};_d5=this.getFill();_d6=this.getStroke();if(_d6){_d6.style=_d6.style||"Solid";}break;case _c8.STYLE_CROSS:_d4={type:"path",path:"M "+_da+",0 L "+_db+",0 M 0,"+top+" L 0,"+_dc+" E"};_d5=null;_d6=this.getStroke();break;case _c8.STYLE_DIAMOND:_d4={type:"path",path:"M "+_da+",0 L 0,"+top+" L "+_db+",0 L 0,"+_dc+" L "+_da+",0 E"};_d5=this.getFill();_d6=this.getStroke();break;case _c8.STYLE_SQUARE:_d4={type:"path",path:"M "+_da+","+_dc+" L "+_da+","+top+" L "+_db+","+top+" L "+_db+","+_dc+" L "+_da+","+_dc+" E"};_d5=this.getFill();_d6=this.getStroke();break;case _c8.STYLE_X:_d4={type:"path",path:"M "+_da+","+_dc+" L "+_db+","+top+" M "+_da+","+top+" L "+_db+","+_dc+" E"};_d5=null;_d6=this.getStroke();break;case _c8.STYLE_PATH:_d4={type:"path",path:this.path||""};_d5=this.getFill();_d6=this.getStroke();break;}return {defaultShape:_d4,fill:_d5,stroke:_d6};},toJson:function(){var _dd=_c1.mixin(this.inherited("toJson",arguments),{type:"esriSMS",style:this._styles[this.style]}),_de=this.outline;if(_de){_dd.outline=_de.toJson();}_dd.path=this.path;return _c5.fixJson(_dd);}});_c1.mixin(SMS,_c8);SMS.defaultProps=_c9;if(has("extend-esri")){_c1.setObject("symbol.SimpleMarkerSymbol",SMS,_c4);_c4.symbol.defaultSimpleMarkerSymbol=_c9;}return SMS;});},"esri/layers/agstiled":function(){define(["esri/layers/agscommon","esri/layers/ArcGISTiledMapServiceLayer"],function(){return {};});},"esri/geometry/ScreenPoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/geometry/Point"],function(_df,_e0,has,_e1,_e2){var _e3=_df(_e2,{declaredClass:"esri.geometry.ScreenPoint",verifySR:function(){}});if(has("extend-esri")){_e0.setObject("geometry.ScreenPoint",_e3,_e1);}return _e3;});},"esri/sniff":function(){define(["dojo/_base/sniff","esri/kernel"],function(has,_e4){var _e5=has("ff"),_e6=has("ie"),_e7=has("webkit"),_e8=has("opera"),_e9=has("chrome"),_ea=has("safari");var nua=navigator.userAgent,_eb;_eb=nua.match(/(iPhone|iPad|CPU)\s+OS\s+(\d+\_\d+)/i);if(_eb){has.add("esri-iphone",parseFloat(_eb[2].replace("_",".")));}_eb=nua.match(/Android\s+(\d+\.\d+)/i);if(_eb){has.add("esri-android",parseFloat(_eb[1]));}_eb=nua.match(/Fennec\/(\d+\.\d+)/i);if(_eb){has.add("esri-fennec",parseFloat(_eb[1]));}if(nua.indexOf("BlackBerry")>=0){if(nua.indexOf("WebKit")>=0){has.add("esri-blackberry",1);}}has.add("esri-touch",(has("esri-iphone")||has("esri-android")||has("esri-blackberry")||(has("esri-fennec")>=6)||((_e5||_e7)&&document.createTouch))?true:false);has.add("esri-pointer",navigator.pointerEnabled||navigator.msPointerEnabled);_e4._getDOMAccessor=function(_ec){var _ed="";if(_e5){_ed="Moz";}else{if(_e7){_ed="Webkit";}else{if(_e6){_ed="ms";}else{if(_e8){_ed="O";}}}}return _ed+_ec.charAt(0).toUpperCase()+_ec.substr(1);};has.add("esri-cors",_e9>=4||_e5>=3.5||_ea>=4||_e6>=10);has.add("esri-file-upload",(window.FormData&&window.FileList)?true:false);has.add("esri-transforms",_e6>=9||_e5>=3.5||_e9>=4||_ea>=3.1||_e8>=10.5||has("esri-iphone")>=3.2||has("esri-android")>=2.1);has.add("esri-transitions",_e6>=10||_e5>=4||_e9>=4||_ea>=3.1||_e8>=10.5||has("esri-iphone")>=3.2||has("esri-android")>=2.1);has.add("esri-transforms3d",_e6>=11||_e5>=10||_e9>=12||_ea>=4||has("esri-iphone")>=3.2||has("esri-android")>=3);if(has("esri-android")<3){has.add("esri-transforms",false,false,true);has.add("esri-transitions",false,false,true);has.add("esri-transforms3d",false,false,true);}_e4._css=function(_ee){var _ef=has("esri-transforms3d");if(_ee!==undefined&&_ee!==null){_ef=_ee;}else{if(_ef){if(_e9||(_ea&&!has("esri-iphone"))){_ef=false;}}}var _f0=_ef?"translate3d(":"translate(",_f1=_ef?(_e9?",-1px)":",0px)"):")",_f2=_ef?"scale3d(":"scale(",_f3=_ef?",1)":")",_f4=_ef?"rotate3d(0,0,1,":"rotate(",_f5=_ef?"matrix3d(":"matrix(",_f6=_ef?",0,0,":",",_f7=_ef?",0,0,0,0,1,0,":",",_f8=_ef?",0,1)":")";return {names:{transition:(_e7&&"-webkit-transition")||(_e5&&"MozTransition")||(_e8&&"OTransition")||(_e6&&"msTransition"),transform:(_e7&&"-webkit-transform")||(_e5&&"MozTransform")||(_e8&&"OTransform")||(_e6&&"msTransform"),transformName:(_e7&&"-webkit-transform")||(_e5&&"-moz-transform")||(_e8&&"-o-transform")||(_e6&&"-ms-transform"),origin:(_e7&&"-webkit-transform-origin")||(_e5&&"MozTransformOrigin")||(_e8&&"OTransformOrigin")||(_e6&&"msTransformOrigin"),endEvent:(_e7&&"webkitTransitionEnd")||(_e5&&"transitionend")||(_e8&&"oTransitionEnd")||(_e6&&"MSTransitionEnd")},translate:function(x,y){return _f0+x+"px,"+y+"px"+_f1;},scale:function(_f9){return _f2+_f9+","+_f9+_f3;},rotate:function(_fa){return _f4+_fa+"deg)";},matrix:function(m){return _f5+m.xx+","+m.xy+_f6+m.yx+","+m.yy+_f7+m.dx.toFixed(10)+(_e5?"px,":",")+m.dy.toFixed(10)+(_e5?"px":"")+_f8;}};};if(has("extend-esri")){_e4.isiPhone=has("esri-iphone");_e4.isAndroid=has("esri-android");_e4.isFennec=has("esri-fennec");_e4.isBlackBerry=has("esri-blackberry");_e4.isTouchEnabled=has("esri-touch");_e4.isPointerEnabled=has("esri-pointer");_e4._hasCors=has("esri-cors");_e4._hasFileUpload=has("esri-file-upload");_e4._hasTransforms=has("esri-transforms");_e4._hasTransitions=has("esri-transitions");_e4._has3DTransforms=has("esri-transforms3d");}return has;});},"esri/layers/Field":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/layers/RangeDomain","esri/layers/CodedValueDomain"],function(_fb,_fc,has,_fd,_fe,_ff){var _100=_fb(null,{declaredClass:"esri.layers.Field",constructor:function(json){if(json&&_fc.isObject(json)){this.name=json.name;this.type=json.type;this.alias=json.alias;this.length=json.length;this.editable=json.editable;this.nullable=json.nullable;var _101=json.domain;if(_101&&_fc.isObject(_101)){switch(_101.type){case "range":this.domain=new _fe(_101);break;case "codedValue":this.domain=new _ff(_101);break;}}}}});if(has("extend-esri")){_fc.setObject("layers.Field",_100,_fd);}return _100;});},"esri/kernel":function(){define(["dojo/_base/kernel","dojo/_base/config","dojo/has"],function(_102,_103,has){var _104=window.location,_105=_104.pathname,_106={version:3.6,_appBaseUrl:_104.protocol+"//"+_104.host+_105.substring(0,_105.lastIndexOf(_105.split("/")[_105.split("/").length-1]))};if(!_103.noGlobals){window.esri=_106;}if(!_102.isAsync){has.add("extend-esri",1);}var _107=_106.dijit=(_106.dijit||{});_107._arcgisUrl=_104.protocol+"//www.arcgis.com/sharing/rest";return _106;});},"esri/symbols/jsonUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/CartographicLineSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/PictureFillSymbol","esri/symbols/TextSymbol"],function(lang,has,_108,_109,_10a,_10b,_10c,_10d,_10e,_10f){var _110={fromJson:function(json){var type=json.type,_111=null;switch(type.substring(0,"esriXX".length)){case "esriSM":_111=new _109(json);break;case "esriPM":_111=new _10a(json);break;case "esriTS":_111=new _10f(json);break;case "esriSL":if(json.cap!==undefined){_111=new _10c(json);}else{_111=new _10b(json);}break;case "esriSF":_111=new _10d(json);break;case "esriPF":_111=new _10e(json);break;}return _111;},getShapeDescriptors:function(_112){return (_112&&_112.getShapeDescriptors)?_112.getShapeDescriptors():{defaultShape:null,fill:null,stroke:null};}};if(has("extend-esri")){lang.mixin(lang.getObject("symbol",true,_108),_110);}return _110;});},"dojox/gfx/matrix":function(){define("dojox/gfx/matrix",["./_base","dojo/_base/lang"],function(g,lang){var m=g.matrix={};var _113={};m._degToRad=function(_114){return _113[_114]||(_113[_114]=(Math.PI*_114/180));};m._radToDeg=function(_115){return _115/Math.PI*180;};m.Matrix2D=function(arg){if(arg){if(typeof arg=="number"){this.xx=this.yy=arg;}else{if(arg instanceof Array){if(arg.length>0){var _116=m.normalize(arg[0]);for(var i=1;i<arg.length;++i){var l=_116,r=m.normalize(arg[i]);_116=new m.Matrix2D();_116.xx=l.xx*r.xx+l.xy*r.yx;_116.xy=l.xx*r.xy+l.xy*r.yy;_116.yx=l.yx*r.xx+l.yy*r.yx;_116.yy=l.yx*r.xy+l.yy*r.yy;_116.dx=l.xx*r.dx+l.xy*r.dy+l.dx;_116.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}lang.mixin(this,_116);}}else{lang.mixin(this,arg);}}}};lang.extend(m.Matrix2D,{xx:1,xy:0,yx:0,yy:1,dx:0,dy:0});lang.mixin(m,{identity:new m.Matrix2D(),flipX:new m.Matrix2D({xx:-1}),flipY:new m.Matrix2D({yy:-1}),flipXY:new m.Matrix2D({xx:-1,yy:-1}),translate:function(a,b){if(arguments.length>1){return new m.Matrix2D({dx:a,dy:b});}return new m.Matrix2D({dx:a.x,dy:a.y});},scale:function(a,b){if(arguments.length>1){return new m.Matrix2D({xx:a,yy:b});}if(typeof a=="number"){return new m.Matrix2D({xx:a,yy:a});}return new m.Matrix2D({xx:a.x,yy:a.y});},rotate:function(_117){var c=Math.cos(_117);var s=Math.sin(_117);return new m.Matrix2D({xx:c,xy:-s,yx:s,yy:c});},rotateg:function(_118){return m.rotate(m._degToRad(_118));},skewX:function(_119){return new m.Matrix2D({xy:Math.tan(_119)});},skewXg:function(_11a){return m.skewX(m._degToRad(_11a));},skewY:function(_11b){return new m.Matrix2D({yx:Math.tan(_11b)});},skewYg:function(_11c){return m.skewY(m._degToRad(_11c));},reflect:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=2*a*b/n2;return new m.Matrix2D({xx:2*a2/n2-1,xy:xy,yx:xy,yy:2*b2/n2-1});},project:function(a,b){if(arguments.length==1){b=a.y;a=a.x;}var a2=a*a,b2=b*b,n2=a2+b2,xy=a*b/n2;return new m.Matrix2D({xx:a2/n2,xy:xy,yx:xy,yy:b2/n2});},normalize:function(_11d){return (_11d instanceof m.Matrix2D)?_11d:new m.Matrix2D(_11d);},isIdentity:function(_11e){return _11e.xx==1&&_11e.xy==0&&_11e.yx==0&&_11e.yy==1&&_11e.dx==0&&_11e.dy==0;},clone:function(_11f){var obj=new m.Matrix2D();for(var i in _11f){if(typeof (_11f[i])=="number"&&typeof (obj[i])=="number"&&obj[i]!=_11f[i]){obj[i]=_11f[i];}}return obj;},invert:function(_120){var M=m.normalize(_120),D=M.xx*M.yy-M.xy*M.yx;M=new m.Matrix2D({xx:M.yy/D,xy:-M.xy/D,yx:-M.yx/D,yy:M.xx/D,dx:(M.xy*M.dy-M.yy*M.dx)/D,dy:(M.yx*M.dx-M.xx*M.dy)/D});return M;},_multiplyPoint:function(_121,x,y){return {x:_121.xx*x+_121.xy*y+_121.dx,y:_121.yx*x+_121.yy*y+_121.dy};},multiplyPoint:function(_122,a,b){var M=m.normalize(_122);if(typeof a=="number"&&typeof b=="number"){return m._multiplyPoint(M,a,b);}return m._multiplyPoint(M,a.x,a.y);},multiplyRectangle:function(_123,rect){var M=m.normalize(_123);rect=rect||{x:0,y:0,width:0,height:0};if(m.isIdentity(M)){return {x:rect.x,y:rect.y,width:rect.width,height:rect.height};}var p0=m.multiplyPoint(M,rect.x,rect.y),p1=m.multiplyPoint(M,rect.x,rect.y+rect.height),p2=m.multiplyPoint(M,rect.x+rect.width,rect.y),p3=m.multiplyPoint(M,rect.x+rect.width,rect.y+rect.height),minx=Math.min(p0.x,p1.x,p2.x,p3.x),miny=Math.min(p0.y,p1.y,p2.y,p3.y),maxx=Math.max(p0.x,p1.x,p2.x,p3.x),maxy=Math.max(p0.y,p1.y,p2.y,p3.y);return {x:minx,y:miny,width:maxx-minx,height:maxy-miny};},multiply:function(_124){var M=m.normalize(_124);for(var i=1;i<arguments.length;++i){var l=M,r=m.normalize(arguments[i]);M=new m.Matrix2D();M.xx=l.xx*r.xx+l.xy*r.yx;M.xy=l.xx*r.xy+l.xy*r.yy;M.yx=l.yx*r.xx+l.yy*r.yx;M.yy=l.yx*r.xy+l.yy*r.yy;M.dx=l.xx*r.dx+l.xy*r.dy+l.dx;M.dy=l.yx*r.dx+l.yy*r.dy+l.dy;}return M;},_sandwich:function(_125,x,y){return m.multiply(m.translate(x,y),_125,m.translate(-x,-y));},scaleAt:function(a,b,c,d){switch(arguments.length){case 4:return m._sandwich(m.scale(a,b),c,d);case 3:if(typeof c=="number"){return m._sandwich(m.scale(a),b,c);}return m._sandwich(m.scale(a,b),c.x,c.y);}return m._sandwich(m.scale(a),b.x,b.y);},rotateAt:function(_126,a,b){if(arguments.length>2){return m._sandwich(m.rotate(_126),a,b);}return m._sandwich(m.rotate(_126),a.x,a.y);},rotategAt:function(_127,a,b){if(arguments.length>2){return m._sandwich(m.rotateg(_127),a,b);}return m._sandwich(m.rotateg(_127),a.x,a.y);},skewXAt:function(_128,a,b){if(arguments.length>2){return m._sandwich(m.skewX(_128),a,b);}return m._sandwich(m.skewX(_128),a.x,a.y);},skewXgAt:function(_129,a,b){if(arguments.length>2){return m._sandwich(m.skewXg(_129),a,b);}return m._sandwich(m.skewXg(_129),a.x,a.y);},skewYAt:function(_12a,a,b){if(arguments.length>2){return m._sandwich(m.skewY(_12a),a,b);}return m._sandwich(m.skewY(_12a),a.x,a.y);},skewYgAt:function(_12b,a,b){if(arguments.length>2){return m._sandwich(m.skewYg(_12b),a,b);}return m._sandwich(m.skewYg(_12b),a.x,a.y);}});g.Matrix2D=m.Matrix2D;return m;});},"esri/renderers/SymbolAger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(_12c,lang,has,_12d){var _12e=_12c(null,{declaredClass:"esri.renderer.SymbolAger",getAgedSymbol:function(_12f,_130){},_setSymbolSize:function(_131,size){switch(_131.type){case "simplemarkersymbol":_131.setSize(size);break;case "picturemarkersymbol":_131.setWidth(size);_131.setHeight(size);break;case "simplelinesymbol":case "cartographiclinesymbol":_131.setWidth(size);break;case "simplefillsymbol":case "picturefillsymbol":if(_131.outline){_131.outline.setWidth(size);}break;}}});if(has("extend-esri")){lang.setObject("renderer.SymbolAger",_12e,_12d);}return _12e;});},"esri/geometry/normalizeUtils":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/_base/Deferred","dojo/has","esri/kernel","esri/config","esri/deferredUtils","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/webMercatorUtils","esri/geometry/jsonUtils"],function(_132,lang,_133,has,_134,_135,_136,_137,_138,_139,_13a){function _13b(_13c,_13d){return Math.ceil((_13c-_13d)/(_13d*2));};function _13e(_13f,_140){var _141=_13f.paths||_13f.rings,i,j,il=_141.length,jl;for(i=0;i<il;i++){var _142=_141[i];jl=_142.length;for(j=0;j<jl;j++){var _143=_13f.getPoint(i,j);_13f.setPoint(i,j,_143.offset(_140,0));}}return _13f;};function _144(geom,_145){if(!(geom instanceof _137||geom instanceof _138)){var msg="_straightLineDensify: the input geometry is neither polyline nor polygon";console.error(msg);throw new Error(msg);}var _146=geom instanceof _137,_147=_146?geom.paths:geom.rings,_148=[],_149;_132.forEach(_147,function(ring){_148.push(_149=[]);_149.push([ring[0][0],ring[0][1]]);var x1,y1,x2,y2;var i,j,_14a,_14b,_14c,_14d,xj,yj;for(i=0;i<ring.length-1;i++){x1=ring[i][0];y1=ring[i][1];x2=ring[i+1][0];y2=ring[i+1][1];_14a=Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));_14b=(y2-y1)/_14a;_14c=(x2-x1)/_14a;_14d=_14a/_145;if(_14d>1){for(j=1;j<=_14d-1;j++){var _14e=j*_145;xj=_14c*_14e+x1;yj=_14b*_14e+y1;_149.push([xj,yj]);}var _14f=(_14a+Math.floor(_14d-1)*_145)/2;xj=_14c*_14f+x1;yj=_14b*_14f+y1;_149.push([xj,yj]);}_149.push([x2,y2]);}});if(_146){return new _137({paths:_148,spatialReference:geom.spatialReference});}else{return new _138({rings:_148,spatialReference:geom.spatialReference});}};function _150(_151,_152,_153){var _154=1000000;if(_152){var _155=_144(_151,_154);_151=_139.webMercatorToGeographic(_155,true);}if(_153){_151=_13e(_151,_153);}return _151;};function _156(_157,maxX,minX){var _158=_157.x||_157[0];var _159;if(_158>maxX){_159=_13b(_158,maxX);if(_157.x){_157=_157.offset(_159*(-2*maxX),0);}else{_157[0]=_158+(_159*(-2*maxX));}}else{if(_158<minX){_159=_13b(_158,minX);if(_157.x){_157=_157.offset(_159*(-2*minX),0);}else{_157[0]=_158+(_159*(-2*minX));}}}return _157;};function _15a(_15b,_15c){var _15d=-1;_132.forEach(_15c.cutIndexes,function(_15e,i){var _15f=_15c.geometries[i];var _160=_15f.rings||_15f.paths;_132.forEach(_160,function(_161,_162){_132.some(_161,function(_163){if(_163[0]<180){return true;}else{var _164=0,j,jl=_161.length,ptX;for(j=0;j<jl;j++){ptX=_161[j][0];_164=ptX>_164?ptX:_164;}var _165=_13b(_164,180),_166=_165*-360,_167,_168=_161.length;for(_167=0;_167<_168;_167++){var _169=_15f.getPoint(_162,_167);_15f.setPoint(_162,_167,_169.offset(_166,0));}return true;}});});if(_15e===_15d){if(_15f.rings){_132.forEach(_15f.rings,function(ring,j){_15b[_15e]=_15b[_15e].addRing(ring);});}else{_132.forEach(_15f.paths,function(path,j){_15b[_15e]=_15b[_15e].addPath(path);});}}else{_15d=_15e;_15b[_15e]=_15f;}});return _15b;};function _16a(_16b,_16c,_16d,_16e){var dfd=new _133();dfd.addCallbacks(_16d,_16e);var _16f=[],_170=[],_171,info,_172,maxX,minX,wkid,_173,_174,_175=0;_132.forEach(_16b,function(_176){if(!_176){_16f.push(_176);return;}if(!_171){_171=_176.spatialReference;info=_171._getInfo();_172=_171._isWebMercator();maxX=_172?20037508.342788905:180;minX=_172?-20037508.342788905:-180;wkid=_172?102100:4326;_173=new _137({"paths":[[[maxX,minX],[maxX,maxX]]],"spatialReference":{"wkid":wkid}});_174=new _137({"paths":[[[minX,minX],[minX,maxX]]],"spatialReference":{"wkid":wkid}});}if(!info){_16f.push(_176);return;}var _177=_13a.fromJson(_176.toJson()),_178=_176.getExtent();if(_176.type==="point"){_16f.push(_156(_177,maxX,minX));}else{if(_176.type==="multipoint"){_177.points=_132.map(_177.points,function(_179){return _156(_179,maxX,minX);});_16f.push(_177);}else{if(_176.type==="extent"){var _17a=_178._normalize(null,null,info);_16f.push(_17a.rings?new _138(_17a):_17a);}else{var _17b=_13b(_178.xmin,minX),_17c=_17b*(2*maxX);_177=(_17c===0)?_177:_13e(_177,_17c);_178=_178.offset(_17c,0);if(_178.intersects(_173)&&(_178.xmax!==maxX)){_175=(_178.xmax>_175)?_178.xmax:_175;_177=_150(_177,_172);_170.push(_177);_16f.push("cut");}else{if(_178.intersects(_174)&&(_178.xmin!==minX)){_175=(_178.xmax*(2*maxX)>_175)?_178.xmax*(2*maxX):_175;_177=_150(_177,_172,360);_170.push(_177);_16f.push("cut");}else{_16f.push(_177);}}}}}});var _17d=new _137(),_17e=_13b(_175,maxX),_17f=-90,_180=_17e;while(_17e>0){var _181=-180+(360*_17e);_17d.addPath([[_181,_17f],[_181,_17f*-1]]);_17f=_17f*-1;_17e--;}if(_170.length>0&&_180>0){if(_16c){_16c.cut(_170,_17d,function(_182){_170=_15a(_170,_182);var _183=[];_132.forEach(_16f,function(_184,i){if(_184==="cut"){var _185=_170.shift();if((_16b[i].rings)&&(_16b[i].rings.length>1)&&(_185.rings.length>=_16b[i].rings.length)){_16f[i]="simplify";_183.push(_185);}else{_16f[i]=(_172===true)?_139.geographicToWebMercator(_185):_185;}}});if(_183.length>0){_16c.simplify(_183,function(_186){_132.forEach(_16f,function(_187,i){if(_187==="simplify"){_16f[i]=(_172===true)?_139.geographicToWebMercator(_186.shift()):_186.shift();}});dfd.callback(_16f);},function(_188){dfd.errback(_188);});}else{dfd.callback(_16f);}},function(_189){dfd.errback(_189);});}else{dfd.errback(new Error("esri.geometry.normalizeCentralMeridian: 'geometryService' argument is missing."));}}else{_132.forEach(_16f,function(_18a,i){if(_18a==="cut"){var _18b=_170.shift();_16f[i]=(_172===true)?_139.geographicToWebMercator(_18b):_18b;}});dfd.callback(_16f);}return dfd;};function _18c(_18d,_18e,_18f,_190){var flag=false,_191;if(lang.isObject(_18d)&&_18d){if(lang.isArray(_18d)){if(_18d.length){_191=_18d[0]&&_18d[0].declaredClass;if(_191&&_191.indexOf("Graphic")!==-1){_18d=_132.map(_18d,function(_192){return _192.geometry;});flag=_18d.length?true:false;}else{if(_191&&_191.indexOf("esri.geometry.")!==-1){flag=true;}}}}else{_191=_18d.declaredClass;if(_191&&_191.indexOf("FeatureSet")!==-1){_18d=_132.map(_18d.features||[],function(_193){return _193.geometry;});flag=_18d.length?true:false;}else{if(_191&&_191.indexOf("esri.geometry.")!==-1){flag=true;}}}}if(flag){_18e.push({index:_18f,property:_190,value:_18d});}};function _194(_195,_196){var _197=[];_132.forEach(_196,function(_198){var _199=_198.i,arg=_195[_199],_19a=_198.p,prop;if(!lang.isObject(arg)||!arg){return;}if(_19a){if(_19a[0]==="*"){for(prop in arg){if(arg.hasOwnProperty(prop)){_18c(arg[prop],_197,_199,prop);}}}else{_132.forEach(_19a,function(prop){_18c(lang.getObject(prop,false,arg),_197,_199,prop);});}}else{_18c(arg,_197,_199);}});return _197;};function _19b(_19c,_19d){var idx=0,_19e={};_132.forEach(_19d,function(comp){var _19f=comp.index,_1a0=comp.property,_1a1=comp.value,len=_1a1.length||1;var _1a2=_19c.slice(idx,idx+len);if(!lang.isArray(_1a1)){_1a2=_1a2[0];}idx+=len;delete comp.value;if(_1a0){_19e[_19f]=_19e[_19f]||{};_19e[_19f][_1a0]=_1a2;}else{_19e[_19f]=_1a2;}});return _19e;};function _1a3(_1a4){var _1a5=(lang.isObject(_1a4))?_1a4.prototype:lang.getObject(_1a4+".prototype");_132.forEach(_1a5.__msigns,function(sig){var _1a6=_1a5[sig.n];_1a5[sig.n]=function(){var self=this,_1a7=[],i,_1a8=new _133(_136._dfdCanceller);if(sig.f){_136._fixDfd(_1a8);}for(i=0;i<sig.c;i++){_1a7[i]=arguments[i];}var _1a9={dfd:_1a8};_1a7.push(_1a9);var _1aa,_1ab=[],_1ac;if(self.normalization&&!self._isTable){_1aa=_194(_1a7,sig.a);_132.forEach(_1aa,function(comp){_1ab=_1ab.concat(comp.value);});if(_1ab.length){_1ac=_16a(_1ab,_135.defaults.geometryService);}}if(_1ac){_1a8._pendingDfd=_1ac;_1ac.addCallbacks(function(_1ad){if(_1a8.canceled){return;}_1a9.assembly=_19b(_1ad,_1aa);_1a8._pendingDfd=_1a6.apply(self,_1a7);},function(err){var _1ae=self.declaredClass;if(_1ae&&_1ae.indexOf("FeatureLayer")!==-1){self._resolve([err],null,_1a7[sig.e],_1a8,true);}else{self._errorHandler(err,_1a7[sig.e],_1a8);}});}else{_1a8._pendingDfd=_1a6.apply(self,_1a7);}return _1a8;};});};var _1af={normalizeCentralMeridian:_16a,_foldCutResults:_15a,_prepareGeometryForCut:_150,_offsetMagnitude:_13b,_pointNormalization:_156,_updatePolyGeometry:_13e,_straightLineDensify:_144,_createWrappers:_1a3,_disassemble:_194,_addToBucket:_18c,_reassemble:_19b};if(has("extend-esri")){lang.mixin(lang.getObject("geometry",true,_134),_1af);}return _1af;});},"dojo/request/iframe":function(){define(["module","require","./watch","./util","./handlers","../_base/lang","../io-query","../query","../has","../dom","../dom-construct","../_base/window"],function(_1b0,_1b1,_1b2,util,_1b3,lang,_1b4,_1b5,has,dom,_1b6,win){var mid=_1b0.id.replace(/[\/\.\-]/g,"_"),_1b7=mid+"_onload";if(!win.global[_1b7]){win.global[_1b7]=function(){var dfd=_1b8._currentDfd;if(!dfd){_1b8._fireNextRequest();return;}var _1b9=dfd.response,_1ba=_1b9.options,_1bb=dom.byId(_1ba.form)||dfd._tmpForm;if(_1bb){var _1bc=dfd._contentToClean;for(var i=0;i<_1bc.length;i++){var key=_1bc[i];for(var j=0;j<_1bb.childNodes.length;j++){var _1bd=_1bb.childNodes[j];if(_1bd.name===key){_1b6.destroy(_1bd);break;}}}dfd._originalAction&&_1bb.setAttribute("action",dfd._originalAction);if(dfd._originalMethod){_1bb.setAttribute("method",dfd._originalMethod);_1bb.method=dfd._originalMethod;}if(dfd._originalTarget){_1bb.setAttribute("target",dfd._originalTarget);_1bb.target=dfd._originalTarget;}}if(dfd._tmpForm){_1b6.destroy(dfd._tmpForm);delete dfd._tmpForm;}dfd._finished=true;};}function _1be(name,_1bf,uri){if(win.global[name]){return win.global[name];}if(win.global.frames[name]){return win.global.frames[name];}if(!uri){if(has("config-useXDomain")&&!has("config-dojoBlankHtmlUrl")){console.warn("dojo/request/iframe: When using cross-domain Dojo builds,"+" please save dojo/resources/blank.html to your domain and set dojoConfig.dojoBlankHtmlUrl"+" to the path on your domain to blank.html");}uri=(has("config-dojoBlankHtmlUrl")||_1b1.toUrl("dojo/resources/blank.html"));}var _1c0=_1b6.place("<iframe id=\""+name+"\" name=\""+name+"\" src=\""+uri+"\" onload=\""+_1bf+"\" style=\"position: absolute; left: 1px; top: 1px; height: 1px; width: 1px; visibility: hidden\">",win.body());win.global[name]=_1c0;return _1c0;};function _1c1(_1c2,src,_1c3){var _1c4=win.global.frames[_1c2.name];if(_1c4.contentWindow){_1c4=_1c4.contentWindow;}try{if(!_1c3){_1c4.location=src;}else{_1c4.location.replace(src);}}catch(e){console.log("dojo/request/iframe.setSrc: ",e);}};function doc(_1c5){if(_1c5.contentDocument){return _1c5.contentDocument;}var name=_1c5.name;if(name){var _1c6=win.doc.getElementsByTagName("iframe");if(_1c5.document&&_1c6[name].contentWindow&&_1c6[name].contentWindow.document){return _1c6[name].contentWindow.document;}else{if(win.doc.frames[name]&&win.doc.frames[name].document){return win.doc.frames[name].document;}}}return null;};function _1c7(){return _1b6.create("form",{name:mid+"_form",style:{position:"absolute",top:"-1000px",left:"-1000px"}},win.body());};function _1c8(){var dfd;try{if(_1b8._currentDfd||!_1b8._dfdQueue.length){return;}do{dfd=_1b8._currentDfd=_1b8._dfdQueue.shift();}while(dfd&&(dfd.canceled||(dfd.isCanceled&&dfd.isCanceled()))&&_1b8._dfdQueue.length);if(!dfd||dfd.canceled||(dfd.isCanceled&&dfd.isCanceled())){_1b8._currentDfd=null;return;}var _1c9=dfd.response,_1ca=_1c9.options,c2c=dfd._contentToClean=[],_1cb=dom.byId(_1ca.form),_1cc=util.notify,data=_1ca.data||null,_1cd;if(!dfd._legacy&&_1ca.method==="POST"&&!_1cb){_1cb=dfd._tmpForm=_1c7();}else{if(_1ca.method==="GET"&&_1cb&&_1c9.url.indexOf("?")>-1){_1cd=_1c9.url.slice(_1c9.url.indexOf("?")+1);data=lang.mixin(_1b4.queryToObject(_1cd),data);}}if(_1cb){if(!dfd._legacy){var _1ce=_1cb;do{_1ce=_1ce.parentNode;}while(_1ce!==win.doc.documentElement);if(!_1ce){_1cb.style.position="absolute";_1cb.style.left="-1000px";_1cb.style.top="-1000px";win.body().appendChild(_1cb);}if(!_1cb.name){_1cb.name=mid+"_form";}}if(data){var _1cf=function(name,_1d0){_1b6.create("input",{type:"hidden",name:name,value:_1d0},_1cb);c2c.push(name);};for(var x in data){var val=data[x];if(lang.isArray(val)&&val.length>1){for(var i=0;i<val.length;i++){_1cf(x,val[i]);}}else{if(!_1cb[x]){_1cf(x,val);}else{_1cb[x].value=val;}}}}var _1d1=_1cb.getAttributeNode("action"),_1d2=_1cb.getAttributeNode("method"),_1d3=_1cb.getAttributeNode("target");if(_1c9.url){dfd._originalAction=_1d1?_1d1.value:null;if(_1d1){_1d1.value=_1c9.url;}else{_1cb.setAttribute("action",_1c9.url);}}if(!dfd._legacy){dfd._originalMethod=_1d2?_1d2.value:null;if(_1d2){_1d2.value=_1ca.method;}else{_1cb.setAttribute("method",_1ca.method);}}else{if(!_1d2||!_1d2.value){if(mthdNode){mthdNode.value=_1ca.method;}else{fn.setAttribute("method",_1ca.method);}}}dfd._originalTarget=_1d3?_1d3.value:null;if(_1d3){_1d3.value=_1b8._iframeName;}else{_1cb.setAttribute("target",_1b8._iframeName);}_1cb.target=_1b8._iframeName;_1cc&&_1cc.emit("send",_1c9,dfd.promise.cancel);_1b8._notifyStart(_1c9);_1cb.submit();}else{var _1d4="";if(_1c9.options.data){_1d4=_1c9.options.data;if(typeof _1d4!=="string"){_1d4=_1b4.objectToQuery(_1d4);}}var _1d5=_1c9.url+(_1c9.url.indexOf("?")>-1?"&":"?")+_1d4;_1cc&&_1cc.emit("send",_1c9,dfd.promise.cancel);_1b8._notifyStart(_1c9);_1b8.setSrc(_1b8._frame,_1d5,true);}}catch(e){dfd.reject(e);}};function _1d6(_1d7){return !this.isFulfilled();};function _1d8(_1d9){return !!this._finished;};function _1da(_1db,_1dc){if(!_1dc){try{var _1dd=_1db.options,doc=_1b8.doc(_1b8._frame),_1de=_1dd.handleAs;if(_1de!=="html"){if(_1de==="xml"){if(doc.documentElement.tagName.toLowerCase()==="html"){_1b5("a",doc.documentElement).orphan();var _1df=doc.documentElement.innerText;_1df=_1df.replace(/>\s+</g,"><");_1db.text=lang.trim(_1df);}else{_1db.data=doc;}}else{_1db.text=doc.getElementsByTagName("textarea")[0].value;}_1b3(_1db);}else{_1db.data=doc;}}catch(e){_1dc=e;}}if(_1dc){this.reject(_1dc);}else{if(this._finished){this.resolve(_1db);}else{this.reject(new Error("Invalid dojo/request/iframe request state"));}}};function last(_1e0){this._callNext();};var _1e1={method:"POST"};function _1b8(url,_1e2,_1e3){var _1e4=util.parseArgs(url,util.deepCreate(_1e1,_1e2),true);url=_1e4.url;_1e2=_1e4.options;if(_1e2.method!=="GET"&&_1e2.method!=="POST"){throw new Error(_1e2.method+" not supported by dojo/request/iframe");}if(!_1b8._frame){_1b8._frame=_1b8.create(_1b8._iframeName,_1b7+"();");}var dfd=util.deferred(_1e4,null,_1d6,_1d8,_1da,last);dfd._callNext=function(){if(!this._calledNext){this._calledNext=true;_1b8._currentDfd=null;_1b8._fireNextRequest();}};dfd._legacy=_1e3;_1b8._dfdQueue.push(dfd);_1b8._fireNextRequest();_1b2(dfd);return _1e3?dfd:dfd.promise;};_1b8.create=_1be;_1b8.doc=doc;_1b8.setSrc=_1c1;_1b8._iframeName=mid+"_IoIframe";_1b8._notifyStart=function(){};_1b8._dfdQueue=[];_1b8._currentDfd=null;_1b8._fireNextRequest=_1c8;util.addCommonMethods(_1b8,["GET","POST"]);return _1b8;});},"esri/symbols/CartographicLineSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","dojox/gfx/_base","esri/kernel","esri/lang","esri/symbols/SimpleLineSymbol"],function(_1e5,lang,_1e6,has,_1e7,_1e8,_1e9,_1ea){var _1eb={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_INSIDE_FRAME:"insideframe",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot",CAP_BUTT:"butt",CAP_ROUND:"round",CAP_SQUARE:"square",JOIN_MITER:"miter",JOIN_ROUND:"round",JOIN_BEVEL:"bevel"};var _1ec={color:[0,0,0,1],style:_1eb.STYLE_SOLID,width:1,cap:_1eb.CAP_BUTT,join:_1eb.JOIN_MITER,miterLimit:10};var CLS=_1e5(_1ea,{declaredClass:"esri.symbol.CartographicLineSymbol",type:"cartographiclinesymbol",_caps:{butt:"esriLCSButt",round:"esriLCSRound",square:"esriLCSSquare"},_joins:{miter:"esriLJSMiter",round:"esriLJSRound",bevel:"esriLJSBevel"},constructor:function(json,_1ed,_1ee,cap,join,_1ef){if(json){if(lang.isString(json)){this.style=json;if(_1ed){this.color=_1ed;}if(_1ee!==undefined){this.width=_1ee;}if(cap){this.cap=cap;}if(join){this.join=join;}if(_1ef!==undefined){this.miterLimit=_1ef;}}else{this.cap=_1e9.valueOf(this._caps,json.cap);this.join=_1e9.valueOf(this._joins,json.join);this.width=_1e7.pt2px(json.width);this.miterLimit=_1e7.pt2px(json.miterLimit);}}else{lang.mixin(this,_1ec);this.color=new _1e6(this.color);this.width=_1e7.pt2px(this.width);this.miterLimit=_1e7.pt2px(this.miterLimit);}},setCap:function(cap){this.cap=cap;return this;},setJoin:function(join){this.join=join;return this;},setMiterLimit:function(_1f0){this.miterLimit=_1f0;return this;},getStroke:function(){return lang.mixin(this.inherited("getStroke",arguments),{cap:this.cap,join:(this.join===_1eb.JOIN_MITER?this.miterLimit:this.join)});},getFill:function(){return null;},getShapeDescriptors:function(){return {defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()};},toJson:function(){var _1f1=_1e7.px2pt(this.miterLimit);_1f1=isNaN(_1f1)?undefined:_1f1;return _1e9.fixJson(lang.mixin(this.inherited("toJson",arguments),{type:"esriCLS",cap:this._caps[this.cap],join:this._joins[this.join],miterLimit:_1f1}));}});lang.mixin(CLS,_1eb);CLS.defaultProps=_1ec;if(has("extend-esri")){lang.setObject("symbol.CartographicLineSymbol",CLS,_1e8);_1e8.symbol.defaultCartographicLineSymbol=_1ec;}return CLS;});},"dojo/cldr/supplemental":function(){define(["../_base/lang","../i18n"],function(lang,i18n){var _1f2={};lang.setObject("dojo.cldr.supplemental",_1f2);_1f2.getFirstDayOfWeek=function(_1f3){var _1f4={bd:5,mv:5,ae:6,af:6,bh:6,dj:6,dz:6,eg:6,iq:6,ir:6,jo:6,kw:6,ly:6,ma:6,om:6,qa:6,sa:6,sd:6,sy:6,ye:6,ag:0,ar:0,as:0,au:0,br:0,bs:0,bt:0,bw:0,by:0,bz:0,ca:0,cn:0,co:0,dm:0,"do":0,et:0,gt:0,gu:0,hk:0,hn:0,id:0,ie:0,il:0,"in":0,jm:0,jp:0,ke:0,kh:0,kr:0,la:0,mh:0,mm:0,mo:0,mt:0,mx:0,mz:0,ni:0,np:0,nz:0,pa:0,pe:0,ph:0,pk:0,pr:0,py:0,sg:0,sv:0,th:0,tn:0,tt:0,tw:0,um:0,us:0,ve:0,vi:0,ws:0,za:0,zw:0};var _1f5=_1f2._region(_1f3);var dow=_1f4[_1f5];return (dow===undefined)?1:dow;};_1f2._region=function(_1f6){_1f6=i18n.normalizeLocale(_1f6);var tags=_1f6.split("-");var _1f7=tags[1];if(!_1f7){_1f7={de:"de",en:"us",es:"es",fi:"fi",fr:"fr",he:"il",hu:"hu",it:"it",ja:"jp",ko:"kr",nl:"nl",pt:"br",sv:"se",zh:"cn"}[tags[0]];}else{if(_1f7.length==4){_1f7=tags[2];}}return _1f7;};_1f2.getWeekend=function(_1f8){var _1f9={"in":0,af:4,dz:4,ir:4,om:4,sa:4,ye:4,ae:5,bh:5,eg:5,il:5,iq:5,jo:5,kw:5,ly:5,ma:5,qa:5,sd:5,sy:5,tn:5},_1fa={af:5,dz:5,ir:5,om:5,sa:5,ye:5,ae:6,bh:5,eg:6,il:6,iq:6,jo:6,kw:6,ly:6,ma:6,qa:6,sd:6,sy:6,tn:6},_1fb=_1f2._region(_1f8),_1fc=_1f9[_1fb],end=_1fa[_1fb];if(_1fc===undefined){_1fc=6;}if(end===undefined){end=0;}return {start:_1fc,end:end};};return _1f2;});},"esri/geometry/scaleUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel","esri/config","esri/lang","esri/WKIDUnitConversion"],function(lang,has,esri,_1fd,_1fe,_1ff){var _200=39.37,_201=20015077/180,ecd=_1fd.defaults,_202=_1ff;function _203(_204,_205,_206){return (_204&&_205)?((_204.getWidth()/_205)*(_206||_201)*_200*ecd.screenDPI):0;};function _207(_208,_209,wkid,_20a,_20b){var _20c;if(_20b){_20c=wkid;}else{_20c=_202.values[_202[wkid]];}return _208.expand(((_20a*_209)/((_20c||_201)*_200*ecd.screenDPI))/_208.getWidth());};var _20d={getScale:function(map,_20e,wkid){var _20f,_210,wkt;if(arguments.length>1&&(_1fe.isDefined(_20e)&&!_20e.declaredClass)){_20f=map;_210=_20e;_20e=null;}else{_20f=map.extent;_210=map.width;var sr=map.spatialReference;if(sr){wkid=sr.wkid;wkt=sr.wkt;}}var _211;if(wkid){_211=_202.values[_202[wkid]];}else{if(wkt&&(wkt.search(/^PROJCS/i)!==-1)){var _212=/UNIT\[([^\]]+)\]\]$/i.exec(wkt);if(_212&&_212[1]){_211=parseFloat(_212[1].split(",")[1]);}}}return _203(_20e||_20f,_210,_211);},getExtentForScale:function(map,_213,_214){var wkid,wkt,sr=map.spatialReference;if(sr){wkid=sr.wkid;wkt=sr.wkt;}var _215;if(wkid){_215=_202.values[_202[wkid]];}else{if(wkt&&(wkt.search(/^PROJCS/i)!==-1)){var _216=/UNIT\[([^\]]+)\]\]$/i.exec(wkt);if(_216&&_216[1]){_215=parseFloat(_216[1].split(",")[1]);}}}return _207(_214||map.extent,map.width,_215,_213,true);}};if(has("extend-esri")){lang.mixin(lang.getObject("geometry",true,esri),_20d);esri.geometry._getScale=_203;esri.geometry._getExtentForScale=_207;}return _20d;});},"esri/deferredUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel"],function(lang,has,_217){var _218={_dfdCanceller:function(dfd){dfd.canceled=true;var _219=dfd._pendingDfd;if(dfd.fired===-1&&_219&&_219.fired===-1){_219.cancel();}dfd._pendingDfd=null;},_fixDfd:function(dfd){var _21a=dfd.then;dfd.then=function(_21b,b,c){if(_21b){var _21c=_21b;_21b=function(_21d){if(_21d&&_21d._argsArray){return _21c.apply(null,_21d);}return _21c(_21d);};}return _21a.call(this,_21b,b,c);};return dfd;},_resDfd:function(dfd,args,_21e){var _21f=args.length;if(_21f===1){if(_21e){dfd.errback(args[0]);}else{dfd.callback(args[0]);}}else{if(_21f>1){args._argsArray=true;dfd.callback(args);}else{dfd.callback();}}}};if(has("extend-esri")){lang.mixin(_217,_218);}return _218;});},"esri/graphicsUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/has","esri/kernel","esri/geometry/Extent"],function(lang,_220,has,_221,_222){var _223={graphicsExtent:function(_224){var g=_224[0].geometry,_225=g.getExtent(),ext,i,il=_224.length;if(_225===null){_225=new _222(g.x,g.y,g.x,g.y,g.spatialReference);}for(i=1;i<il;i++){ext=(g=_224[i].geometry).getExtent();if(ext===null){ext=new _222(g.x,g.y,g.x,g.y,g.spatialReference);}_225=_225.union(ext);}if(_225.getWidth()<=0&&_225.getHeight()<=0){return null;}return _225;},getGeometries:function(_226){return _220.map(_226,function(_227){return _227.geometry;});},_encodeGraphics:function(_228,_229){var _22a=[],json,enc,norm;_220.forEach(_228,function(g,i){json=g.toJson();enc={};if(json.geometry){norm=_229&&_229[i];enc.geometry=norm&&norm.toJson()||json.geometry;}if(json.attributes){enc.attributes=json.attributes;}_22a[i]=enc;});return _22a;}};if(has("extend-esri")){lang.mixin(_221,_223);}return _223;});},"esri/layers/LayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(_22b,lang,has,_22c,_22d){var _22e=_22b(null,{declaredClass:"esri.layers.LayerInfo",constructor:function(json){lang.mixin(this,json);},toJson:function(){var json={defaultVisibility:this.defaultVisibility,id:this.id,maxScale:this.maxScale,minScale:this.minScale,name:this.name,parentLayerId:this.parentLayerId,subLayerIds:this.subLayerIds};return _22d.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.LayerInfo",_22e,_22c);}return _22e;});},"esri/geometry/jsonUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/Multipoint","esri/geometry/Extent"],function(lang,has,_22f,_230,_231,_232,_233,_234){function _235(json){if(json.x!==undefined&&json.y!==undefined){return new _230(json);}else{if(json.paths!==undefined){return new _231(json);}else{if(json.rings!==undefined){return new _232(json);}else{if(json.points!==undefined){return new _233(json);}else{if(json.xmin!==undefined&&json.ymin!==undefined&&json.xmax!==undefined&&json.ymax!==undefined){return new _234(json);}}}}}};function _236(_237){if(_237 instanceof _230){return "esriGeometryPoint";}else{if(_237 instanceof _231){return "esriGeometryPolyline";}else{if(_237 instanceof _232){return "esriGeometryPolygon";}else{if(_237 instanceof _234){return "esriGeometryEnvelope";}else{if(_237 instanceof _233){return "esriGeometryMultipoint";}}}}}return null;};function _238(_239){if(_239==="esriGeometryPoint"){return _230;}else{if(_239==="esriGeometryPolyline"){return _231;}else{if(_239==="esriGeometryPolygon"){return _232;}else{if(_239==="esriGeometryEnvelope"){return _234;}else{if(_239==="esriGeometryMultipoint"){return _233;}}}}}return null;};var _23a={fromJson:_235,getJsonType:_236,getGeometryType:_238};if(has("extend-esri")){lang.mixin(lang.getObject("geometry",true,_22f),_23a);}return _23a;});},"esri/MapNavigationManager":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/event","dojo/mouse","dojo/keys","esri/kernel","esri/MouseEvents","esri/TouchEvents","esri/PointerEvents","esri/config","esri/sniff","esri/lang","esri/fx","esri/graphic","esri/tileUtils","esri/geometry/ScreenPoint","esri/geometry/Extent","esri/geometry/Rect","esri/geometry/mathUtils","esri/symbols/SimpleFillSymbol"],function(_23b,lang,_23c,_23d,_23e,_23f,keys,_240,_241,_242,_243,_244,has,_245,_246,_247,_248,_249,_24a,Rect,_24b,_24c){var _24d=_23d.connect,_24e=_23d.disconnect,_24f=1,_250=-1,_251=100,_252=10,_253=[keys.NUMPAD_PLUS,61,keys.NUMPAD_MINUS,keys.UP_ARROW,keys.NUMPAD_8,keys.RIGHT_ARROW,keys.NUMPAD_6,keys.DOWN_ARROW,keys.NUMPAD_2,keys.LEFT_ARROW,keys.NUMPAD_4,keys.PAGE_UP,keys.NUMPAD_9,keys.PAGE_DOWN,keys.NUMPAD_3,keys.END,keys.NUMPAD_1,keys.HOME,keys.NUMPAD_7];var _254=_23b(null,{declaredClass:"esri.MapNavigationManager",eventModel:"",constructor:function(map,_255){this.map=map;lang.mixin(this,_255);var node=map.__container;if(has("esri-pointer")){this.pointerEvents=new _243(node,{map:map});this.eventModel="pointer";}else{if(has("esri-touch")){this.touchEvents=new _242(node,{map:map});this.mouseEvents=new _241(node,{map:map});this.eventModel="touch";}else{this.mouseEvents=new _241(node,{map:map});this.eventModel="mouse";}}this._zoomRect=new _247(null,new _24c(_244.defaults.map.zoomSymbol));this._keyDx=this._keyDy=0;this._adjustPinch=lang.hitch(this,this._adjustPinch);this._adjustPinchEnd=lang.hitch(this,this._adjustPinchEnd);},_panInit:function(evt){var _256=this.mouseEvents;if(_23f.isLeft(evt)&&this.map.isPan&&!evt.shiftKey){this._dragOrigin=new _249(0,0);lang.mixin(this._dragOrigin,evt.screenPoint);this._panStartHandle=_24d(_256,"onMouseDragStart",this,this._panStart);this._panHandle=_24d(_256,"onMouseDrag",this,this._pan);this._panEndHandle=_24d(_256,"onMouseUp",this,this._panEnd);if(has("chrome")){evt.preventDefault();}}},_panStart:function(evt){this.map.setCursor("move");this.map.__panStart(evt.screenPoint.x,evt.screenPoint.y);},_pan:function(evt){this.map.__pan(evt.screenPoint.x-this._dragOrigin.x,evt.screenPoint.y-this._dragOrigin.y);},_panEnd:function(evt){_24e(this._panStartHandle);_24e(this._panHandle);_24e(this._panEndHandle);this._panStartHandle=this._panHandle=this._panEndHandle=null;var map=this.map;if(map.__panning){map.__panEnd(evt.screenPoint.x-this._dragOrigin.x,evt.screenPoint.y-this._dragOrigin.y);map.resetMapCursor();}},_zoomInit:function(evt){var map=this.map,_257=this.pointerEvents||this.mouseEvents;if((_23f.isLeft(evt)||evt.pointerType)&&map.isRubberBandZoom&&evt.shiftKey){map.setCursor("crosshair");this._dragOrigin=lang.mixin({},evt.screenPoint);this._zoomDir=(evt.ctrlKey||evt.metaKey)?_250:_24f;if(this.pointerEvents){this._zoomHandle=_24d(_257,"onSwipeMove",this,this._zoom);this._zoomEndHandle=_24d(_257,"onSwipeEnd",this,this._zoomEnd);}else{this._zoomHandle=_24d(_257,"onMouseDrag",this,this._zoom);this._zoomEndHandle=_24d(_257,"onMouseUp",this,this._zoomEnd);}if(has("chrome")){evt.preventDefault();}}},_zoom:function(evt){var map=this.map,rect=this._normalizeRect(evt).offset(map.__visibleRect.x,map.__visibleRect.y),g=map.graphics,_258=this._zoomRect;if(!_258.geometry){map.setCursor("crosshair");}if(_258.geometry){g.remove(_258,true);}var tl=map.toMap(new _249(rect.x,rect.y)),br=map.toMap(new _249(rect.x+rect.width,rect.y+rect.height));rect=new Rect(tl.x,tl.y,br.x-tl.x,tl.y-br.y,map.spatialReference);rect._originOnly=true;_258.setGeometry(rect);g.add(_258,true);},_zoomEnd:function(evt){var _259=this._zoomRect,map=this.map,ext=map.extent,sr=map.spatialReference;_24e(this._zoomHandle);_24e(this._zoomEndHandle);this._zoomHandle=this._zoomEndHandle=null;if(map._canZoom(this._zoomDir)&&_259.getDojoShape()){map.graphics.remove(_259);_259.geometry=null;var rect=this._normalizeRect(evt);rect.x+=map.__visibleRect.x;rect.y+=map.__visibleRect.y;var _25a;if(this._zoomDir===_250){var _25b=ext.getWidth(),_25c=(_25b*map.width)/rect.width,_25d=(_25c-_25b)/2;_25a=new _24a(ext.xmin-_25d,ext.ymin-_25d,ext.xmax+_25d,ext.ymax+_25d,sr);}else{var min=map.toMap({x:rect.x,y:(rect.y+rect.height)}),max=map.toMap({x:(rect.x+rect.width),y:rect.y});_25a=new _24a(min.x,min.y,max.x,max.y,sr);}map._extentUtil(null,null,_25a);}if(_259.getDojoShape()){map.graphics.remove(_259,true);}this._zoomDir=0;map.resetMapCursor();},_wheelZoom:function(evt,_25e){var map=this.map;if(!_25e){if(map.smartNavigation&&!evt.shiftKey&&!map._isPanningOrZooming()){map.disableScrollWheelZoom();this._setScrollWheelPan(true);this._wheelPan(evt);return;}var _25f=evt.timeStamp;if(!_245.isDefined(_25f)||_25f<=0){_25f=(new Date()).getTime();}var _260=this._mwts?(_25f-this._mwts):_25f;if(_260<_251){return;}this._mwts=_25f;}if(!map._canZoom(evt.value)){return;}map._extentUtil({numLevels:evt.value,mapAnchor:evt.mapPoint,screenAnchor:evt.screenPoint});},_wheelPan:function(evt){var map=this.map;if(evt.shiftKey&&!map._isPanningOrZooming()){this._setScrollWheelPan(false);map.enableScrollWheelZoom();this._wheelZoom(evt);return;}var dx=0,dy=0;if(has("ff")){if(evt.axis===evt.HORIZONTAL_AXIS){dx=-evt.detail;}else{dy=-evt.detail;}}else{dx=evt.wheelDeltaX;dy=evt.wheelDeltaY;}map.translate(dx,dy);},_setScrollWheelPan:function(_261){var map=this.map;map.isScrollWheelPan=_261;this.mouseEvents.enableMouseWheel(_261);_24e(this._mwMacHandle);this._mwMacHandle=null;if(_261){this._mwMacHandle=_24d(this.mouseEvents,"onMouseWheel",this,this._wheelPan);}},_recenter:function(evt){if(evt.shiftKey&&!this.map._isPanningOrZooming()){this.map.centerAt(evt.mapPoint);}},_recenterZoom:function(evt){if(evt.shiftKey&&!this.map._isPanningOrZooming()){evt.value=(evt.ctrlKey||evt.metaKey)?_250:_24f;this._wheelZoom(evt,true);}},_dblClickZoom:function(evt){if(!this.map._isPanningOrZooming()){evt.value=1;this._wheelZoom(evt,true);}},_twoFingerTap:function(evt){if(!this.map._isPanningOrZooming()){evt.value=-1;this._wheelZoom(evt,true);}},_keyDown:function(evt){var code=evt.keyCode,map=this.map;if(_23c.indexOf(_253,code)!==-1){if(code===keys.NUMPAD_PLUS||code===61){map._extentUtil({numLevels:1});}else{if(code===keys.NUMPAD_MINUS){map._extentUtil({numLevels:-1});}else{if(!map.__panning){map.__panStart(0,0);}switch(code){case keys.UP_ARROW:case keys.NUMPAD_8:this._keyDy+=_252;break;case keys.RIGHT_ARROW:case keys.NUMPAD_6:this._keyDx-=_252;break;case keys.DOWN_ARROW:case keys.NUMPAD_2:this._keyDy-=_252;break;case keys.LEFT_ARROW:case keys.NUMPAD_4:this._keyDx+=_252;break;case keys.PAGE_UP:case keys.NUMPAD_9:this._keyDx-=_252;this._keyDy+=_252;break;case keys.PAGE_DOWN:case keys.NUMPAD_3:this._keyDx-=_252;this._keyDy-=_252;break;case keys.END:case keys.NUMPAD_1:this._keyDx+=_252;this._keyDy-=_252;break;case keys.HOME:case keys.NUMPAD_7:this._keyDx+=_252;this._keyDy+=_252;break;default:return;}map.__pan(this._keyDx,this._keyDy);}}_23e.stop(evt);}},_keyEnd:function(evt){var map=this.map;if(map.__panning&&(evt.keyCode!==keys.SHIFT)){map.__panEnd(this._keyDx,this._keyDy);this._keyDx=this._keyDy=0;}},_swipeInit:function(evt){var map=this.map,_262=map._zoomAnim||map._panAnim;if(evt.shiftKey){return false;}if(_262&&_262._active){_262.stop();_262._fire("onEnd",[_262.node]);}this._dragOrigin=new _249(0,0);lang.mixin(this._dragOrigin,evt.screenPoint);_24e(this._swipeHandle);_24e(this._swipeEndHandle);this._swipeHandle=_24d(this.touchEvents||this.pointerEvents,"onSwipeMove",this,this._swipe);this._swipeEndHandle=_24d(this.touchEvents||this.pointerEvents,"onSwipeEnd",this,this._swipeEnd);},_swipe:function(evt){var map=this.map;if(map.__panning){this._panX=evt.screenPoint.x;this._panY=evt.screenPoint.y;map.__pan(evt.screenPoint.x-this._dragOrigin.x,evt.screenPoint.y-this._dragOrigin.y);}else{map.setCursor("move");map.__panStart(evt.screenPoint.x,evt.screenPoint.y);}},_swipeEnd:function(evt){_24e(this._swipeHandle);_24e(this._swipeEndHandle);this._swipeHandle=this._swipeEndHandle=null;var map=this.map;if(map.__panning){map.resetMapCursor();map.__panEnd(evt.screenPoint.x-this._dragOrigin.x,evt.screenPoint.y-this._dragOrigin.y);}},_pinchInit:function(evt){var map=this.map,_263=map._zoomAnim||map._panAnim;if(_263&&_263._active){_263.stop();_263._fire("onEnd",[_263.node]);}else{if(map.__panning){evt.screenPoint=new _249(this._panX,this._panY);evt.mapPoint=map.toMap(evt.screenPoint);this._swipeEnd(evt);}}_24e(this._pinchHandle);_24e(this._pinchEndHandle);this._pinchHandle=_24d(this.touchEvents||this.pointerEvents,"onPinchMove",this,this._pinch);this._pinchEndHandle=_24d(this.touchEvents||this.pointerEvents,"onPinchEnd",this,this._pinchEnd);},_pinch:function(evt){var map=this.map;if(evt.screenPoints){this.currLength=_24b.getLength(evt.screenPoints[0],evt.screenPoints[1]);if(map.__zooming){var _264=this.currLength/this._length;this._zoomStartExtent=this.__scaleExtent(map.extent,_264,this._dragOrigin);map.__zoom(this._zoomStartExtent,_264,this._dragOrigin);}else{this._dragOrigin=new _249((evt.screenPoints[0].x+evt.screenPoints[1].x)/2,(evt.screenPoints[0].y+evt.screenPoints[1].y)/2);this._length=this.currLength;map.__zoomStart(map.extent,this._dragOrigin);}map._fireOnScale(this.currLength/this._length,this._dragOrigin,true);}},_pinchEnd:function(evt){var map=this.map;_24e(this._pinchHandle);_24e(this._pinchEndHandle);this._pinchHandle=this._pinchEndHandle=null;if(map.__zooming&&map._zoomAnim===null){var _265=this.currLength/this._length,_266=map.extent.getWidth();this._zoomAnimAnchor=map.toMap(this._dragOrigin);this._zoomStartExtent=this.__scaleExtent(map.extent,1/_265,this._zoomAnimAnchor);if(map.__tileInfo){var ct=_248.getCandidateTileInfo(map,map.__tileInfo,this._zoomStartExtent),_267=map.__getExtentForLevel(ct.lod.level,this._zoomAnimAnchor),_268=map.getMinZoom(),_269=map.getMaxZoom(),_26a=_267.extent,_26b=_267.lod,_26c=_266/_26a.getWidth(),_26d=ct.lod.level;if(_265<1){if(_26c>_265){_26d--;}}else{if(_26c<_265){_26d++;}}if(_26d<_268){_26d=_268;}else{if(_26d>_269){_26d=_269;}}if(_26d!==ct.lod.level){_267=map.__getExtentForLevel(_26d,this._zoomAnimAnchor);_26a=_267.extent;_26b=_267.lod;}this._zoomEndExtent=_26a;this._zoomEndLod=_26b;map._zoomAnim=_246.animateRange({range:{start:(_266/this._zoomStartExtent.getWidth()),end:_26c},duration:_244.defaults.map.zoomDuration,rate:_244.defaults.map.zoomRate,onAnimate:this._adjustPinch,onEnd:this._adjustPinchEnd});map._zoomAnim.play();map._fireOnScale(map.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin);}else{this._zoomEndExtent=this._zoomStartExtent;map._fireOnScale(map.extent.getWidth()/this._zoomEndExtent.getWidth(),this._dragOrigin);this._adjustPinchEnd();}}},_adjustPinch:function(_26e){var _26f=this.__scaleExtent(this.map.extent,_26e,this._zoomAnimAnchor);this.map.__zoom(_26f,_26e,this._dragOrigin);},_adjustPinchEnd:function(){var map=this.map,_270=map.extent.getWidth()/this._zoomEndExtent.getWidth(),_271=this.__scaleExtent(map.extent,1/_270,this._zoomAnimAnchor),_272=this._dragOrigin,lod=this._zoomEndLod;this._zoomStartExtent=this._zoomEndExtent=this._zoomEndLod=this._dragOrigin=map._zoomAnim=this._zoomAnimAnchor=null;map.__zoomEnd(_271,_270,_272,lod,true);},__scaleExtent:function(_273,_274,_275){var _276=_275||_273.getCenter(),_277=_273.expand(_274),xmin=_273.xmin-((_277.getWidth()-_273.getWidth())*(_276.x-_273.xmin)/_273.getWidth()),ymax=_273.ymax-((_277.getHeight()-_273.getHeight())*(_276.y-_273.ymax)/_273.getHeight());return new _24a(xmin,ymax-_277.getHeight(),xmin+_277.getWidth(),ymax,_273.spatialReference);},_normalizeRect:function(evt){var xy=evt.screenPoint,dx=this._dragOrigin.x,dy=this._dragOrigin.y,rect=new Rect((xy.x<dx?xy.x:dx)-this.map.__visibleRect.x,(xy.y<dy?xy.y:dy)-this.map.__visibleRect.y,Math.abs(xy.x-dx),Math.abs(xy.y-dy));delete rect.spatialReference;if(rect.width===0){rect.width=1;}if(rect.height===0){rect.height=1;}return rect;},setImmediateClick:function(_278){switch(this.eventModel){case "mouse":this.mouseEvents.setImmediateClick(_278);break;case "touch":case "pointer":(this.touchEvents||this.pointerEvents).setImmediateTap(_278);break;}},enablePan:function(){this.disablePan();switch(this.eventModel){case "mouse":this._panInitHandle=_24d(this.mouseEvents,"onMouseDown",this,this._panInit);break;case "touch":this._panInitHandle=_24d(this.mouseEvents,"onMouseDown",this,this._panInit);this._swipeInitHandle=_24d(this.touchEvents,"onSwipeStart",this,this._swipeInit);break;case "pointer":this._swipeInitHandle=_24d(this.pointerEvents,"onSwipeStart",this,this._swipeInit);break;}},disablePan:function(){_24e(this._panInitHandle);this._panInitHandle=null;_24e(this._swipeInitHandle);this._swipeInitHandle=null;},enableRubberBandZoom:function(){this.disableRubberBandZoom();this._zoomInitHandle=this.pointerEvents?_24d(this.pointerEvents,"onSwipeStart",this,this._zoomInit):_24d(this.mouseEvents,"onMouseDown",this,this._zoomInit);},disableRubberBandZoom:function(){_24e(this._zoomInitHandle);this._zoomInitHandle=null;},enablePinchZoom:function(){this.disablePinchZoom();if(this.eventModel==="touch"||this.eventModel==="pointer"){this._pinchInitHandle=_24d(this.touchEvents||this.pointerEvents,"onPinchStart",this,this._pinchInit);}},disablePinchZoom:function(){_24e(this._pinchInitHandle);this._pinchInitHandle=null;},enableScrollWheelZoom:function(){this.disableScrollWheelZoom();this._wheelHandle=_24d(this.mouseEvents||this.pointerEvents,"onMouseWheel",this,this._wheelZoom);},disableScrollWheelZoom:function(){_24e(this._wheelHandle);this._wheelHandle=null;},enableDoubleClickZoom:function(){this.disableDoubleClickZoom();switch(this.eventModel){case "mouse":this._dblClickHandle=_24d(this.mouseEvents,"onDblClick",this,this._dblClickZoom);break;case "touch":this._dblClickHandle=_24d(this.mouseEvents,"onDblClick",this,this._dblClickZoom);this._dblTapHandle=_24d(this.touchEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=_24d(this.touchEvents,"onTwoFingerTap",this,this._twoFingerTap);break;case "pointer":this._dblTapHandle=_24d(this.pointerEvents,"onDoubleTap",this,this._dblClickZoom);this._zoomOutHandle=_24d(this.pointerEvents,"onTwoFingerTap",this,this._twoFingerTap);break;}},disableDoubleClickZoom:function(){_24e(this._dblClickHandle);_24e(this._zoomOutHandle);if(this._dblTapHandle){_24e(this._dblTapHandle);}this._dblClickHandle=this._zoomOutHandle=this._dblTapHandle=null;},enableShiftDoubleClickZoom:function(){this.disableShiftDoubleClickZoom();this._sDblClickHandle=_24d(this.pointerEvents||this.mouseEvents,"onDblClick",this,this._recenterZoom);},disableShiftDoubleClickZoom:function(){_24e(this._sDblClickHandle);this._sDblClickHandle=null;},enableClickRecenter:function(){this.disableClickRecenter();this._recenterHandle=_24d(this.pointerEvents||this.mouseEvents,"onClick",this,this._recenter);},disableClickRecenter:function(){_24e(this._recenterHandle);this._recenterHandle=null;},enableKeyboardNavigation:function(){this.disableKeyboardNavigation();this._keyHandle=_24d(this.pointerEvents||this.mouseEvents,"onKeyDown",this,this._keyDown);this._keyEndHandle=_24d(this.pointerEvents||this.mouseEvents,"onKeyUp",this,this._keyEnd);},disableKeyboardNavigation:function(){_24e(this._keyHandle);_24e(this._keyEndHandle);this._keyHandle=this._keyEndHandle=null;},enableNavigation:function(){var map=this.map;if(map&&map.loaded){map.enableDoubleClickZoom();map.enableClickRecenter();map.enablePan();map.enableRubberBandZoom();this.enablePinchZoom();map.enableKeyboardNavigation();if(map.smartNavigation){this._setScrollWheelPan(true);}else{map.enableScrollWheelZoom();}}},disableNavigation:function(){var map=this.map;if(map&&map.loaded){map.disableDoubleClickZoom();map.disableClickRecenter();map.disablePan();map.disableRubberBandZoom();this.disablePinchZoom();map.disableKeyboardNavigation();map.disableScrollWheelZoom();if(map.smartNavigation){this._setScrollWheelPan(false);}}},destroy:function(){if(this.touchEvents){this.touchEvents.destroy();}if(this.mouseEvents){this.mouseEvents.destroy();}if(this.pointerEvents){this.pointerEvents.destroy();}var i,_279=[this._panInitHandle,this._panStartHandle,this._panHandle,this._panEndHandle,this._zoomInitHandle,this._zoomHandle,this._zoomEndHandle,this._wheelHandle,this._mwMacHandle,this._dblClickHandle,this._zoomOutHandle,this._recenterHandle,this._sDblClickHandle,this._dblTapHandle,this._keyHandle,this._keyEndHandle,this._swipeInitHandle,this._swipeHandle,this._swipeEndHandle,this._pinchInitHandle,this._pinchHandle,this._pinchEndHandle];for(i=0;i<_279.length;i++){_24e(_279[i]);}this.map=this.touchEvents=this.mouseEvents=this.eventModel=this.pointerEvents=this._zoomRect=this._dragOrigin=this._panInitHandle=this._panStartHandle=this._panHandle=this._panEndHandle=this._zoomInitHandle=this._zoomHandle=this._zoomEndHandle=this._wheelHandle=this._mwMacHandle=this._dblClickHandle=this._zoomOutHandle=this._recenterHandle=this._sDblClickHandle=this._dblTapHandle=this._keyHandle=this._keyEndHandle=this._swipeInitHandle=this._swipeHandle=this._swipeEndHandle=this._pinchInitHandle=this._pinchHandle=this._pinchEndHandle=null;}});if(has("extend-esri")){_240.MapNavigationManager=_254;}return _254;});},"esri/renderers/TemporalRenderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/renderers/Renderer"],function(_27a,lang,has,_27b,_27c){var _27d=_27a(_27c,{declaredClass:"esri.renderer.TemporalRenderer",constructor:function(_27e,_27f,_280,_281){this.observationRenderer=_27e;this.latestObservationRenderer=_27f;this.trackRenderer=_280;this.observationAger=_281;},getSymbol:function(_282){var _283=_282.getLayer();var kind=_283._getKind(_282);var _284=(kind===0)?this.observationRenderer:(this.latestObservationRenderer||this.observationRenderer);var _285=(_284&&_284.getSymbol(_282));var ager=this.observationAger;if(_283.timeInfo&&_283._map.timeExtent&&(_284===this.observationRenderer)&&ager&&_285){_285=ager.getAgedSymbol(_285,_282);}return _285;}});if(has("extend-esri")){lang.setObject("renderer.TemporalRenderer",_27d,_27b);}return _27d;});},"esri/symbols/PictureFillSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojox/gfx/_base","esri/kernel","esri/lang","esri/urlUtils","esri/symbols/FillSymbol"],function(_286,lang,has,_287,_288,_289,_28a,_28b){var _28c={xoffset:0,yoffset:0,width:12,height:12};var PFS=_286(_28b,{declaredClass:"esri.symbol.PictureFillSymbol",type:"picturefillsymbol",xscale:1,yscale:1,xoffset:0,yoffset:0,constructor:function(json,_28d,_28e,_28f){if(json){if(lang.isString(json)){this.url=json;if(_28d!==undefined){this.outline=_28d;}if(_28e!==undefined){this.width=_28e;}if(_28f!==undefined){this.height=_28f;}}else{this.xoffset=_287.pt2px(json.xoffset);this.yoffset=_287.pt2px(json.yoffset);this.width=_287.pt2px(json.width);this.height=_287.pt2px(json.height);var _290=json.imageData;if((!(has("ie")<9))&&_290){var temp=this.url;this.url="data:"+(json.contentType||"image")+";base64,"+_290;this.imageData=temp;}}}else{lang.mixin(this,_28c);this.width=_287.pt2px(this.width);this.height=_287.pt2px(this.height);}},setWidth:function(_291){this.width=_291;return this;},setHeight:function(_292){this.height=_292;return this;},setOffset:function(x,y){this.xoffset=x;this.yoffset=y;return this;},setUrl:function(url){if(url!==this.url){delete this.imageData;delete this.contentType;}this.url=url;return this;},setXScale:function(_293){this.xscale=_293;return this;},setYScale:function(_294){this.yscale=_294;return this;},getStroke:function(){return this.outline&&this.outline.getStroke();},getFill:function(){return lang.mixin({},_287.defaultPattern,{src:this.url,width:(this.width*this.xscale),height:(this.height*this.yscale),x:this.xoffset,y:this.yoffset});},getShapeDescriptors:function(){return {defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()};},toJson:function(){var url=this.url,_295=this.imageData;if(url.indexOf("data:")===0){var temp=url;url=_295;var _296=temp.indexOf(";base64,")+8;_295=temp.substr(_296);}url=_28a.getAbsoluteUrl(url);var _297=_287.px2pt(this.width);_297=isNaN(_297)?undefined:_297;var _298=_287.px2pt(this.height);_298=isNaN(_298)?undefined:_298;var xoff=_287.px2pt(this.xoffset);xoff=isNaN(xoff)?undefined:xoff;var yoff=_287.px2pt(this.yoffset);yoff=isNaN(yoff)?undefined:yoff;var json=_289.fixJson(lang.mixin(this.inherited("toJson",arguments),{type:"esriPFS",url:url,imageData:_295,contentType:this.contentType,width:_297,height:_298,xoffset:xoff,yoffset:yoff,xscale:this.xscale,yscale:this.yscale}));if(!json.imageData){delete json.imageData;}return json;}});PFS.defaultProps=_28c;if(has("extend-esri")){lang.setObject("symbol.PictureFillSymbol",PFS,_288);_288.symbol.defaultPictureFillSymbol=_28c;}return PFS;});},"esri/layers/LOD":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(_299,lang,has,_29a,_29b){var LOD=_299(null,{declaredClass:"esri.layers.LOD",constructor:function(json){lang.mixin(this,json);},toJson:function(){return _29b.fixJson({level:this.level,levelValue:this.levelValue,resolution:this.resolution,scale:this.scale});}});if(has("extend-esri")){lang.setObject("layers.LOD",LOD,_29a);}return LOD;});},"esri/renderers/Renderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(_29c,lang,has,_29d){var _29e=_29c(null,{declaredClass:"esri.renderer.Renderer",constructor:function(){this.getSymbol=lang.hitch(this,this.getSymbol);},getSymbol:function(_29f){},toJson:function(){}});if(has("extend-esri")){lang.setObject("renderer.Renderer",_29e,_29d);}return _29e;});},"esri/layers/DynamicMapServiceLayer":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/dom-construct","dojo/dom-style","dojox/xml/parser","dojox/gfx/matrix","esri/kernel","esri/config","esri/sniff","esri/request","esri/domUtils","esri/layers/layer","esri/layers/MapImage"],function(_2a0,_2a1,lang,_2a2,_2a3,_2a4,_2a5,_2a6,_2a7,has,_2a8,_2a9,_2aa,_2ab){var _2ac=_2a7.defaults.map.zoomDuration;var _2ad=_2a0(_2aa,{declaredClass:"esri.layers.DynamicMapServiceLayer",_eventMap:{"map-image-export":["mapImage"]},constructor:function(url,_2ae){this.useMapTime=(_2ae&&_2ae.hasOwnProperty("useMapTime"))?(!!_2ae.useMapTime):true;var _2af=lang.hitch;this._exportMapImageHandler=_2af(this,this._exportMapImageHandler);this._imgSrcFunc=_2af(this,this._imgSrcFunc);this._divAlphaImageFunc=_2af(this,this._divAlphaImageFunc);this._tileLoadHandler=_2af(this,this._tileLoadHandler);this._tileErrorHandler=_2af(this,this._tileErrorHandler);this.registerConnectEvents();},opacity:1,isPNG32:false,_setMap:function(map,_2b0,_2b1){this.inherited(arguments);this._map=map;var d=(this._div=_2a2.create("div",null,_2b0)),_2b2=_2a6._css.names,css={position:"absolute",width:map.width+"px",height:map.height+"px",overflow:"visible",opacity:this.opacity},isIE=has("ie"),_2b3=_2a1.connect,vd=map.__visibleDelta;if(isIE&&isIE>7){delete css.opacity;}if(map.navigationMode==="css-transforms"){css[_2b2.transform]=_2a6._css.translate(vd.x,vd.y);_2a3.set(d,css);this._left=vd.x;this._top=vd.y;}else{css.left="0px";css.top="0px";_2a3.set(d,css);this._left=this._top=0;}_2a3.set(d,css);this._onResizeHandler_connect=_2b3(map,"onResize",this,"_onResizeHandler");this._opacityChangeHandler_connect=_2b3(this,"onOpacityChange",this,"_opacityChangeHandler");this._img_loading=null;this._dragOrigin={x:0,y:0};this.evaluateSuspension();if(this.suspended&&!map.loaded){var _2b4=_2a1.connect(map,"onLoad",this,function(){_2a1.disconnect(_2b4);_2b4=null;this.evaluateSuspension();});}return d;},_unsetMap:function(map,_2b5){_2a2.destroy(this._div);this._map=this._div=null;var _2b6=_2a1.disconnect;_2b6(this._onResizeHandler_connect);_2b6(this._opacityChangeHandler_connect);this._onResizeHandler_connect=this._opacityChangeHandler_connect=null;this._fireUpdateEnd();this._toggleTime();clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments);},_onResizeHandler:function(_2b7,_2b8,_2b9){_2a3.set(this._div,{width:_2b8+"px",height:_2b9+"px"});this._onExtentChangeHandler(_2b7);},onSuspend:function(){this.inherited(arguments);this._fireUpdateEnd();this._toggleTime();_2a9.hide(this._div);clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();},onResume:function(){this.inherited(arguments);var map=this._map;this._toggleTime();if(map.navigationMode==="css-transforms"){var vd=map.__visibleDelta;this._left=vd.x;this._top=vd.y;_2a3.set(this._div,_2a6._css.names.transform,_2a6._css.translate(this._left,this._top));}this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(lang.hitch(this,function(){if(!this.suspended){this._onExtentChangeHandler(this._map.extent);}}),0);},_enableDrawConnectors:function(){var _2ba=_2a1.connect,map=this._map;if(map){this._onPanHandler_connect=_2ba(map,"onPan",this,"_onPanHandler");this._onExtentChangeHandler_connect=_2ba(map,"onExtentChange",this,"_onExtentChangeHandler");if(map.navigationMode==="css-transforms"){this._onScaleHandler_connect=_2ba(map,"onScale",this,this._onScaleHandler);}else{this._onZoomHandler_connect=_2ba(map,"onZoom",this,"_onZoomHandler");}}},_disableDrawConnectors:function(){var _2bb=_2a1.disconnect;_2bb(this._onPanHandler_connect);_2bb(this._onExtentChangeHandler_connect);_2bb(this._onZoomHandler_connect);_2bb(this._onScaleHandler_connect);this._onPanHandler_connect=this._onExtentChangeHandler_connect=this._onZoomHandler_connect=this._onScaleHandler_connect=null;},_toggleTime:function(){var map=this._map;if(this.timeInfo&&this.useMapTime&&map&&!this.suspended){if(!this._timeConnect){this._timeConnect=_2a1.connect(map,"onTimeExtentChange",this,this._onTimeExtentChangeHandler);}this._setTime(map.timeExtent);}else{_2a1.disconnect(this._timeConnect);this._timeConnect=null;this._setTime(null);}},_setTime:function(_2bc){if(this._params){this._params.time=_2bc?_2bc.toJson().join(","):null;}},_onPanHandler:function(_2bd,_2be){this._panDx=_2be.x;this._panDy=_2be.y;var _2bf=this._dragOrigin,vd=this._map.__visibleDelta,img=this._img;if(img){if(this._map.navigationMode==="css-transforms"){this._left=vd.x+_2be.x;this._top=vd.y+_2be.y;_2a3.set(this._div,_2a6._css.names.transform,_2a6._css.translate(this._left,this._top));}else{_2a3.set(img,{left:(_2bf.x+_2be.x)+"px",top:(_2bf.y+_2be.y)+"px"});}}},_onExtentChangeHandler:function(_2c0,_2c1,_2c2){if(this.suspended){return;}clearTimeout(this._wakeTimer);this._wakeTimer=null;var _2c3=this._map,_2c4=this._img,_2c5=_2c4&&_2c4.style,_2c6=this._dragOrigin;if(_2c1&&!_2c2&&_2c4&&(_2c1.x!==this._panDx||_2c1.y!==this._panDy)){if(_2c3.navigationMode==="css-transforms"){var vd=_2c3.__visibleDelta;this._left=vd.x;this._top=vd.y;_2a3.set(this._div,_2a6._css.names.transform,_2a6._css.translate(this._left,this._top));}else{_2a3.set(_2c4,{left:(_2c6.x+_2c1.x)+"px",top:(_2c6.y+_2c1.y)+"px"});}}if(_2c4){_2c6.x=parseInt(_2c5.left,10);_2c6.y=parseInt(_2c5.top,10);}else{_2c6.x=(_2c6.y=0);}if(_2c3.navigationMode==="css-transforms"){if(_2c2&&_2c4){_2a3.set(_2c4,_2a6._css.names.transition,"none");_2c4._multiply=_2c4._multiply?_2a5.multiply(_2c4._matrix,_2c4._multiply):_2c4._matrix;}}this._fireUpdateStart();var _2c7=this._img_loading;if(_2c7){_2a1.disconnect(_2c7._onload_connect);_2a1.disconnect(_2c7._onerror_connect);_2a1.disconnect(_2c7._onabort_connect);_2a2.destroy(_2c7);this._img_loading=null;var _2c8=this._jsonRequest;if(_2c8){try{_2c8.cancel();}catch(e){}this._jsonRequest=null;}}if(this.version>=10&&_2c3.wrapAround180){_2c0=_2c0._normalize(true);}if(this.isPNG32){var div=(this._img_loading=_2a2.create("div"));div.id=_2c3.id+"_"+this.id+"_"+new Date().getTime();_2a3.set(div,{position:"absolute",left:"0px",top:"0px",width:_2c3.width+"px",height:_2c3.height+"px"});var _2c9=div.appendChild(_2a2.create("div"));_2a3.set(_2c9,{opacity:0,width:_2c3.width+"px",height:_2c3.height+"px"});this.getImageUrl(_2c0,_2c3.width,_2c3.height,this._divAlphaImageFunc);div=null;}else{var img=(this._img_loading=_2a2.create("img")),_2ca=_2a6._css.names,isIE=has("ie"),css={position:"absolute",width:_2c3.width+"px",height:_2c3.height+"px"};if(isIE&&isIE>7){css.opacity=this.opacity;}if(_2c3.navigationMode==="css-transforms"){css[_2ca.transform]=_2a6._css.translate(-this._left,-this._top);img._tdx=-this._left;img._tdy=-this._top;css[_2ca.transition]=_2ca.transformName+" "+_2ac+"ms ease";}else{css.left="0px";css.top="0px";}img.id=_2c3.id+"_"+this.id+"_"+new Date().getTime();_2a3.set(img,css);img._onload_connect=_2a1.connect(img,"onload",this,"_onLoadHandler");img._onerror_connect=_2a1.connect(img,"onerror",this,"_onErrorHandler");img._onabort_connect=_2a1.connect(img,"onabort",this,"_onErrorHandler");this._startRect={left:_2c6.x,top:_2c6.y,width:_2c4?parseInt(_2c5.width,10):_2c3.width,height:_2c4?parseInt(_2c5.height,10):_2c3.height,zoom:(_2c5&&_2c5.zoom)?parseFloat(_2c5.zoom):1};this.getImageUrl(_2c0,_2c3.width,_2c3.height,this._imgSrcFunc);img=null;}},_onTimeExtentChangeHandler:function(_2cb){if(this.suspended){return;}this._setTime(_2cb);this.refresh(true);},getImageUrl:function(_2cc,wd,ht,_2cd){},_imgSrcFunc:function(src){this._img_loading.src=src;},_divAlphaImageFunc:function(src){_2a3.set(this._img_loading,"filter","progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+src+"', sizingMethod='scale')");this._onLoadHandler({currentTarget:this._img_loading});},_onLoadHandler:function(evt){var img=evt.currentTarget,_2ce=_2a1.disconnect,_2cf=this._map;_2ce(img._onload_connect);_2ce(img._onerror_connect);_2ce(img._onabort_connect);if(!_2cf||_2cf.__panning||_2cf.__zooming){_2a2.destroy(img);this._fireUpdateEnd();return;}_2a4.removeChildren(this._div);this._img=img;this._startRect={left:0,top:0,width:_2cf.width,height:_2cf.height,zoom:1};this._div.appendChild(img);if(!this.suspended){_2a9.show(this._div);}img._onload_connect=img._onerror_connect=img._onabort_connect=this._img_loading=null;var _2d0=this._dragOrigin;_2d0.x=(_2d0.y=0);this.onUpdate();this._fireUpdateEnd();},_onErrorHandler:function(evt){var img=evt.currentTarget,_2d1=_2a1.disconnect;_2a3.set(img,"visibility","hidden");_2d1(img._onload_connect);_2d1(img._onerror_connect);_2d1(img._onabort_connect);img._onload_connect=img._onerror_connect=img._onabort_connect=null;var _2d2=new Error("Unable to load image: "+img.src);this.onError(_2d2);this._fireUpdateEnd(_2d2);},setUseMapTime:function(use,_2d3){this.useMapTime=use;this._toggleTime();if(!_2d3){this.refresh(true);}},refresh:function(){if(this._map){this._onExtentChangeHandler(this._map.extent);}},_onScaleHandler:function(mtx,_2d4){var css={},_2d5=_2a6._css.names,img=this._img;if(!img){return;}_2a3.set(img,_2d5.transition,_2d4?"none":(_2d5.transformName+" "+_2ac+"ms ease"));img._matrix=mtx;mtx=img._multiply?_2a5.multiply(mtx,img._multiply):mtx;if(img._tdx||img._tdy){mtx=_2a5.multiply(mtx,{"xx":1,"xy":0,"yx":0,"yy":1,"dx":img._tdx,"dy":img._tdy});}css[_2d5.transform]=_2a6._css.matrix(mtx);_2a3.set(img,css);},_onZoomHandler:function(_2d6,_2d7,_2d8){var _2d9=this._startRect,_2da=_2d9.width*_2d7,_2db=_2d9.height*_2d7,img=this._img,isIE=has("ie");if(img){if(isIE&&isIE<8){_2a3.set(img,{left:(_2d9.left-((_2da-_2d9.width)*(_2d8.x-_2d9.left)/_2d9.width))+"px",top:(_2d9.top-((_2db-_2d9.height)*(_2d8.y-_2d9.top)/_2d9.height))+"px",zoom:_2d7*_2d9.zoom});}else{_2a3.set(img,{left:(_2d9.left-((_2da-_2d9.width)*(_2d8.x-_2d9.left)/_2d9.width))+"px",top:(_2d9.top-((_2db-_2d9.height)*(_2d8.y-_2d9.top)/_2d9.height))+"px",width:_2da+"px",height:_2db+"px"});}}},_exportMapImage:function(url,_2dc,_2dd){var _2de=this._exportMapImageHandler;_2dc.token=this._getToken();_2a8({url:url,content:_2dc,callbackParamName:"callback",load:function(){_2de(arguments[0],arguments[1],_2dd);},error:_2a7.defaults.io.errorHandler});},_exportMapImageHandler:function(_2df,io,_2e0){var _2e1=new _2ab(_2df);this.onMapImageExport(_2e1);if(_2e0){_2e0(_2e1);}},onMapImageExport:function(){},setOpacity:function(o){if(this.opacity!=o){this.onOpacityChange(this.opacity=o);}},onOpacityChange:function(){},_opacityChangeHandler:function(_2e2){_2a3.set(this._div,"opacity",_2e2);}});if(has("extend-esri")){lang.setObject("layers.DynamicMapServiceLayer",_2ad,_2a6);}return _2ad;});},"dojo/fx":function(){define(["./_base/lang","./Evented","./_base/kernel","./_base/array","./_base/connect","./_base/fx","./dom","./dom-style","./dom-geometry","./ready","require"],function(lang,_2e3,dojo,_2e4,_2e5,_2e6,dom,_2e7,geom,_2e8,_2e9){if(!dojo.isAsync){_2e8(0,function(){var _2ea=["./fx/Toggler"];_2e9(_2ea);});}var _2eb=dojo.fx={};var _2ec={_fire:function(evt,args){if(this[evt]){this[evt].apply(this,args||[]);}return this;}};var _2ed=function(_2ee){this._index=-1;this._animations=_2ee||[];this._current=this._onAnimateCtx=this._onEndCtx=null;this.duration=0;_2e4.forEach(this._animations,function(a){this.duration+=a.duration;if(a.delay){this.duration+=a.delay;}},this);};_2ed.prototype=new _2e3();lang.extend(_2ed,{_onAnimate:function(){this._fire("onAnimate",arguments);},_onEnd:function(){_2e5.disconnect(this._onAnimateCtx);_2e5.disconnect(this._onEndCtx);this._onAnimateCtx=this._onEndCtx=null;if(this._index+1==this._animations.length){this._fire("onEnd");}else{this._current=this._animations[++this._index];this._onAnimateCtx=_2e5.connect(this._current,"onAnimate",this,"_onAnimate");this._onEndCtx=_2e5.connect(this._current,"onEnd",this,"_onEnd");this._current.play(0,true);}},play:function(_2ef,_2f0){if(!this._current){this._current=this._animations[this._index=0];}if(!_2f0&&this._current.status()=="playing"){return this;}var _2f1=_2e5.connect(this._current,"beforeBegin",this,function(){this._fire("beforeBegin");}),_2f2=_2e5.connect(this._current,"onBegin",this,function(arg){this._fire("onBegin",arguments);}),_2f3=_2e5.connect(this._current,"onPlay",this,function(arg){this._fire("onPlay",arguments);_2e5.disconnect(_2f1);_2e5.disconnect(_2f2);_2e5.disconnect(_2f3);});if(this._onAnimateCtx){_2e5.disconnect(this._onAnimateCtx);}this._onAnimateCtx=_2e5.connect(this._current,"onAnimate",this,"_onAnimate");if(this._onEndCtx){_2e5.disconnect(this._onEndCtx);}this._onEndCtx=_2e5.connect(this._current,"onEnd",this,"_onEnd");this._current.play.apply(this._current,arguments);return this;},pause:function(){if(this._current){var e=_2e5.connect(this._current,"onPause",this,function(arg){this._fire("onPause",arguments);_2e5.disconnect(e);});this._current.pause();}return this;},gotoPercent:function(_2f4,_2f5){this.pause();var _2f6=this.duration*_2f4;this._current=null;_2e4.some(this._animations,function(a){if(a.duration<=_2f6){this._current=a;return true;}_2f6-=a.duration;return false;});if(this._current){this._current.gotoPercent(_2f6/this._current.duration,_2f5);}return this;},stop:function(_2f7){if(this._current){if(_2f7){for(;this._index+1<this._animations.length;++this._index){this._animations[this._index].stop(true);}this._current=this._animations[this._index];}var e=_2e5.connect(this._current,"onStop",this,function(arg){this._fire("onStop",arguments);_2e5.disconnect(e);});this._current.stop();}return this;},status:function(){return this._current?this._current.status():"stopped";},destroy:function(){if(this._onAnimateCtx){_2e5.disconnect(this._onAnimateCtx);}if(this._onEndCtx){_2e5.disconnect(this._onEndCtx);}}});lang.extend(_2ed,_2ec);_2eb.chain=function(_2f8){return new _2ed(_2f8);};var _2f9=function(_2fa){this._animations=_2fa||[];this._connects=[];this._finished=0;this.duration=0;_2e4.forEach(_2fa,function(a){var _2fb=a.duration;if(a.delay){_2fb+=a.delay;}if(this.duration<_2fb){this.duration=_2fb;}this._connects.push(_2e5.connect(a,"onEnd",this,"_onEnd"));},this);this._pseudoAnimation=new _2e6.Animation({curve:[0,1],duration:this.duration});var self=this;_2e4.forEach(["beforeBegin","onBegin","onPlay","onAnimate","onPause","onStop","onEnd"],function(evt){self._connects.push(_2e5.connect(self._pseudoAnimation,evt,function(){self._fire(evt,arguments);}));});};lang.extend(_2f9,{_doAction:function(_2fc,args){_2e4.forEach(this._animations,function(a){a[_2fc].apply(a,args);});return this;},_onEnd:function(){if(++this._finished>this._animations.length){this._fire("onEnd");}},_call:function(_2fd,args){var t=this._pseudoAnimation;t[_2fd].apply(t,args);},play:function(_2fe,_2ff){this._finished=0;this._doAction("play",arguments);this._call("play",arguments);return this;},pause:function(){this._doAction("pause",arguments);this._call("pause",arguments);return this;},gotoPercent:function(_300,_301){var ms=this.duration*_300;_2e4.forEach(this._animations,function(a){a.gotoPercent(a.duration<ms?1:(ms/a.duration),_301);});this._call("gotoPercent",arguments);return this;},stop:function(_302){this._doAction("stop",arguments);this._call("stop",arguments);return this;},status:function(){return this._pseudoAnimation.status();},destroy:function(){_2e4.forEach(this._connects,_2e5.disconnect);}});lang.extend(_2f9,_2ec);_2eb.combine=function(_303){return new _2f9(_303);};_2eb.wipeIn=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_2e6.animateProperty(lang.mixin({properties:{height:{start:function(){o=s.overflow;s.overflow="hidden";if(s.visibility=="hidden"||s.display=="none"){s.height="1px";s.display="";s.visibility="";return 1;}else{var _304=_2e7.get(node,"height");return Math.max(_304,1);}},end:function(){return node.scrollHeight;}}}},args));var fini=function(){s.height="auto";s.overflow=o;};_2e5.connect(anim,"onStop",fini);_2e5.connect(anim,"onEnd",fini);return anim;};_2eb.wipeOut=function(args){var node=args.node=dom.byId(args.node),s=node.style,o;var anim=_2e6.animateProperty(lang.mixin({properties:{height:{end:1}}},args));_2e5.connect(anim,"beforeBegin",function(){o=s.overflow;s.overflow="hidden";s.display="";});var fini=function(){s.overflow=o;s.height="auto";s.display="none";};_2e5.connect(anim,"onStop",fini);_2e5.connect(anim,"onEnd",fini);return anim;};_2eb.slideTo=function(args){var node=args.node=dom.byId(args.node),top=null,left=null;var init=(function(n){return function(){var cs=_2e7.getComputedStyle(n);var pos=cs.position;top=(pos=="absolute"?n.offsetTop:parseInt(cs.top)||0);left=(pos=="absolute"?n.offsetLeft:parseInt(cs.left)||0);if(pos!="absolute"&&pos!="relative"){var ret=geom.position(n,true);top=ret.y;left=ret.x;n.style.position="absolute";n.style.top=top+"px";n.style.left=left+"px";}};})(node);init();var anim=_2e6.animateProperty(lang.mixin({properties:{top:args.top||0,left:args.left||0}},args));_2e5.connect(anim,"beforeBegin",anim,init);return anim;};return _2eb;});},"esri/layers/TableDataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/DataSource"],function(_305,lang,has,_306,_307,_308){var _309=_305(_308,{declaredClass:"esri.layers.TableDataSource",toJson:function(){var json={type:"table",workspaceId:this.workspaceId,dataSourceName:this.dataSourceName,gdbVersion:this.gdbVersion};return _307.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.TableDataSource",_309,_306);}return _309;});},"dojo/fx/Toggler":function(){define(["../_base/lang","../_base/declare","../_base/fx","../_base/connect"],function(lang,_30a,_30b,_30c){return _30a("dojo.fx.Toggler",null,{node:null,showFunc:_30b.fadeIn,hideFunc:_30b.fadeOut,showDuration:200,hideDuration:200,constructor:function(args){var _30d=this;lang.mixin(_30d,args);_30d.node=args.node;_30d._showArgs=lang.mixin({},args);_30d._showArgs.node=_30d.node;_30d._showArgs.duration=_30d.showDuration;_30d.showAnim=_30d.showFunc(_30d._showArgs);_30d._hideArgs=lang.mixin({},args);_30d._hideArgs.node=_30d.node;_30d._hideArgs.duration=_30d.hideDuration;_30d.hideAnim=_30d.hideFunc(_30d._hideArgs);_30c.connect(_30d.showAnim,"beforeBegin",lang.hitch(_30d.hideAnim,"stop",true));_30c.connect(_30d.hideAnim,"beforeBegin",lang.hitch(_30d.showAnim,"stop",true));},show:function(_30e){return this.showAnim.play(_30e||0);},hide:function(_30f){return this.hideAnim.play(_30f||0);}});});},"esri/geometry/webMercatorUtils":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference","esri/geometry/Point"],function(_310,lang,has,_311,_312,_313){function _314(geom,func,sr,_315){if(geom.type==="point"){var pt=func(geom.x,geom.y,_315);return new geom.constructor(pt[0],pt[1],new _312(sr));}else{if(geom.type==="extent"){var min=func(geom.xmin,geom.ymin,_315),max=func(geom.xmax,geom.ymax,_315);return new geom.constructor(min[0],min[1],max[0],max[1],new _312(sr));}else{if(geom.type==="polyline"||geom.type==="polygon"){var _316=(geom.type==="polyline"),_317=_316?geom.paths:geom.rings,_318=[],_319;_310.forEach(_317,function(_31a){_318.push(_319=[]);_310.forEach(_31a,function(iPt){_319.push(func(iPt[0],iPt[1],_315));});});if(_316){return new geom.constructor({paths:_318,spatialReference:sr});}else{return new geom.constructor({rings:_318,spatialReference:sr});}}else{if(geom.type==="multipoint"){var oPts=[];_310.forEach(geom.points,function(iPt){oPts.push(func(iPt[0],iPt[1],_315));});return new geom.constructor({points:oPts,spatialReference:sr});}}}}};var _31b={lngLatToXY:_313.lngLatToXY,xyToLngLat:_313.xyToLngLat,geographicToWebMercator:function(geom){return _314(geom,_313.lngLatToXY,{wkid:102100});},webMercatorToGeographic:function(geom,_31c){return _314(geom,_313.xyToLngLat,{wkid:4326},_31c);}};if(has("extend-esri")){lang.mixin(lang.getObject("geometry",true,_311),_31b);}return _31b;});},"dojo/date/locale":function(){define(["../_base/lang","../_base/array","../date","../cldr/supplemental","../i18n","../regexp","../string","../i18n!../cldr/nls/gregorian","module"],function(lang,_31d,date,_31e,i18n,_31f,_320,_321,_322){var _323={};lang.setObject(_322.id.replace(/\//g,"."),_323);function _324(_325,_326,_327,_328){return _328.replace(/([a-z])\1*/ig,function(_329){var s,pad,c=_329.charAt(0),l=_329.length,_32a=["abbr","wide","narrow"];switch(c){case "G":s=_326[(l<4)?"eraAbbr":"eraNames"][_325.getFullYear()<0?0:1];break;case "y":s=_325.getFullYear();switch(l){case 1:break;case 2:if(!_327.fullYear){s=String(s);s=s.substr(s.length-2);break;}default:pad=true;}break;case "Q":case "q":s=Math.ceil((_325.getMonth()+1)/3);pad=true;break;case "M":case "L":var m=_325.getMonth();if(l<3){s=m+1;pad=true;}else{var _32b=["months",c=="L"?"standAlone":"format",_32a[l-3]].join("-");s=_326[_32b][m];}break;case "w":var _32c=0;s=_323._getWeekOfYear(_325,_32c);pad=true;break;case "d":s=_325.getDate();pad=true;break;case "D":s=_323._getDayOfYear(_325);pad=true;break;case "e":case "c":var d=_325.getDay();if(l<2){s=(d-_31e.getFirstDayOfWeek(_327.locale)+8)%7;break;}case "E":d=_325.getDay();if(l<3){s=d+1;pad=true;}else{var _32d=["days",c=="c"?"standAlone":"format",_32a[l-3]].join("-");s=_326[_32d][d];}break;case "a":var _32e=_325.getHours()<12?"am":"pm";s=_327[_32e]||_326["dayPeriods-format-wide-"+_32e];break;case "h":case "H":case "K":case "k":var h=_325.getHours();switch(c){case "h":s=(h%12)||12;break;case "H":s=h;break;case "K":s=(h%12);break;case "k":s=h||24;break;}pad=true;break;case "m":s=_325.getMinutes();pad=true;break;case "s":s=_325.getSeconds();pad=true;break;case "S":s=Math.round(_325.getMilliseconds()*Math.pow(10,l-3));pad=true;break;case "v":case "z":s=_323._getZone(_325,true,_327);if(s){break;}l=4;case "Z":var _32f=_323._getZone(_325,false,_327);var tz=[(_32f<=0?"+":"-"),_320.pad(Math.floor(Math.abs(_32f)/60),2),_320.pad(Math.abs(_32f)%60,2)];if(l==4){tz.splice(0,0,"GMT");tz.splice(3,0,":");}s=tz.join("");break;default:throw new Error("dojo.date.locale.format: invalid pattern char: "+_328);}if(pad){s=_320.pad(s,l);}return s;});};_323._getZone=function(_330,_331,_332){if(_331){return date.getTimezoneName(_330);}else{return _330.getTimezoneOffset();}};_323.format=function(_333,_334){_334=_334||{};var _335=i18n.normalizeLocale(_334.locale),_336=_334.formatLength||"short",_337=_323._getGregorianBundle(_335),str=[],_338=lang.hitch(this,_324,_333,_337,_334);if(_334.selector=="year"){return _339(_337["dateFormatItem-yyyy"]||"yyyy",_338);}var _33a;if(_334.selector!="date"){_33a=_334.timePattern||_337["timeFormat-"+_336];if(_33a){str.push(_339(_33a,_338));}}if(_334.selector!="time"){_33a=_334.datePattern||_337["dateFormat-"+_336];if(_33a){str.push(_339(_33a,_338));}}return str.length==1?str[0]:_337["dateTimeFormat-"+_336].replace(/\'/g,"").replace(/\{(\d+)\}/g,function(_33b,key){return str[key];});};_323.regexp=function(_33c){return _323._parseInfo(_33c).regexp;};_323._parseInfo=function(_33d){_33d=_33d||{};var _33e=i18n.normalizeLocale(_33d.locale),_33f=_323._getGregorianBundle(_33e),_340=_33d.formatLength||"short",_341=_33d.datePattern||_33f["dateFormat-"+_340],_342=_33d.timePattern||_33f["timeFormat-"+_340],_343;if(_33d.selector=="date"){_343=_341;}else{if(_33d.selector=="time"){_343=_342;}else{_343=_33f["dateTimeFormat-"+_340].replace(/\{(\d+)\}/g,function(_344,key){return [_342,_341][key];});}}var _345=[],re=_339(_343,lang.hitch(this,_346,_345,_33f,_33d));return {regexp:re,tokens:_345,bundle:_33f};};_323.parse=function(_347,_348){var _349=/[\u200E\u200F\u202A\u202E]/g,info=_323._parseInfo(_348),_34a=info.tokens,_34b=info.bundle,re=new RegExp("^"+info.regexp.replace(_349,"")+"$",info.strict?"":"i"),_34c=re.exec(_347&&_347.replace(_349,""));if(!_34c){return null;}var _34d=["abbr","wide","narrow"],_34e=[1970,0,1,0,0,0,0],amPm="",_34f=_31d.every(_34c,function(v,i){if(!i){return true;}var _350=_34a[i-1],l=_350.length,c=_350.charAt(0);switch(c){case "y":if(l!=2&&_348.strict){_34e[0]=v;}else{if(v<100){v=Number(v);var year=""+new Date().getFullYear(),_351=year.substring(0,2)*100,_352=Math.min(Number(year.substring(2,4))+20,99);_34e[0]=(v<_352)?_351+v:_351-100+v;}else{if(_348.strict){return false;}_34e[0]=v;}}break;case "M":case "L":if(l>2){var _353=_34b["months-"+(c=="L"?"standAlone":"format")+"-"+_34d[l-3]].concat();if(!_348.strict){v=v.replace(".","").toLowerCase();_353=_31d.map(_353,function(s){return s.replace(".","").toLowerCase();});}v=_31d.indexOf(_353,v);if(v==-1){return false;}}else{v--;}_34e[1]=v;break;case "E":case "e":case "c":var days=_34b["days-"+(c=="c"?"standAlone":"format")+"-"+_34d[l-3]].concat();if(!_348.strict){v=v.toLowerCase();days=_31d.map(days,function(d){return d.toLowerCase();});}v=_31d.indexOf(days,v);if(v==-1){return false;}break;case "D":_34e[1]=0;case "d":_34e[2]=v;break;case "a":var am=_348.am||_34b["dayPeriods-format-wide-am"],pm=_348.pm||_34b["dayPeriods-format-wide-pm"];if(!_348.strict){var _354=/\./g;v=v.replace(_354,"").toLowerCase();am=am.replace(_354,"").toLowerCase();pm=pm.replace(_354,"").toLowerCase();}if(_348.strict&&v!=am&&v!=pm){return false;}amPm=(v==pm)?"p":(v==am)?"a":"";break;case "K":if(v==24){v=0;}case "h":case "H":case "k":if(v>23){return false;}_34e[3]=v;break;case "m":_34e[4]=v;break;case "s":_34e[5]=v;break;case "S":_34e[6]=v;}return true;});var _355=+_34e[3];if(amPm==="p"&&_355<12){_34e[3]=_355+12;}else{if(amPm==="a"&&_355==12){_34e[3]=0;}}var _356=new Date(_34e[0],_34e[1],_34e[2],_34e[3],_34e[4],_34e[5],_34e[6]);if(_348.strict){_356.setFullYear(_34e[0]);}var _357=_34a.join(""),_358=_357.indexOf("d")!=-1,_359=_357.indexOf("M")!=-1;if(!_34f||(_359&&_356.getMonth()>_34e[1])||(_358&&_356.getDate()>_34e[2])){return null;}if((_359&&_356.getMonth()<_34e[1])||(_358&&_356.getDate()<_34e[2])){_356=date.add(_356,"hour",1);}return _356;};function _339(_35a,_35b,_35c,_35d){var _35e=function(x){return x;};_35b=_35b||_35e;_35c=_35c||_35e;_35d=_35d||_35e;var _35f=_35a.match(/(''|[^'])+/g),_360=_35a.charAt(0)=="'";_31d.forEach(_35f,function(_361,i){if(!_361){_35f[i]="";}else{_35f[i]=(_360?_35c:_35b)(_361.replace(/''/g,"'"));_360=!_360;}});return _35d(_35f.join(""));};function _346(_362,_363,_364,_365){_365=_31f.escapeString(_365);if(!_364.strict){_365=_365.replace(" a"," ?a");}return _365.replace(/([a-z])\1*/ig,function(_366){var s,c=_366.charAt(0),l=_366.length,p2="",p3="";if(_364.strict){if(l>1){p2="0"+"{"+(l-1)+"}";}if(l>2){p3="0"+"{"+(l-2)+"}";}}else{p2="0?";p3="0{0,2}";}switch(c){case "y":s="\\d{2,4}";break;case "M":case "L":s=(l>2)?"\\S+?":"1[0-2]|"+p2+"[1-9]";break;case "D":s="[12][0-9][0-9]|3[0-5][0-9]|36[0-6]|"+p2+"[1-9][0-9]|"+p3+"[1-9]";break;case "d":s="3[01]|[12]\\d|"+p2+"[1-9]";break;case "w":s="[1-4][0-9]|5[0-3]|"+p2+"[1-9]";break;case "E":case "e":case "c":s="\\S+";break;case "h":s="1[0-2]|"+p2+"[1-9]";break;case "k":s="1[01]|"+p2+"\\d";break;case "H":s="1\\d|2[0-3]|"+p2+"\\d";break;case "K":s="1\\d|2[0-4]|"+p2+"[1-9]";break;case "m":case "s":s="[0-5]\\d";break;case "S":s="\\d{"+l+"}";break;case "a":var am=_364.am||_363["dayPeriods-format-wide-am"],pm=_364.pm||_363["dayPeriods-format-wide-pm"];s=am+"|"+pm;if(!_364.strict){if(am!=am.toLowerCase()){s+="|"+am.toLowerCase();}if(pm!=pm.toLowerCase()){s+="|"+pm.toLowerCase();}if(s.indexOf(".")!=-1){s+="|"+s.replace(/\./g,"");}}s=s.replace(/\./g,"\\.");break;default:s=".*";}if(_362){_362.push(_366);}return "("+s+")";}).replace(/[\xa0 ]/g,"[\\s\\xa0]");};var _367=[];_323.addCustomFormats=function(_368,_369){_367.push({pkg:_368,name:_369});};_323._getGregorianBundle=function(_36a){var _36b={};_31d.forEach(_367,function(desc){var _36c=i18n.getLocalization(desc.pkg,desc.name,_36a);_36b=lang.mixin(_36b,_36c);},this);return _36b;};_323.addCustomFormats(_322.id.replace(/\/date\/locale$/,".cldr"),"gregorian");_323.getNames=function(item,type,_36d,_36e){var _36f,_370=_323._getGregorianBundle(_36e),_371=[item,_36d,type];if(_36d=="standAlone"){var key=_371.join("-");_36f=_370[key];if(_36f[0]==1){_36f=undefined;}}_371[1]="format";return (_36f||_370[_371.join("-")]).concat();};_323.isWeekend=function(_372,_373){var _374=_31e.getWeekend(_373),day=(_372||new Date()).getDay();if(_374.end<_374.start){_374.end+=7;if(day<_374.start){day+=7;}}return day>=_374.start&&day<=_374.end;};_323._getDayOfYear=function(_375){return date.difference(new Date(_375.getFullYear(),0,1,_375.getHours()),_375)+1;};_323._getWeekOfYear=function(_376,_377){if(arguments.length==1){_377=0;}var _378=new Date(_376.getFullYear(),0,1).getDay(),adj=(_378-_377+7)%7,week=Math.floor((_323._getDayOfYear(_376)+adj-1)/7);if(_378==_377){week++;}return week;};return _323;});},"esri/symbols/MarkerSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","dojox/gfx/_base","esri/kernel","esri/symbols/Symbol"],function(_379,lang,has,_37a,_37b,_37c){var _37d=_379(_37c,{declaredClass:"esri.symbol.MarkerSymbol",angle:0,xoffset:0,yoffset:0,size:12,constructor:function(json){if(json&&lang.isObject(json)){this.size=_37a.pt2px(this.size);this.xoffset=_37a.pt2px(this.xoffset);this.yoffset=_37a.pt2px(this.yoffset);}},setAngle:function(_37e){this.angle=_37e;return this;},setSize:function(size){this.size=size;return this;},setOffset:function(x,y){this.xoffset=x;this.yoffset=y;return this;},toJson:function(){var size=_37a.px2pt(this.size);size=isNaN(size)?undefined:size;var xoff=_37a.px2pt(this.xoffset);xoff=isNaN(xoff)?undefined:xoff;var yoff=_37a.px2pt(this.yoffset);yoff=isNaN(yoff)?undefined:yoff;return lang.mixin(this.inherited("toJson",arguments),{size:size,angle:this.angle,xoffset:xoff,yoffset:yoff});}});if(has("extend-esri")){lang.setObject("symbol.MarkerSymbol",_37d,_37b);}return _37d;});},"esri/_time":function(){define(["esri/TimeExtent"],function(){return {};});},"esri/symbols/FillSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/symbols/Symbol","esri/symbols/SimpleLineSymbol"],function(_37f,lang,has,_380,_381,_382){var _383=_37f(_381,{declaredClass:"esri.symbol.FillSymbol",constructor:function(json){if(json&&lang.isObject(json)&&json.outline){this.outline=new _382(json.outline);}},setOutline:function(_384){this.outline=_384;return this;},toJson:function(){var json=this.inherited("toJson",arguments);if(this.outline){json.outline=this.outline.toJson();}return json;}});if(has("extend-esri")){lang.setObject("symbol.FillSymbol",_383,_380);}return _383;});},"esri/request":function(){define(["dojo/_base/array","dojo/_base/config","dojo/_base/Deferred","dojo/_base/lang","dojo/_base/url","dojo/_base/xhr","dojo/io/script","dojo/io/iframe","dojo/dom-construct","dojo/io-query","esri/kernel","esri/config","esri/sniff","esri/lang","esri/urlUtils","esri/deferredUtils"],function(_385,_386,_387,lang,Url,xhr,_388,_389,_38a,ioq,_38b,_38c,has,_38d,_38e,_38f){var _390;function _391(req,_392,_393,_394){var _395=false,_396=false,_397=true;if(_38d.isDefined(_392)){if(lang.isObject(_392)){_395=!!_392.useProxy;_396=!!_392.usePost;_397=_38d.isDefined(_392.crossOrigin)?_392.crossOrigin:_397;}else{_395=!!_392;}}req=lang.mixin({},req);if(req._ssl){req.url=req.url.replace(/^http:/i,"https:");}var _398=req.content,path=req.url,form=_393&&req.form,_399=_38c.defaults.io;req.load=function(_39a){var err;if(_39a){if(_39a.error){err=lang.mixin(new Error(),_39a.error);err.log=_386.isDebug;}else{if(_39a.status==="error"){err=lang.mixin(new Error(),_39a);err.log=_386.isDebug;}}if(err&&!_38d.isDefined(err.httpCode)){err.httpCode=err.code;}}return err||_39a;};req.error=function(_39b,io){if(io&&io.xhr){io.xhr.abort();}if(!(_39b instanceof Error)){_39b=lang.mixin(new Error(),_39b);}_39b.log=_386.isDebug;_399.errorHandler(_39b,io);return _39b;};if(req._token){req.content=req.content||{};req.content.token=req._token;}var len=0;if(_398&&path){len=ioq.objectToQuery(_398).length+path.length+1;}req.timeout=_38d.isDefined(req.timeout)?req.timeout:_399.timeout;req.handleAs=req.handleAs||"json";try{var _39c,_39d,_39e=_397&&_38e.canUseXhr(req.url)&&!(/https?:\/\/[^\/]+\/[^\/]+\/admin\/?(\/.*)?$/i.test(req.url)),_39f=(_38e.hasSameOrigin(req.url,window.location.href)||_39e),_3a0=(_396||_393||len>_399.postLength)?true:false,_3a1=(!_39f&&req.handleAs.indexOf("json")!==-1&&req.callbackParamName&&!_393)?true:false,_3a2=(!!_38e.getProxyRule(req.url)||_399.alwaysUseProxy||_395||((!_3a1||_3a0)&&!_39f))?true:false;if(_393&&!has("esri-file-upload")&&!_3a2&&_39e){_3a2=true;}if(_3a2){_39c=_38e.getProxyUrl(path,_397);_39d=_39c.path;if(_39c._xo){_39e=true;}if(!_3a0&&(_39d.length+1+len)>_399.postLength){_3a0=true;}req.url=_39d+"?"+path;if(_3a0){req.content=lang.mixin(_39c.query||{},_398);}else{var _3a3=ioq.objectToQuery(lang.mixin(_39c.query||{},_398));if(_3a3){req.url+=("?"+_3a3);}req.content=null;}}if(_3a1&&!_3a0){if(!_38d.isDefined(req.isAsync)&&has("ff")<4){req.isAsync=true;}return _388.get(_390?_390(req):req);}else{var hdrs=req.headers;if(_39e&&(!hdrs||!hdrs.hasOwnProperty("X-Requested-With"))){hdrs=req.headers=(hdrs||{});hdrs["X-Requested-With"]=null;}if(_393){var _3a4=req.callbackParamName||"callback.html",_3a5=req.callbackElementName||"textarea",_3a6,_3a7,_3a8,i,il=form.elements?form.elements.length:0,el;_398=req.content;if(_398){for(_3a6 in _398){_3a8=_398[_3a6];if(_38d.isDefined(_3a8)){_3a7=null;for(i=0;i<il;i++){el=form.elements[i];if(el.name===_3a6){_3a7=el;break;}}if(_3a7){_3a7.value=_3a8;}else{if(_394){form.append(_3a6,_3a8);}else{form.appendChild(_38a.create("input",{type:"hidden",name:_3a6,value:_3a8}));}}}}}if(has("esri-file-upload")){_385.forEach(form.elements,function(el){if(el.name===_3a4){form.removeChild(el);}});req.contentType=false;req.postData=_394?form:new FormData(form);delete req.form;}else{form.enctype="multipart/form-data";if(has("ie")<9){form.encoding="multipart/form-data";}form.method="post";if(!_385.some(form.elements,function(el){return el.name===_3a4;})){form.appendChild(_38a.create("input",{type:"hidden",name:_3a4,value:_3a5}));}if(path.toLowerCase().indexOf("addattachment")!==-1||path.toLowerCase().indexOf("updateattachment")!==-1){req.url=path+((path.indexOf("?")===-1)?"?":"&")+_3a4+"="+_3a5;if(_3a2){req.url=_39d+"?"+req.url;}}delete req.content;}}if(_39e&&!req.hasOwnProperty("withCredentials")&&_38b.id){var _3a9=_38b.id.findServerInfo(_3a2?_39d:path);if(_3a9&&_3a9.webTierAuth){req.withCredentials=true;}}req=_390?_390(req):req;if(_3a0){if(_393&&!has("esri-file-upload")){return _389.send(req);}else{return xhr.post(req);}}else{return xhr.get(req);}}}catch(e){var dfd=new _387();dfd.errback(req.error(e));return dfd;}};function _3aa(url){var _3ab=_38c.defaults.io,_3ac=_3ab._processedCorsServers,_3ad=new Url(url),_3ae=-1;_3ad=(_3ad.host+(_3ad.port?(":"+_3ad.port):"")).toLowerCase();_3ae=_38e.canUseXhr(url,true);if(_3ae>-1){_3ab.corsEnabledServers.splice(_3ae,1);}_3ac[_3ad]=1;return _3ae;};function _3af(url){var _3b0=_38c.defaults.io,_3b1=_3b0._processedCorsServers;if(!_3b0.corsDetection){return;}try{var _3b2=new Url(url);_3b2=(_3b2.host+(_3b2.port?(":"+_3b2.port):"")).toLowerCase();if(has("esri-cors")&&(url&&url.toLowerCase().indexOf("/rest/services")!==-1)&&(!_38e.hasSameOrigin(url,window.location.href)&&!_38e.canUseXhr(url))&&!_3b1[_3b2]){_3b1[_3b2]=-1;xhr.get({url:url.substring(0,url.toLowerCase().indexOf("/rest/")+"/rest/".length)+"info",content:{f:"json"},failOk:true,handleAs:"json",headers:{"X-Requested-With":null}}).then(function(_3b3){if(_3b3){_3b1[_3b2]=2;if(!_38e.canUseXhr(url)){_3b0.corsEnabledServers.push(_3b2);}}else{_3b1[_3b2]=1;}},function(_3b4){_3b1[_3b2]=1;});}}catch(e){console.log("esri._detectCors: an unknown error occurred while detecting CORS support");}};function _3b5(_3b6){_390=_3b6;};function _3b7(req,_3b8){var dfd,form=req.form,_3b9=_3b8&&_3b8.disableIdentityLookup,_3ba=_3b8&&_3b8._preLookup,_3bb=form&&form.append,_3bc=form&&(form.elements?_385.some(form.elements,function(el){return el.type==="file";}):_3bb),_3bd=(req.url.toLowerCase().indexOf("token=")!==-1||(req.content&&req.content.token)||(_3bc&&_385.some(form.elements,function(el){return el.name==="token";})))?1:0;_3af(req.url);if(req._usrDfd){dfd=req._usrDfd;}else{dfd=new _387(_38f._dfdCanceller);dfd.addCallback(function(){var _3be=req._credential;if(_3be){var _3bf=_38b.id.findServerInfo(_3be.server),_3c0=_3bf&&_3bf.owningSystemUrl,_3c1;if(_3c0){_3c0=_3c0.replace(/\/?$/,"/sharing");_3c1=_38b.id.findCredential(_3c0,_3be.userId);if(_3c1){if(_38b.id._getIdenticalSvcIdx(_3c0,_3c1)===-1){_3c1.resources.splice(0,0,_3c0);}}}}});dfd.addBoth(function(_3c2){delete req._credential;if(_3c2&&(!has("ie")||!_3c2.nodeType)){_3c2._ssl=req._ssl;}});var ld=req.load,_3c3=req.error;if(ld){dfd.addCallback(function(_3c4){var _3c5=dfd._pendingDfd,_3c6=_3c5&&_3c5.ioArgs,args=_3c6&&_3c6.args;return ld.call(args,_3c4,_3c6);});}if(_3c3){dfd.addErrback(function(_3c7){var _3c8=dfd._pendingDfd,_3c9=_3c8&&_3c8.ioArgs,args=_3c9&&_3c9.args;return _3c3.call(args,_3c7,_3c9);});}}if(_38b.id&&!_3bd&&!req._token&&!_38b.id._isPublic(req.url)&&(!_3b9||_3ba)){var _3ca=_38b.id.findCredential(req.url);if(_3ca){req._token=_3ca.token;req._ssl=_3ca.ssl;}}dfd._pendingDfd=_391(req,_3b8,_3bc,_3bb);if(!dfd._pendingDfd){dfd.ioArgs=dfd._pendingDfd&&dfd._pendingDfd.ioArgs;var err=new Error("Deferred object is missing");err.log=_386.isDebug;req._usrDfd=null;dfd.errback(err);dfd._pendingDfd=null;return dfd;}dfd._pendingDfd.addCallback(function(_3cb){dfd.ioArgs=dfd._pendingDfd&&dfd._pendingDfd.ioArgs;req._usrDfd=null;dfd.callback(_3cb);dfd._pendingDfd=null;}).addErrback(function(_3cc){if(_3cc&&_3cc.code==403&&(_3cc.subcode==4||(_3cc.message&&_3cc.message.toLowerCase().indexOf("ssl")>-1&&_3cc.message.toLowerCase().indexOf("permission")===-1))){if(!req._ssl){req._ssl=req._sslFromServer=true;req._usrDfd=dfd;_3b7(req,_3b8);return;}}else{if(_3cc&&_3cc.status==415){var _3cd=_3aa(req.url);if(!req._err415){req._err415=1;req._usrDfd=dfd;_3b7(req,_3b8);return;}}else{if(_38b.id&&_385.indexOf(_38b.id._errorCodes,_3cc.code)!==-1&&!_38b.id._isPublic(req.url)&&!_3b9&&(_3cc.code!=403||!_38d.isDefined(_3cc.subcode)||_3cc.subcode==2)){dfd._pendingDfd=_38b.id.getCredential(req.url,{token:req._token,error:_3cc});dfd._pendingDfd.addCallback(function(_3ce){req._token=_3ce.token;req._usrDfd=dfd;req._credential=_3ce;req._ssl=req._sslFromServer||_3ce.ssl;_3b7(req,_3b8);}).addErrback(function(_3cf){req._usrDfd=null;dfd.errback(_3cf);dfd._pendingDfd=null;});return;}}}dfd.ioArgs=dfd._pendingDfd&&dfd._pendingDfd.ioArgs;req._usrDfd=null;dfd.errback(_3cc);dfd._pendingDfd=null;});return dfd;};_3b7._request=_391;_3b7._disableCors=_3aa;_3b7._detectCors=_3af;_3b7.setRequestPreCallback=_3b5;if(has("extend-esri")){_38b.request=_3b7;_38b._request=_391;_38b._disableCors=_3aa;_38b._detectCors=_3af;_38b.setRequestPreCallback=_3b5;}return _3b7;});},"esri/symbols/SimpleLineSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","dojox/gfx/_base","esri/kernel","esri/lang","esri/symbols/LineSymbol"],function(_3d0,lang,_3d1,has,_3d2,_3d3,_3d4,_3d5){var _3d6={STYLE_SOLID:"solid",STYLE_DASH:"dash",STYLE_DOT:"dot",STYLE_DASHDOT:"dashdot",STYLE_DASHDOTDOT:"longdashdotdot",STYLE_NULL:"none",STYLE_SHORTDASH:"shortdash",STYLE_SHORTDOT:"shortdot",STYLE_SHORTDASHDOT:"shortdashdot",STYLE_SHORTDASHDOTDOT:"shortdashdotdot",STYLE_LONGDASH:"longdash",STYLE_LONGDASHDOT:"longdashdot"};var _3d7={color:[0,0,0,1],style:_3d6.STYLE_SOLID,width:1};var SLS=_3d0(_3d5,{declaredClass:"esri.symbol.SimpleLineSymbol",type:"simplelinesymbol",_styles:{solid:"esriSLSSolid",dash:"esriSLSDash",dot:"esriSLSDot",dashdot:"esriSLSDashDot",longdashdotdot:"esriSLSDashDotDot",none:"esriSLSNull",insideframe:"esriSLSInsideFrame",shortdash:"esriSLSShortDash",shortdot:"esriSLSShortDot",shortdashdot:"esriSLSShortDashDot",shortdashdotdot:"esriSLSShortDashDotDot",longdash:"esriSLSLongDash",longdashdot:"esriSLSLongDashDot"},constructor:function(json,_3d8,_3d9){if(json){if(lang.isString(json)){this.style=json;if(_3d8){this.color=_3d8;}if(_3d9){this.width=_3d9;}}else{this.style=_3d4.valueOf(this._styles,json.style)||_3d6.STYLE_SOLID;}}else{lang.mixin(this,_3d7);this.color=new _3d1(this.color);this.width=_3d2.pt2px(this.width);}},setStyle:function(_3da){this.style=_3da;return this;},getStroke:function(){return (this.style===_3d6.STYLE_NULL||this.width===0)?null:{color:this.color,style:this.style,width:this.width};},getFill:function(){return null;},getShapeDescriptors:function(){return {defaultShape:{type:"path",path:"M -15,0 L 15,0 E"},fill:null,stroke:this.getStroke()};},toJson:function(){return _3d4.fixJson(lang.mixin(this.inherited("toJson",arguments),{type:"esriSLS",style:this._styles[this.style]}));}});lang.mixin(SLS,_3d6);SLS.defaultProps=_3d7;if(has("extend-esri")){lang.setObject("symbol.SimpleLineSymbol",SLS,_3d3);_3d3.symbol.defaultSimpleLineSymbol=_3d7;}return SLS;});},"esri/tileUtils":function(){define(["dojo/_base/array","dojo/has","esri/kernel","esri/geometry/Point","esri/geometry/Extent"],function(_3db,has,_3dc,_3dd,_3de){function _3df(map,ti,_3e0){var wd=map.width,ht=map.height,ew=_3e0.xmax-_3e0.xmin,eh=_3e0.ymax-_3e0.ymin,_3e1=(map.__tileInfo===ti),_3e2=_3e1?map.getMinZoom():-1,_3e3=_3e1?map.getMaxZoom():-1,ed=-1,lods=ti.lods,i,abs=Math.abs,lod,cl,ced;_3e2=(_3e2>-1)?_3e2:0;_3e3=(_3e3>-1)?_3e3:(lods.length-1);for(i=_3e2;i<=_3e3;i++){cl=lods[i];if(!cl){continue;}ced=ew>eh?abs(eh-(ht*cl.resolution)):abs(ew-(wd*cl.resolution));if(ed<0||ced<=ed){lod=cl;ed=ced;}else{break;}}return lod;};function _3e4(map,_3e5,lod){var res=lod.resolution,cx=(_3e5.xmin+_3e5.xmax)/2,cy=(_3e5.ymin+_3e5.ymax)/2,_3e6=(map.width/2)*res,_3e7=(map.height/2)*res;return new _3de(cx-_3e6,cy-_3e7,cx+_3e6,cy+_3e7,_3e5.spatialReference);};function _3e8(map,ti,_3e9,lod){var res=lod.resolution,tw=ti.width,th=ti.height,to=ti.origin,mv=map.__visibleDelta,_3ea=Math.floor,tmw=tw*res,tmh=th*res,tr=_3ea((to.y-_3e9.y)/tmh),tc=_3ea((_3e9.x-to.x)/tmw),tmox=to.x+(tc*tmw),tmoy=to.y-(tr*tmh),oX=_3ea(Math.abs((_3e9.x-tmox)*tw/tmw))+mv.x,oY=_3ea(Math.abs((_3e9.y-tmoy)*th/tmh))+mv.y;return {point:_3e9,coords:{row:tr,col:tc},offsets:{x:oX,y:oY}};};var _3eb={_addFrameInfo:function(_3ec,_3ed){var _3ee,_3ef,_3f0=2*_3ed.origin[1],m180=_3ed.origin[0],_3f1=_3ec.origin.x,_3f2=_3ec.width,_3f3;_3db.forEach(_3ec.lods,function(lod){_3ee=Math.round(_3f0/lod.resolution);_3ef=Math.ceil(_3ee/_3f2);_3f3=Math.floor((m180-_3f1)/(_3f2*lod.resolution));if(!lod._frameInfo){lod._frameInfo=[_3ef,_3f3,_3f3+_3ef-1,_3ee];}});},getContainingTileCoords:function(ti,_3f4,lod){var to=ti.origin,res=lod.resolution,tmw=ti.width*res,tmh=ti.height*res,tc=Math.floor((_3f4.x-to.x)/tmw),tr=Math.floor((to.y-_3f4.y)/tmh);return {row:tr,col:tc};},getCandidateTileInfo:function(map,ti,_3f5){var lod=_3df(map,ti,_3f5),adj=_3e4(map,_3f5,lod),ct=_3e8(map,ti,new _3dd(adj.xmin,adj.ymax,_3f5.spatialReference),lod);return {tile:ct,lod:lod,extent:adj};},getTileExtent:function(ti,_3f6,row,col){var to=ti.origin,lod=ti.lods[_3f6],res=lod.resolution,tw=ti.width,th=ti.height;return new _3de(((col*res)*tw)+to.x,to.y-((row+1)*res)*th,(((col+1)*res)*tw)+to.x,to.y-((row*res)*th),ti.spatialReference);}};if(has("extend-esri")){_3dc.TileUtils=_3eb;}return _3eb;});},"esri/layers/LabelClass":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/symbols/TextSymbol"],function(_3f7,lang,has,_3f8,_3f9,_3fa){var _3fb=_3f7(null,{declaredClass:"esri.layers.LabelClass",labelPlacement:null,labelExpression:null,useCodedValues:null,symbol:null,maxScale:0,minScale:0,where:null,labelPlacementLookup:{"above-center":"esriServerPointLabelPlacementAboveCenter","above-left":"esriServerPointLabelPlacementAboveLeft","above-right":"esriServerPointLabelPlacementAboveRight","below-center":"esriServerPointLabelPlacementBelowCenter","below-left":"esriServerPointLabelPlacementBelowLeft","below-right":"esriServerPointLabelPlacementBelowRight","center-center":"esriServerPointLabelPlacementCenterCenter","center-left":"esriServerPointLabelPlacementCenterLeft","center-right":"esriServerPointLabelPlacementCenterRight","above-after":"esriServerLinePlacementAboveAfter","above-along":"esriServerLinePlacementAboveAlong","above-before":"esriServerLinePlacementAboveBefore","above-start":"esriServerLinePlacementAboveStart","above-end":"esriServerLinePlacementAboveEnd","below-after":"esriServerLinePlacementBelowAfter","below-along":"esriServerLinePlacementBelowAlong","below-before":"esriServerLinePlacementBelowBefore","below-start":"esriServerLinePlacementBelowStart","below-end":"esriServerLinePlacementBelowEnd","center-after":"esriServerLinePlacementCenterAfter","center-along":"esriServerLinePlacementCenterAlong","center-before":"esriServerLinePlacementCenterBefore","center-start":"esriServerLinePlacementCenterStart","center-end":"esriServerLinePlacementCenterEnd","always-horizontal":"esriServerPolygonPlacementAlwaysHorizontal"},constructor:function(json){if(json){lang.mixin(this,json);if(this.labelPlacementLookup.hasOwnProperty(json.labelPlacement)){this.labelPlacement=this.labelPlacementLookup[json.labelPlacement];}if(json.symbol){this.symbol=new _3fa(json.symbol);}}},toJson:function(){var json=this;if(this.labelPlacementLookup.hasOwnProperty(json.labelPlacement)){json.labelPlacement=this.labelPlacementLookup[json.labelPlacement];}if(this.symbol){json.symbol=this.symbol.toJson();}return _3f9.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.LabelClass",_3fb,_3f8);}return _3fb;});},"esri/layers/DataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(_3fc,lang,has,_3fd){var _3fe=_3fc(null,{declaredClass:"esri.layers.DataSource",constructor:function(json){if(json){lang.mixin(this,json);}},toJson:function(){}});if(has("extend-esri")){lang.setObject("layers.DataSource",_3fe,_3fd);}return _3fe;});},"esri/utils":function(){define(["esri/domUtils","esri/lang","esri/urlUtils","esri/request","esri/tileUtils","esri/graphicsUtils","esri/deferredUtils","esri/layerUtils","esri/geometry/normalizeUtils"],function(){return {};});},"esri/renderers/TimeClassBreaksAger":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","dojo/date","esri/kernel","esri/lang","esri/symbols/jsonUtils","esri/renderers/SymbolAger"],function(_3ff,_400,lang,has,_401,_402,_403,_404,_405){var _406={UNIT_DAYS:"day",UNIT_HOURS:"hour",UNIT_MILLISECONDS:"millisecond",UNIT_MINUTES:"minute",UNIT_MONTHS:"month",UNIT_SECONDS:"second",UNIT_WEEKS:"week",UNIT_YEARS:"year"};var _407=_3ff(_405,{declaredClass:"esri.renderer.TimeClassBreaksAger",constructor:function(_408,_409){this.infos=_408;this.timeUnits=_409||"day";_408.sort(function(a,b){if(a.minAge<b.minAge){return -1;}if(a.minAge>b.minAge){return 1;}return 0;});},getAgedSymbol:function(_40a,_40b){var _40c=_40b.getLayer(),_40d=_40b.attributes,_40e=_403.isDefined;_40a=_404.fromJson(_40a.toJson());var _40f=_40c._map.timeExtent;var _410=_40f.endTime;if(!_410){return _40a;}var _411=new Date(_40d[_40c._startTimeField]);var diff=_401.difference(_411,_410,this.timeUnits);_400.some(this.infos,function(info){if(diff>=info.minAge&&diff<=info.maxAge){var _412=info.color,size=info.size,_413=info.alpha;if(_412){_40a.setColor(_412);}if(_40e(size)){this._setSymbolSize(_40a,size);}if(_40e(_413)&&_40a.color){_40a.color.a=_413;}return true;}},this);return _40a;}});lang.mixin(_407,_406);if(has("extend-esri")){lang.setObject("renderer.TimeClassBreaksAger",_407,_402);}return _407;});},"dojo/io/iframe":function(){define(["../_base/config","../_base/json","../_base/kernel","../_base/lang","../_base/xhr","../sniff","../_base/window","../dom","../dom-construct","../query","require","../aspect","../request/iframe"],function(_414,json,_415,lang,xhr,has,win,dom,_416,_417,_418,_419,_41a){_415.deprecated("dojo/io/iframe","Use dojo/request/iframe.","2.0");var mid=_41a._iframeName;mid=mid.substring(0,mid.lastIndexOf("_"));var _41b=lang.delegate(_41a,{create:function(){return _41b._frame=_41a.create.apply(_41a,arguments);},get:null,post:null,send:function(args){var rDfd;var dfd=xhr._ioSetArgs(args,function(dfd){rDfd&&rDfd.cancel();},function(dfd){var _41c=null,_41d=dfd.ioArgs;try{var _41e=_41d.handleAs;if(_41e==="xml"||_41e==="html"){_41c=rDfd.response.data;}else{_41c=rDfd.response.text;if(_41e==="json"){_41c=json.fromJson(_41c);}else{if(_41e==="javascript"){_41c=_415.eval(_41c);}}}}catch(e){_41c=e;}return _41c;},function(_41f,dfd){dfd.ioArgs._hasError=true;return _41f;});var _420=dfd.ioArgs;var _421="GET",form=dom.byId(args.form);if(args.method&&args.method.toUpperCase()==="POST"&&form){_421="POST";}var _422={method:_421,handleAs:args.handleAs==="json"||args.handleAs==="javascript"?"text":args.handleAs,form:args.form,query:form?null:args.content,data:form?args.content:null,timeout:args.timeout,ioArgs:_420};if(_422.method){_422.method=_422.method.toUpperCase();}if(_414.ioPublish&&_415.publish&&_420.args.ioPublish!==false){var _423=_419.after(_41a,"_notifyStart",function(data){if(data.options.ioArgs===_420){_423.remove();xhr._ioNotifyStart(dfd);}},true);}rDfd=_41a(_420.url,_422,true);_420._callNext=rDfd._callNext;rDfd.then(function(){dfd.resolve(dfd);}).otherwise(function(_424){dfd.ioArgs.error=_424;dfd.reject(_424);});return dfd;},_iframeOnload:win.global[mid+"_onload"]});lang.setObject("dojo.io.iframe",_41b);return _41b;});},"esri/layers/agsdynamic":function(){define(["esri/layers/agscommon","esri/layers/ArcGISDynamicMapServiceLayer","esri/_time"],function(){return {};});},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","dojo/when"],function(_425,lang,_426,when){return _425("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(name){var apn=this._attrPairNames;if(apn[name]){return apn[name];}return (apn[name]={s:"_"+name+"Setter",g:"_"+name+"Getter"});},postscript:function(_427){if(_427){this.set(_427);}},_get:function(name,_428){return typeof this[_428.g]==="function"?this[_428.g]():this[name];},get:function(name){return this._get(name,this._getAttrNames(name));},set:function(name,_429){if(typeof name==="object"){for(var x in name){if(name.hasOwnProperty(x)&&x!="_watchCallbacks"){this.set(x,name[x]);}}return this;}var _42a=this._getAttrNames(name),_42b=this._get(name,_42a),_42c=this[_42a.s],_42d;if(typeof _42c==="function"){_42d=_42c.apply(this,Array.prototype.slice.call(arguments,1));}else{this[name]=_429;}if(this._watchCallbacks){var self=this;when(_42d,function(){self._watchCallbacks(name,_42b,_429);});}return this;},_changeAttrValue:function(name,_42e){var _42f=this.get(name);this[name]=_42e;if(this._watchCallbacks){this._watchCallbacks(name,_42f,_42e);}return this;},watch:function(name,_430){var _431=this._watchCallbacks;if(!_431){var self=this;_431=this._watchCallbacks=function(name,_432,_433,_434){var _435=function(_436){if(_436){_436=_436.slice();for(var i=0,l=_436.length;i<l;i++){_436[i].call(self,name,_432,_433);}}};_435(_431["_"+name]);if(!_434){_435(_431["*"]);}};}if(!_430&&typeof name==="function"){_430=name;name="*";}else{name="_"+name;}var _437=_431[name];if(typeof _437!=="object"){_437=_431[name]=[];}_437.push(_430);var _438={};_438.unwatch=_438.remove=function(){var _439=_426.indexOf(_437,_430);if(_439>-1){_437.splice(_439,1);}};return _438;}});});},"esri/symbols/PictureMarkerSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojox/gfx/_base","esri/kernel","esri/lang","esri/urlUtils","esri/symbols/MarkerSymbol"],function(_43a,lang,has,_43b,_43c,_43d,_43e,_43f){var _440={url:"",width:12,height:12,angle:0,xoffset:0,yoffset:0};var PMS=_43a(_43f,{declaredClass:"esri.symbol.PictureMarkerSymbol",type:"picturemarkersymbol",constructor:function(json,_441,_442){if(json){if(lang.isString(json)){this.url=json;if(_441){this.width=_441;}if(_442){this.height=_442;}}else{this.width=_43b.pt2px(json.width);this.height=_43b.pt2px(json.height);var _443=json.imageData;if((!(has("ie")<9))&&_443){var temp=this.url;this.url="data:"+(json.contentType||"image")+";base64,"+_443;this.imageData=temp;}}}else{lang.mixin(this,_440);this.width=_43b.pt2px(this.width);this.height=_43b.pt2px(this.height);}},getStroke:function(){return null;},getFill:function(){return null;},setWidth:function(_444){this.width=_444;return this;},setHeight:function(_445){this.height=_445;return this;},setUrl:function(url){if(url!==this.url){delete this.imageData;delete this.contentType;}this.url=url;return this;},getShapeDescriptors:function(){var _446={type:"image",x:-Math.round(this.width/2),y:-Math.round(this.height/2),width:this.width,height:this.height,src:this.url||""};return {defaultShape:_446,fill:null,stroke:null};},toJson:function(){var url=this.url,_447=this.imageData;if(url.indexOf("data:")===0){var temp=url;url=_447;var _448=temp.indexOf(";base64,")+8;_447=temp.substr(_448);}url=_43e.getAbsoluteUrl(url);var _449=_43b.px2pt(this.width);_449=isNaN(_449)?undefined:_449;var _44a=_43b.px2pt(this.height);_44a=isNaN(_44a)?undefined:_44a;var _44b=_43d.fixJson(lang.mixin(this.inherited("toJson",arguments),{type:"esriPMS",url:url,imageData:_447,contentType:this.contentType,width:_449,height:_44a}));delete _44b.color;delete _44b.size;if(!_44b.imageData){delete _44b.imageData;}return _44b;}});PMS.defaultProps=_440;if(has("extend-esri")){lang.setObject("symbol.PictureMarkerSymbol",PMS,_43c);_43c.symbol.defaultPictureMarkerSymbol=_440;}return PMS;});},"esri/layers/InheritedDomain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/layers/Domain"],function(_44c,lang,has,_44d,_44e){var _44f=_44c([_44e],{declaredClass:"esri.layers.InheritedDomain"});if(has("extend-esri")){lang.setObject("layers.InheritedDomain",_44f,_44d);}return _44f;});},"esri/layers/LayerDataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/LayerSource","esri/layers/TableDataSource","esri/layers/QueryDataSource","esri/layers/JoinDataSource","esri/layers/RasterDataSource"],function(_450,lang,has,_451,_452,_453,_454,_455,_456,_457){var _458=_450(_453,{declaredClass:"esri.layers.LayerDataSource",type:"dataLayer",constructor:function(json){if(json&&json.dataSource){var _459;switch(json.dataSource.type){case "table":_459=new _454(json.dataSource);break;case "queryTable":_459=new _455(json.dataSource);break;case "joinTable":_459=new _456(json.dataSource);break;case "raster":_459=new _457(json.dataSource);break;default:_459=json.dataSource;}this.dataSource=_459;}},toJson:function(){var json={type:"dataLayer",dataSource:this.dataSource&&this.dataSource.toJson()};return _452.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.LayerDataSource",_458,_451);}return _458;});},"dojox/xml/parser":function(){define("dojox/xml/parser",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array","dojo/_base/window","dojo/_base/sniff"],function(dojo){dojo.getObject("xml.parser",true,dojox);dojox.xml.parser.parse=function(str,_45a){var _45b=dojo.doc;var doc;_45a=_45a||"text/xml";if(str&&dojo.trim(str)&&"DOMParser" in dojo.global){var _45c=new DOMParser();doc=_45c.parseFromString(str,_45a);var de=doc.documentElement;var _45d="http://www.mozilla.org/newlayout/xml/parsererror.xml";if(de.nodeName=="parsererror"&&de.namespaceURI==_45d){var _45e=de.getElementsByTagNameNS(_45d,"sourcetext")[0];if(_45e){_45e=_45e.firstChild.data;}throw new Error("Error parsing text "+de.firstChild.data+" \n"+_45e);}return doc;}else{if("ActiveXObject" in dojo.global){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];dojo.some(dp,function(p){try{doc=new ActiveXObject(p);}catch(e){return false;}return true;});if(str&&doc){doc.async=false;doc.loadXML(str);var pe=doc.parseError;if(pe.errorCode!==0){throw new Error("Line: "+pe.line+"\n"+"Col: "+pe.linepos+"\n"+"Reason: "+pe.reason+"\n"+"Error Code: "+pe.errorCode+"\n"+"Source: "+pe.srcText);}}if(doc){return doc;}}else{if(_45b.implementation&&_45b.implementation.createDocument){if(str&&dojo.trim(str)&&_45b.createElement){var tmp=_45b.createElement("xml");tmp.innerHTML=str;var _45f=_45b.implementation.createDocument("foo","",null);dojo.forEach(tmp.childNodes,function(_460){_45f.importNode(_460,true);});return _45f;}else{return _45b.implementation.createDocument("","",null);}}}}return null;};dojox.xml.parser.textContent=function(node,text){if(arguments.length>1){var _461=node.ownerDocument||dojo.doc;dojox.xml.parser.replaceChildren(node,_461.createTextNode(text));return text;}else{if(node.textContent!==undefined){return node.textContent;}var _462="";if(node){dojo.forEach(node.childNodes,function(_463){switch(_463.nodeType){case 1:case 5:_462+=dojox.xml.parser.textContent(_463);break;case 3:case 2:case 4:_462+=_463.nodeValue;}});}return _462;}};dojox.xml.parser.replaceChildren=function(node,_464){var _465=[];if(dojo.isIE){dojo.forEach(node.childNodes,function(_466){_465.push(_466);});}dojox.xml.parser.removeChildren(node);dojo.forEach(_465,dojo.destroy);if(!dojo.isArray(_464)){node.appendChild(_464);}else{dojo.forEach(_464,function(_467){node.appendChild(_467);});}};dojox.xml.parser.removeChildren=function(node){var _468=node.childNodes.length;while(node.hasChildNodes()){node.removeChild(node.firstChild);}return _468;};dojox.xml.parser.innerXML=function(node){if(node.innerXML){return node.innerXML;}else{if(node.xml){return node.xml;}else{if(typeof XMLSerializer!="undefined"){return (new XMLSerializer()).serializeToString(node);}}}return null;};return dojox.xml.parser;});},"esri/layers/ImageParameters":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/json","dojo/has","esri/kernel","esri/lang","esri/layerUtils"],function(_469,_46a,lang,_46b,has,_46c,_46d,_46e){var _46f=_46a(null,{declaredClass:"esri.layers.ImageParameters",constructor:function(){this.layerDefinitions=[];},bbox:null,extent:null,width:null,height:null,dpi:null,format:null,imageSpatialReference:null,layerOption:null,layerIds:null,transparent:null,timeExtent:null,layerTimeOptions:null,toJson:function(_470){if(this.bbox){_469.deprecated(this.declaredClass+" : Property 'bbox' deprecated. Use property 'extent'.");}var bb=this.bbox||this.extent;bb=bb&&_470&&bb._normalize(true);var _471=this.layerOption,wkid=bb?(bb.spatialReference.wkid||_46b.toJson(bb.spatialReference.toJson())):null,_472=this.imageSpatialReference,json={dpi:this.dpi,format:this.format,transparent:this.transparent,size:(this.width!==null&&this.height!==null?this.width+","+this.height:null),bbox:(bb?(bb.xmin+","+bb.ymin+","+bb.xmax+","+bb.ymax):null),bboxSR:wkid,layers:(_471?_471+":"+this.layerIds.join(","):null),imageSR:(_472?(_472.wkid||_46b.toJson(_472.toJson())):wkid)};json.layerDefs=_46e._serializeLayerDefinitions(this.layerDefinitions);var _473=this.timeExtent;json.time=_473?_473.toJson().join(","):null;json.layerTimeOptions=_46e._serializeTimeOptions(this.layerTimeOptions);return _46d.filter(json,function(_474){if(_474!==null){return true;}});}});lang.mixin(_46f,{LAYER_OPTION_SHOW:"show",LAYER_OPTION_HIDE:"hide",LAYER_OPTION_INCLUDE:"include",LAYER_OPTION_EXCLUDE:"exclude"});if(has("extend-esri")){lang.setObject("layers.ImageParameters",_46f,_46c);}return _46f;});},"esri/symbols/Symbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","esri/kernel","esri/lang"],function(_475,lang,_476,has,_477,_478){function _479(clr){return clr&&new _476([clr[0],clr[1],clr[2],clr[3]/255]);};function _47a(clr){return clr&&[clr.r,clr.g,clr.b,Math.round(clr.a*255)];};var _47b=_475(null,{declaredClass:"esri.symbol.Symbol",color:new _476([0,0,0,1]),type:null,_stroke:null,_fill:null,constructor:function(json){if(json&&lang.isObject(json)){lang.mixin(this,json);if(this.color&&_478.isDefined(this.color[0])){this.color=_479(this.color);}var type=this.type;if(type&&type.indexOf("esri")===0){this.type={"esriSMS":"simplemarkersymbol","esriPMS":"picturemarkersymbol","esriSLS":"simplelinesymbol","esriCLS":"cartographiclinesymbol","esriSFS":"simplefillsymbol","esriPFS":"picturefillsymbol","esriTS":"textsymbol"}[type];}}},setColor:function(_47c){this.color=_47c;return this;},toJson:function(){return {color:_47a(this.color)};}});_47b.toDojoColor=_479;_47b.toJsonColor=_47a;if(has("extend-esri")){lang.setObject("symbol.Symbol",_47b,_477);_477.symbol.toDojoColor=_479;_477.symbol.toJsonColor=_47a;}return _47b;});},"esri/lang":function(){define(["dojo/_base/array","dojo/_base/json","dojo/_base/kernel","dojo/_base/lang","dojo/date","dojo/has","dojo/number","dojo/date/locale","esri/kernel"],function(_47d,json,_47e,lang,_47f,has,_480,_481,_482){function _483(arr,obj,cb){return [lang.isString(arr)?arr.split(""):arr,obj||_47e.global,lang.isString(cb)?new Function("item","index","array",cb):cb];};function _484(_485){return (_485!==undefined)&&(_485!==null);};var _486="${*}",_487=["NumberFormat","DateString","DateFormat"];function _488(_489){return _484(_489)?_489:"";};function exec(key,data,_48a){var _48b=_48a.match(/([^\(]+)(\([^\)]+\))?/i),_48c=lang.trim(_48b[1]),_48d=data[key],_48e,args=json.fromJson((_48b[2]?lang.trim(_48b[2]):"()").replace(/^\(/,"({").replace(/\)$/,"})")),_48f=args.utcOffset;if(_47d.indexOf(_487,_48c)===-1){var ref=lang.getObject(_48c);if(lang.isFunction(ref)){_48d=ref(_48d,key,data);}}else{if(typeof _48d==="number"||(typeof _48d==="string"&&_48d&&!isNaN(Number(_48d)))){_48d=Number(_48d);switch(_48c){case "NumberFormat":return _480.format(_48d,args);break;case "DateString":_48e=new Date(_48d);if(args.local||args.systemLocale){if(args.systemLocale){return _48e.toLocaleDateString()+(args.hideTime?"":(" "+_48e.toLocaleTimeString()));}else{return _48e.toDateString()+(args.hideTime?"":(" "+_48e.toTimeString()));}}else{_48e=_48e.toUTCString();if(args.hideTime){_48e=_48e.replace(/\s+\d\d\:\d\d\:\d\d\s+(utc|gmt)/i,"");}return _48e;}break;case "DateFormat":_48e=new Date(_48d);if(_484(_48f)){_48e=_47f.add(_48e,"minute",(_48e.getTimezoneOffset()-_48f));}return _481.format(_48e,args);break;}}}return _488(_48d);};function _490(obj,_491){var prop;if(_491){for(prop in obj){if(obj.hasOwnProperty(prop)){if(obj[prop]===undefined||obj[prop]===null){delete obj[prop];}else{if(obj[prop] instanceof Object){_490(obj[prop],true);}}}}}else{for(prop in obj){if(obj.hasOwnProperty(prop)){if(obj[prop]===undefined){delete obj[prop];}}}}return obj;};var _492={valueOf:function(_493,_494){var i;for(i in _493){if(_493[i]==_494){return i;}}return null;},substitute:function(data,_495,_496){var _497,_498,_499;if(_484(_496)){if(lang.isObject(_496)){_497=_496.first;_498=_496.dateFormat;_499=_496.numberFormat;}else{_497=_496;}}if(!_495||_495===_486){var s=[],val,i;for(i in data){val=data[i];if(_498&&_47d.indexOf(_498.properties||"",i)!==-1){val=exec(i,data,_498.formatter||"DateString");}else{if(_499&&_47d.indexOf(_499.properties||"",i)!==-1){val=exec(i,data,_499.formatter||"NumberFormat");}}s.push(i+" = "+_488(val)+"<br/>");if(_497){break;}}return s.join("");}else{return lang.replace(_495,lang.hitch({obj:data},function(_49a,key){var _49b=key.split(":");if(_49b.length>1){key=_49b[0];_49b.shift();return exec(key,this.obj,_49b.join(":"));}else{if(_498&&_47d.indexOf(_498.properties||"",key)!==-1){return exec(key,this.obj,_498.formatter||"DateString");}if(_499&&_47d.indexOf(_499.properties||"",key)!==-1){return exec(key,this.obj,_499.formatter||"NumberFormat");}}return _488(this.obj[key]);}),/\$\{([^\}]+)\}/g);}},filter:function(arr,_49c,_49d){var _49e=_483(arr,_49d,_49c),_49f={},i;arr=_49e[0];for(i in arr){if(_49e[2].call(_49e[i],arr[i],i,arr)){_49f[i]=arr[i];}}return _49f;},isDefined:_484,fixJson:_490};if(has("extend-esri")){lang.mixin(_482,_492);_482._isDefined=_484;_482._getParts=_483;_482._sanitize=_490;}return _492;});},"dojox/collections/ArrayList":function(){define("dojox/collections/ArrayList",["dojo/_base/kernel","dojo/_base/array","./_base"],function(dojo,_4a0,dxc){dxc.ArrayList=function(arr){var _4a1=[];if(arr){_4a1=_4a1.concat(arr);}this.count=_4a1.length;this.add=function(obj){_4a1.push(obj);this.count=_4a1.length;};this.addRange=function(a){if(a.getIterator){var e=a.getIterator();while(!e.atEnd()){this.add(e.get());}this.count=_4a1.length;}else{for(var i=0;i<a.length;i++){_4a1.push(a[i]);}this.count=_4a1.length;}};this.clear=function(){_4a1.splice(0,_4a1.length);this.count=0;};this.clone=function(){return new dxc.ArrayList(_4a1);};this.contains=function(obj){for(var i=0;i<_4a1.length;i++){if(_4a1[i]==obj){return true;}}return false;};this.forEach=function(fn,_4a2){dojo.forEach(_4a1,fn,_4a2);};this.getIterator=function(){return new dxc.Iterator(_4a1);};this.indexOf=function(obj){for(var i=0;i<_4a1.length;i++){if(_4a1[i]==obj){return i;}}return -1;};this.insert=function(i,obj){_4a1.splice(i,0,obj);this.count=_4a1.length;};this.item=function(i){return _4a1[i];};this.remove=function(obj){var i=this.indexOf(obj);if(i>=0){_4a1.splice(i,1);}this.count=_4a1.length;};this.removeAt=function(i){_4a1.splice(i,1);this.count=_4a1.length;};this.reverse=function(){_4a1.reverse();};this.sort=function(fn){if(fn){_4a1.sort(fn);}else{_4a1.sort();}};this.setByIndex=function(i,obj){_4a1[i]=obj;this.count=_4a1.length;};this.toArray=function(){return [].concat(_4a1);};this.toString=function(_4a3){return _4a1.join((_4a3||","));};};return dxc.ArrayList;});},"dojox/collections/_base":function(){define("dojox/collections/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/array"],function(dojo,lang,arr){var _4a4=lang.getObject("dojox.collections",true);_4a4.DictionaryEntry=function(k,v){this.key=k;this.value=v;this.valueOf=function(){return this.value;};this.toString=function(){return String(this.value);};};_4a4.Iterator=function(a){var _4a5=0;this.element=a[_4a5]||null;this.atEnd=function(){return (_4a5>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_4a5++];return this.element;};this.map=function(fn,_4a6){return arr.map(a,fn,_4a6);};this.reset=function(){_4a5=0;this.element=a[_4a5];};};_4a4.DictionaryIterator=function(obj){var a=[];var _4a7={};for(var p in obj){if(!_4a7[p]){a.push(obj[p]);}}var _4a8=0;this.element=a[_4a8]||null;this.atEnd=function(){return (_4a8>=a.length);};this.get=function(){if(this.atEnd()){return null;}this.element=a[_4a8++];return this.element;};this.map=function(fn,_4a9){return arr.map(a,fn,_4a9);};this.reset=function(){_4a8=0;this.element=a[_4a8];};};return _4a4;});},"dojo/_base/url":function(){define(["./kernel"],function(dojo){var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$"),_4aa=function(){var n=null,_4ab=arguments,uri=[_4ab[0]];for(var i=1;i<_4ab.length;i++){if(!_4ab[i]){continue;}var _4ac=new _4aa(_4ab[i]+""),_4ad=new _4aa(uri[0]+"");if(_4ac.path==""&&!_4ac.scheme&&!_4ac.authority&&!_4ac.query){if(_4ac.fragment!=n){_4ad.fragment=_4ac.fragment;}_4ac=_4ad;}else{if(!_4ac.scheme){_4ac.scheme=_4ad.scheme;if(!_4ac.authority){_4ac.authority=_4ad.authority;if(_4ac.path.charAt(0)!="/"){var path=_4ad.path.substring(0,_4ad.path.lastIndexOf("/")+1)+_4ac.path;var segs=path.split("/");for(var j=0;j<segs.length;j++){if(segs[j]=="."){if(j==segs.length-1){segs[j]="";}else{segs.splice(j,1);j--;}}else{if(j>0&&!(j==1&&segs[0]=="")&&segs[j]==".."&&segs[j-1]!=".."){if(j==(segs.length-1)){segs.splice(j,1);segs[j-1]="";}else{segs.splice(j-1,2);j-=2;}}}}_4ac.path=segs.join("/");}}}}uri=[];if(_4ac.scheme){uri.push(_4ac.scheme,":");}if(_4ac.authority){uri.push("//",_4ac.authority);}uri.push(_4ac.path);if(_4ac.query){uri.push("?",_4ac.query);}if(_4ac.fragment){uri.push("#",_4ac.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};_4aa.prototype.toString=function(){return this.uri;};return dojo._Url=_4aa;});},"dojo/string":function(){define(["./_base/kernel","./_base/lang"],function(_4ae,lang){var _4af={};lang.setObject("dojo.string",_4af);_4af.rep=function(str,num){if(num<=0||!str){return "";}var buf=[];for(;;){if(num&1){buf.push(str);}if(!(num>>=1)){break;}str+=str;}return buf.join("");};_4af.pad=function(text,size,ch,end){if(!ch){ch="0";}var out=String(text),pad=_4af.rep(ch,Math.ceil((size-out.length)/ch.length));return end?out+pad:pad+out;};_4af.substitute=function(_4b0,map,_4b1,_4b2){_4b2=_4b2||_4ae.global;_4b1=_4b1?lang.hitch(_4b2,_4b1):function(v){return v;};return _4b0.replace(/\$\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}/g,function(_4b3,key,_4b4){var _4b5=lang.getObject(key,false,map);if(_4b4){_4b5=lang.getObject(_4b4,false,_4b2).call(_4b2,_4b5,key);}return _4b1(_4b5,key).toString();});};_4af.trim=String.prototype.trim?lang.trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;};return _4af;});},"esri/layers/LayerSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(_4b6,lang,has,_4b7){var _4b8=_4b6(null,{declaredClass:"esri.layers.LayerSource",type:null,constructor:function(json){if(json){lang.mixin(this,json);}},toJson:function(){}});if(has("extend-esri")){lang.setObject("layers.LayerSource",_4b8,_4b7);}return _4b8;});},"dijit/registry":function(){define("dijit/registry",["dojo/_base/array","dojo/sniff","dojo/_base/unload","dojo/_base/window","./main"],function(_4b9,has,_4ba,win,_4bb){var _4bc={},hash={};var _4bd={length:0,add:function(_4be){if(hash[_4be.id]){throw new Error("Tried to register widget with id=="+_4be.id+" but that id is already registered");}hash[_4be.id]=_4be;this.length++;},remove:function(id){if(hash[id]){delete hash[id];this.length--;}},byId:function(id){return typeof id=="string"?hash[id]:id;},byNode:function(node){return hash[node.getAttribute("widgetId")];},toArray:function(){var ar=[];for(var id in hash){ar.push(hash[id]);}return ar;},getUniqueId:function(_4bf){var id;do{id=_4bf+"_"+(_4bf in _4bc?++_4bc[_4bf]:_4bc[_4bf]=0);}while(hash[id]);return _4bb._scopeName=="dijit"?id:_4bb._scopeName+"_"+id;},findWidgets:function(root,_4c0){var _4c1=[];function _4c2(root){for(var node=root.firstChild;node;node=node.nextSibling){if(node.nodeType==1){var _4c3=node.getAttribute("widgetId");if(_4c3){var _4c4=hash[_4c3];if(_4c4){_4c1.push(_4c4);}}else{if(node!==_4c0){_4c2(node);}}}}};_4c2(root);return _4c1;},_destroyAll:function(){_4bb._curFocus=null;_4bb._prevFocus=null;_4bb._activeStack=[];_4b9.forEach(_4bd.findWidgets(win.body()),function(_4c5){if(!_4c5._destroyed){if(_4c5.destroyRecursive){_4c5.destroyRecursive();}else{if(_4c5.destroy){_4c5.destroy();}}}});},getEnclosingWidget:function(node){while(node){var id=node.nodeType==1&&node.getAttribute("widgetId");if(id){return hash[id];}node=node.parentNode;}return null;},_hash:hash};_4bb.registry=_4bd;return _4bd;});},"dijit/_base/manager":function(){define("dijit/_base/manager",["dojo/_base/array","dojo/_base/config","dojo/_base/lang","../registry","../main"],function(_4c6,_4c7,lang,_4c8,_4c9){var _4ca={};_4c6.forEach(["byId","getUniqueId","findWidgets","_destroyAll","byNode","getEnclosingWidget"],function(name){_4ca[name]=_4c8[name];});lang.mixin(_4ca,{defaultDuration:_4c7["defaultDuration"]||200});lang.mixin(_4c9,_4ca);return _4c9;});},"esri/dijit/Popup":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/kernel","dojo/has","dojo/window","dojo/Stateful","dojo/query","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","esri/kernel","esri/lang","esri/sniff","esri/domUtils","esri/geometry/Polyline","esri/geometry/Polygon","esri/InfoWindowBase","esri/PopupBase","dojo/i18n!esri/nls/jsapi","dojo/NodeList-dom"],function(_4cb,lang,_4cc,_4cd,_4ce,has,win,_4cf,_4d0,dom,_4d1,_4d2,_4d3,_4d4,_4d5,_4d6,_4d7,_4d8,_4d9,_4da,_4db,_4dc,_4dd,_4de,_4df){var _4e0=_4cb([_4dd,_4de,_4cf],{declaredClass:"esri.dijit.Popup",offsetX:3,offsetY:3,zoomFactor:4,marginLeft:25,marginTop:25,highlight:true,pagingControls:true,pagingInfo:true,keepHighlightOnHide:false,popupWindow:true,titleInBody:true,anchor:"auto",constructor:function(_4e1,_4e2){this.initialize();lang.mixin(this,_4e1);this.domNode=dom.byId(_4e2);var nls=this._nls=lang.mixin({},_4df.widgets.popup);var _4e3=this.domNode;_4d2.add(_4e3,"esriPopup");this._isRTL=!_4d4.isBodyLtr();if(this._isRTL){_4d5.set(_4e3,"direction","rtl");}var _4e4="<div class='esriPopupWrapper' style='position: absolute;'>"+"<div class='sizer'>"+"<div class='titlePane'>"+"<div class='spinner hidden' title='"+nls.NLS_searching+"...'></div>"+"<div class='title'></div>"+"<div class='titleButton prev hidden' title='"+nls.NLS_prevFeature+"'></div>"+"<div class='titleButton next hidden' title='"+nls.NLS_nextFeature+"'></div>"+"<div class='titleButton maximize' title='"+nls.NLS_maximize+"'></div>"+"<div class='titleButton close' title='"+nls.NLS_close+"'></div>"+"</div>"+"</div>"+"<div class='sizer content'>"+"<div class='contentPane'>"+"</div>"+"</div>"+"<div class='sizer'>"+"<div class='actionsPane'>"+"<div class='actionList hidden'>"+"<a class='action zoomTo' href='javascript:void(0);'>"+nls.NLS_zoomTo+"</a>"+"</div>"+"</div>"+"</div>"+"<div class='pointer hidden'></div>"+"</div>"+"<div class='outerPointer hidden'></div>";_4d1.set(_4e3,"innerHTML",_4e4);this._sizers=_4ce.query(".sizer",_4e3);var _4e5=_4ce.query(".titlePane",_4e3)[0];dom.setSelectable(_4e5,false);this._title=_4ce.query(".title",_4e5)[0];this._prevFeatureButton=_4ce.query(".prev",_4e5)[0];this._nextFeatureButton=_4ce.query(".next",_4e5)[0];this._maxButton=_4ce.query(".maximize",_4e5)[0];this._spinner=_4ce.query(".spinner",_4e5)[0];this._contentPane=_4ce.query(".contentPane",_4e3)[0];this._positioner=_4ce.query(".esriPopupWrapper",_4e3)[0];this._pointer=_4ce.query(".pointer",_4e3)[0];this._outerPointer=_4ce.query(".outerPointer",_4e3)[0];this._actionList=_4ce.query(".actionsPane .actionList",_4e3)[0];this._eventConnections=[_4cd.connect(_4ce.query(".close",_4e5)[0],"onclick",this,this.hide),_4cd.connect(this._prevFeatureButton,"onclick",this,this.selectPrevious),_4cd.connect(this._nextFeatureButton,"onclick",this,this.selectNext),_4cd.connect(this._maxButton,"onclick",this,this._toggleSize),_4cd.connect(_4ce.query(".zoomTo",this._actionList)[0],"onclick",this,this._zoomToFeature),_4cd.connect(this,"onClearFeatures",this,this._featuresCleared),_4cd.connect(this,"onSelectionChange",this,this._featureSelected),_4cd.connect(this,"onDfdComplete",this,this._updateUI)];if(has("esri-touch")){var _4e6=_4da.setScrollable(this._contentPane);this._eventConnections.push(_4e6[0],_4e6[1]);}this._toggleVisibility(false);},onMaximize:function(){},onRestore:function(){},setMap:function(map){this.inherited(arguments);_4d3.place(this.domNode,map.root);if(this.highlight){this.enableHighlight(map);}this._maxHeight=_4d5.get(this._contentPane,"maxHeight");},unsetMap:function(){this.disableHighlight(this.map);this.inherited(arguments);},setTitle:function(_4e7){if(!this.popupWindow){return;}if(!_4d8.isDefined(_4e7)||_4e7===""){_4e7="&nbsp;";}this.destroyDijits(this._title);this.place(_4e7,this._title);if(this.isShowing){this.startupDijits(this._title);this.reposition();}},setContent:function(_4e8){if(!this.popupWindow){return;}if(!_4d8.isDefined(_4e8)||_4e8===""){_4e8="&nbsp;";}this.destroyDijits(this._contentPane);this.place(_4e8,this._contentPane);if(this.isShowing){this.startupDijits(this._contentPane);this.reposition();}},show:function(_4e9,_4ea){if(!this.popupWindow){return;}if(!_4e9){this._toggleVisibility(true);return;}var map=this.map,_4eb;if(_4e9.spatialReference){this._location=_4e9;_4eb=map.toScreen(_4e9);}else{this._location=map.toMap(_4e9);_4eb=_4e9;}var _4ec=map._getFrameWidth();if(_4ec!==-1){_4eb.x=_4eb.x%_4ec;if(_4eb.x<0){_4eb.x+=_4ec;}if(map.width>_4ec){var _4ed=(map.width-_4ec)/2;while(_4eb.x<_4ed){_4eb.x+=_4ec;}}}if(this._maximized){this.restore();}else{this._setPosition(_4eb);}if(_4ea&&_4ea.closestFirst){this.showClosestFirst(this._location);}if(!this.isShowing){this._toggleVisibility(true);this._followMap();this.startupDijits(this._title);this.startupDijits(this._contentPane);this.reposition();this.showHighlight();this.onShow();}},hide:function(){if(this.isShowing){this._toggleVisibility(false);this._unfollowMap();if(!this.keepHighlightOnHide){this.hideHighlight();}this.onHide();}},resize:function(_4ee,_4ef){if(!this.popupWindow){return;}this._sizers.style({width:_4ee+"px"});_4d5.set(this._contentPane,"maxHeight",_4ef+"px");this._maxHeight=_4ef;if(this.isShowing){this.reposition();}},reposition:function(){if(!this.popupWindow){return;}if(this.map&&this._location&&!this._maximized&&this.isShowing){this._setPosition(this.map.toScreen(this._location));}},maximize:function(){var map=this.map;if(!map||this._maximized||!this.popupWindow){return;}this._maximized=true;var max=this._maxButton;_4d2.remove(max,"maximize");_4d2.add(max,"restore");_4d1.set(max,"title",this._nls.NLS_restore);var _4f0=this.marginLeft,_4f1=this.marginTop,_4f2=map.width-(2*_4f0),_4f3=map.height-(2*_4f1),_4f4=this.domNode;_4d5.set(_4f4,{left:this._isRTL?null:(_4f0+"px"),right:this._isRTL?(_4f0+"px"):null,top:_4f1+"px",bottom:null});_4d5.set(this._positioner,{left:null,right:null,top:null,bottom:null});this._savedWidth=_4d5.get(this._sizers[0],"width");this._savedHeight=_4d5.get(this._contentPane,"maxHeight");this._sizers.style({width:_4f2+"px"});_4d5.set(this._contentPane,{maxHeight:(_4f3-65)+"px",height:(_4f3-65)+"px"});this._showPointer("");this._unfollowMap();_4d2.add(this.domNode,"esriPopupMaximized");this.onMaximize();},restore:function(){var map=this.map;if(!map||!this._maximized||!this.popupWindow){return;}this._maximized=false;var max=this._maxButton;_4d2.remove(max,"restore");_4d2.add(max,"maximize");_4d1.set(max,"title",this._nls.NLS_maximize);_4d5.set(this._contentPane,"height",null);this.resize(this._savedWidth,this._savedHeight);this._savedWidth=this._savedHeight=null;this.show(this._location);this._followMap();_4d2.remove(this.domNode,"esriPopupMaximized");this.onRestore();},startup:function(){},destroy:function(){if(this.map){this.unsetMap();}this.cleanup();if(this.isShowing){this.hide();}this.destroyDijits(this._title);this.destroyDijits(this._content);_4cc.forEach(this._eventConnections,_4cd.disconnect);_4d3.destroy(this.domNode);this._sizers=this._contentPane=this._actionList=this._positioner=this._pointer=this._outerPointer=this._title=this._prevFeatureButton=this._nextFeatureButton=this._spinner=this._eventConnections=this._pagerScope=this._targetLocation=this._nls=this._maxButton=null;},selectNext:function(){this.select(this.selectedIndex+1);},selectPrevious:function(){this.select(this.selectedIndex-1);},setFeatures:function(){this.inherited(arguments);this._updateUI();},postscript:null,_highlightSetter:function(_4f5){var _4f6=this.highlight,map=this.map;this.highlight=_4f5;if(map&&_4f5!==_4f6){if(_4f5){this.enableHighlight(map);var _4f7=this.features&&this.features[this.selectedIndex];if(_4f7){this.updateHighlight(map,_4f7);this.showHighlight();}}else{this.disableHighlight(map);}}},_pagingControlsSetter:function(_4f8){var _4f9=this.pagingControls,map=this.map;this.pagingControls=_4f8;if(map&&_4f8!==_4f9){this._updatePagingControls();}},_pagingInfoSetter:function(_4fa){var _4fb=this.pagingInfo,map=this.map;this.pagingInfo=_4fa;if(map&&_4fa!==_4fb&&this.features&&this.features.length){this._updatePagingInfo();}},_popupWindowSetter:function(_4fc){var _4fd=this.popupWindow,map=this.map;this.popupWindow=_4fc;if(map&&_4fc!==_4fd){if(_4fc){this._updateUI();this._updateWindow();}else{this.hide();this.showHighlight();}}},_anchorSetter:function(_4fe){var _4ff=this.anchor;this.anchor=_4fe;if(this.map&&_4fe!==_4ff){this.reposition();}},_featuresCleared:function(){this.setTitle("&nbsp;");this.setContent("&nbsp;");this._setPagerCallbacks(this);this._updateUI();this.hideHighlight();},_featureSelected:function(){this._updateUI();this._updateWindow();},_updateWindow:function(){var ptr=this.selectedIndex;if(ptr>=0){var _500=this.features[ptr].getContent(),_501;if(!this.titleInBody&&_500&&lang.isString(_500.id)){_501=_4d6.byId(_500.id);if(_501&&_501.set&&/_PopupRenderer/.test(_501.declaredClass)){_501.set("showTitle",false);}}this.setContent(_500);this.updateHighlight(this.map,this.features[ptr]);this.showHighlight();}},_toggleVisibility:function(_502){this._setVisibility(_502);this.isShowing=_502;},_setVisibility:function(_503){_4d5.set(this.domNode,"visibility",_503?"visible":"hidden");},_followMap:function(){this._unfollowMap();var map=this.map;this._handles=[_4cd.connect(map,"onPanStart",this,this._onPanStart),_4cd.connect(map,"onPan",this,this._onPan),_4cd.connect(map,"onZoomStart",this,this._onZoomStart),_4cd.connect(map,"onExtentChange",this,this._onExtentChange)];},_unfollowMap:function(){var _504=this._handles;if(_504){_4cc.forEach(_504,_4cd.disconnect);this._handles=null;}},_onPanStart:function(){var _505=this.domNode.style;this._panOrigin={left:_505.left,top:_505.top,right:_505.right,bottom:_505.bottom};},_onPan:function(_506,_507){var _508=this._panOrigin,dx=_507.x,dy=_507.y,left=_508.left,top=_508.top,_509=_508.right,_50a=_508.bottom;if(left){left=(parseFloat(left)+dx)+"px";}if(top){top=(parseFloat(top)+dy)+"px";}if(_509){_509=(parseFloat(_509)-dx)+"px";}if(_50a){_50a=(parseFloat(_50a)-dy)+"px";}_4d5.set(this.domNode,{left:left,top:top,right:_509,bottom:_50a});},_onZoomStart:function(){this._setVisibility(false);},_onExtentChange:function(_50b,_50c,_50d){if(_50d){this._setVisibility(true);this.show(this._targetLocation||this._location);}this._targetLocation=null;},_toggleSize:function(){if(this._maximized){this.restore();}else{this.maximize();}},_setPosition:function(_50e){var posX=_50e.x,posY=_50e.y,offX=this.offsetX||0,offY=this.offsetY||0,_50f=0,_510=0,_511=_4d4.position(this.map.container,true),_512=_511.w,_513=_511.h,_514="Left",_515="bottom",_516=_4d4.getContentBox(this._positioner),_517=_516.w/2,_518=_516.h/2,maxH=_4d5.get(this._sizers[0],"height")+this._maxHeight+_4d5.get(this._sizers[2],"height"),_519=maxH/2,xmin=0,ymin=0,xmax=_512,ymax=_513,_51a=posX,_51b=posY,_51c=this.anchor.toLowerCase();if(_51c==="auto"){var _51d=win.getBox;if(_51d){_51d=_51d();xmin=Math.max(_51d.l,_511.x);xmax=Math.min(_51d.l+_51d.w,_511.x+_511.w);ymin=Math.max(_51d.t,_511.y);ymax=Math.min(_51d.t+_51d.h,_511.y+_511.h);_51a+=_511.x;_51b+=_511.y;}var _51e=((_51b-ymin)>_519),_51f=((ymax-_51b)>=_519),_520=((xmax-_51a)>=_517),_521=((_51a-xmin)>_517),_522=((_51b-ymin)>=maxH),_523=((ymax-_51b)>=maxH),_524=((xmax-_51a)>=_516.w),_525=((_51a-xmin)>=_516.w);if(_51e&&_51f){if(_524){_515="";_514="Left";}else{if(_525){_515="";_514="Right";}}}if(_514&&_515){if(_521&&_520){if(_522){_514="";_515="bottom";}else{if(_523){_514="";_515="top";}}}}if(_514&&_515){if(_524&&_522){_514="Left";_515="bottom";}else{if(_524&&_523){_514="Left";_515="top";}else{if(_525&&_523){_514="Right";_515="top";}else{if(_525&&_522){_514="Right";_515="bottom";}}}}}}else{_515=_514="";if(_51c.indexOf("top")!==-1){_515="bottom";}else{if(_51c.indexOf("bottom")!==-1){_515="top";}}if(_51c.indexOf("left")!==-1){_514="Right";}else{if(_51c.indexOf("right")!==-1){_514="Left";}}}var _526=_515+_514;switch(_526){case "top":case "bottom":_510=14;break;case "Left":case "Right":_50f=13;break;case "topLeft":case "topRight":case "bottomLeft":case "bottomRight":_510=45;break;}_4d5.set(this.domNode,{left:posX+"px",top:posY+"px",right:null,bottom:null});var _527={left:null,right:null,top:null,bottom:null};if(_514){_527[_514.toLowerCase()]=(_50f+offX)+"px";}else{_527.left=(-_517)+"px";}if(_515){_527[_515]=(_510+offY)+"px";}else{_527.top=(-_518)+"px";}_4d5.set(this._positioner,_527);this._showPointer(_526);},_showPointer:function(_528){_4d2.remove(this._pointer,["top","bottom","right","left","topLeft","topRight","bottomRight","bottomLeft","hidden"]);_4d2.remove(this._outerPointer,["right","left","hidden"]);if(_528==="Right"||_528==="Left"){_528=_528.toLowerCase();_4d2.add(this._outerPointer,_528);}else{_4d2.add(this._pointer,_528);}},_setPagerCallbacks:function(_529,_52a,_52b){if(!this.pagingControls){return;}if(_529===this&&(!this._pagerScope||this._pagerScope===this)){return;}if(_529===this._pagerScope){return;}this._pagerScope=_529;if(_529===this){_52a=this.selectPrevious;_52b=this.selectNext;}var _52c=this._eventConnections;_4cd.disconnect(_52c[1]);_4cd.disconnect(_52c[2]);if(_52a){_52c[1]=_4cd.connect(this._prevFeatureButton,"onclick",_529,_52a);}if(_52b){_52c[2]=_4cd.connect(this._nextFeatureButton,"onclick",_529,_52b);}},_getLocation:function(_52d){var map=this.map,_52e,_52f,_530=0,_531,_532=_52d&&_52d.geometry;if(_532){switch(_532.type){case "point":_52e=_532;break;case "multipoint":_52e=_532.getPoint(0);_52f=_532.getExtent();break;case "polyline":_52e=_532.getPoint(0,0);_52f=_532.getExtent();if(map._getFrameWidth()!==-1){_4cc.forEach(_532.paths,function(path){var _533={"paths":[path,map.spatialReference]},_534=new _4db(_533),_535=_534.getExtent(),_536=Math.abs(_535.ymax-_535.ymin),_537=Math.abs(_535.xmax-_535.xmin),_538=(_537>_536)?_537:_536;if(_538>_530){_530=_538;_531=_535;}});_531.spatialReference=_52f.spatialReference;_52f=_531;}break;case "polygon":_52e=_532.getPoint(0,0);_52f=_532.getExtent();if(map._getFrameWidth()!==-1){_4cc.forEach(_532.rings,function(ring){var _539={"rings":[ring,map.spatialReference]},_53a=new _4dc(_539),_53b=_53a.getExtent(),_53c=Math.abs(_53b.ymax-_53b.ymin),_53d=Math.abs(_53b.xmax-_53b.xmin),_53e=(_53d>_53c)?_53d:_53c;if(_53e>_530){_530=_53e;_531=_53b;}});_531.spatialReference=_52f.spatialReference;_52f=_531;}break;}}return [_52e,_52f];},_zoomToFeature:function(){var _53f=this.features,ptr=this.selectedIndex,map=this.map;if(_53f){var _540=this._getLocation(_53f[ptr]),_541=_540[0],_542=_540[1];if(!_541){_541=this._location;}if(!_542||!_542.intersects(this._location)){this._location=_541;}if(_542){map.setExtent(_542,true);}else{var _543=map.getNumLevels(),_544=map.getLevel(),last=map.getMaxZoom(),_545=this.zoomFactor||1;if(_543>0){if(_544===last){return;}var _546=_544+_545;if(_546>last){_546=last;}map.navigationManager._wheelZoom({value:(_546-_544),mapPoint:_541},true);}else{map.navigationManager._wheelZoom({value:(1/Math.pow(2,_545))*2,mapPoint:_541},true);}}}},_updatePagingControls:function(){var prev=this._prevFeatureButton,next=this._nextFeatureButton,ptr=this.selectedIndex,_547=this.features?this.features.length:0;if(this.pagingControls&&_547>1){if(ptr===0){_4d2.add(prev,"hidden");}else{_4d2.remove(prev,"hidden");}if(ptr===(_547-1)){_4d2.add(next,"hidden");}else{_4d2.remove(next,"hidden");}}else{_4d2.add(prev,"hidden");_4d2.add(next,"hidden");}},_updatePagingInfo:function(){var _548=this.features?this.features.length:0,nls=this._nls,_549="&nbsp;",_54a,_54b,_54c;if(this.pagingInfo&&_548>1&&nls.NLS_pagingInfo){_549=_4d8.substitute({index:this.selectedIndex+1,total:_548},nls.NLS_pagingInfo);}if(_548){_54a=this.getSelectedFeature();_54b=_54a.getInfoTemplate();_54c=_54a.getTitle();if((!_54b||/esri\.InfoTemplate/.test(_54b.declaredClass)||!this.titleInBody)&&_54c){_549=_54c+((_549==="&nbsp;")?"":(" "+_549));}}this.setTitle(_549);},_updateUI:function(){if(!this.popupWindow){return;}var _54d="&nbsp;",ptr=this.selectedIndex,_54e=this.features,_54f=this.deferreds,_550=_54e?_54e.length:0,_551=this._spinner,_552=this._actionList,nls=this._nls;this._updatePagingControls();this._updatePagingInfo();if(_54f&&_54f.length){if(_54e){_4d2.remove(_551,"hidden");}else{this.setContent("<div style='text-align: center;'>"+nls.NLS_searching+"...</div>");}}else{_4d2.add(_551,"hidden");if(!_550){this.setContent("<div style='text-align: center;'>"+nls.NLS_noInfo+".</div>");}}if(_550){_4d2.remove(_552,"hidden");}else{_4d2.add(_552,"hidden");}}});if(has("extend-esri")){lang.setObject("dijit.Popup",_4e0,_4d7);}return _4e0;});},"esri/symbols/Font":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/sniff","dojox/gfx/_base","esri/kernel","esri/lang"],function(_553,lang,has,_554,_555,_556){var _557={STYLE_NORMAL:"normal",STYLE_ITALIC:"italic",STYLE_OBLIQUE:"oblique",VARIANT_NORMAL:"normal",VARIANT_SMALLCAPS:"small-caps",WEIGHT_NORMAL:"normal",WEIGHT_BOLD:"bold",WEIGHT_BOLDER:"bolder",WEIGHT_LIGHTER:"lighter"};var Font=_553(null,{declaredClass:"esri.symbol.Font",constructor:function(json,_558,_559,_55a,_55b){if(json){if(lang.isObject(json)){lang.mixin(this,json);}else{this.size=json;if(_558!==undefined){this.style=_558;}if(_559!==undefined){this.variant=_559;}if(_55a!==undefined){this.weight=_55a;}if(_55b!==undefined){this.family=_55b;}}}else{lang.mixin(this,_554.defaultFont);}if(has("ie")<9&&this.size&&lang.isString(this.size)&&this.size.indexOf("em")>-1){this.size=_554.pt2px(parseFloat(this.size)*12)+"px";}},setSize:function(size){this.size=size;return this;},setStyle:function(_55c){this.style=_55c;return this;},setVariant:function(_55d){this.variant=_55d;return this;},setWeight:function(_55e){this.weight=_55e;return this;},setFamily:function(_55f){this.family=_55f;return this;},toJson:function(){return _556.fixJson({size:this.size,style:this.style,variant:this.variant,decoration:this.decoration,weight:this.weight,family:this.family});}});lang.mixin(Font,_557);if(has("extend-esri")){lang.setObject("symbol.Font",Font,_555);}return Font;});},"esri/PointerEvents":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","esri/kernel","esri/Evented","esri/geometry/Point","esri/geometry/ScreenPoint"],function(_560,lang,_561,has,_562,_563,_564,_565){var _566=_560([_563],{declaredClass:"esri.PointerEvents",tapRadius:8,clickRadius:2,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:has("mac")!==-1?1:3,wheelDivisor:has("chrome")<2?360:120,preventPageScroll:true,constructor:function(node,_567){this.node=node;lang.mixin(this,_567);if(node.style.msTouchAction!==undefined){node.style.msTouchAction="none";}else{if(node.style.touchAction!==undefined){node.style.touchAction="none";}}var isMS=navigator.msPointerEnabled,_568=function(e){e.preventDefault();};node.addEventListener("selectstart",_568,false);node.addEventListener("dragstart",_568,false);this._pointerDown=lang.hitch(this,this._pointerDown);this._pointerMove=lang.hitch(this,this._pointerMove);this._pointerUp=lang.hitch(this,this._pointerUp);this._pointerCancel=lang.hitch(this,this._pointerCancel);node.addEventListener(isMS?"MSPointerDown":"pointerdown",this._pointerDown,false);node.addEventListener(isMS?"MSPointerMove":"pointermove",this._pointerMove,false);node.addEventListener(isMS?"MSPointerUp":"pointerup",this._pointerUp,false);node.addEventListener(isMS?"MSPointerCancel":"pointercancel",this._pointerCancel,false);if(this.map){this._mouseOver=lang.hitch(this,this._mouseOver);this._mouseOut=lang.hitch(this,this._mouseOut);this._mouseDown=lang.hitch(this,this._mouseDown);this._mouseUp=lang.hitch(this,this._mouseUp);this._mouseClick=lang.hitch(this,this._mouseClick);this._mouseWheel=lang.hitch(this,this._mouseWheel);this._mouseMove=lang.hitch(this,this._mouseMove);node.addEventListener("mouseover",this._mouseOver,false);node.addEventListener("mouseout",this._mouseOut,false);node.addEventListener("mousedown",this._mouseDown,false);node.addEventListener("mouseup",this._mouseUp,false);node.addEventListener("click",this._mouseClick,false);node.addEventListener("mousewheel",this._mouseWheel,false);node.addEventListener("mousemove",this._mouseMove,false);}this._numTouches=0;this._touches={};this._touchIds=[];this._taps=[];this._immediate=false;},_pointerDown:function(_569){var _56a=this._touches,node=this.node,_56b=_569.target,pid=_569.pointerId,ids=this._touchIds,info,_56c,_56d,ts=(new Date()).getTime();info=(_56a[pid]={});info.pointerId=pid;info.startX=info.pageX=_569.pageX;info.startY=info.pageY=_569.pageY;info.startTS=ts;ids.push(pid);this._numTouches++;if(_56b.setPointerCapture){_56b.setPointerCapture(pid);}else{if(_56b.msSetPointerCapture){_56b.msSetPointerCapture(pid);}}_56c=_56a[ids[0]];_56d=_56a[ids[1]];if(this._numTouches===1){}else{if(this._numTouches===2){if(this._swipeActive){if(_56c){_56c.startX=_56c.pageX;_56c.startY=_56c.pageY;_56c.moved=false;}this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_569,_56c));}}else{if(this._swipeActive){this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_569,_56c));}else{if(this._pinchActive){this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_569,[_56c,_56d]));}}}}},_pointerMove:function(_56e){var _56f=this._touches,ids=this._touchIds,info,dx,dy;info=_56f[_56e.pointerId];if(!info||(info.pageX===_56e.pageX&&info.pageY===_56e.pageY)){return;}info.pageX=_56e.pageX;info.pageY=_56e.pageY;dx=Math.abs(info.pageX-info.startX);dy=Math.abs(info.pageY-info.startY);if(!info.moved&&((dx>=this.tapRadius)||(dy>=this.tapRadius))){info.moved=info.absMoved=true;}if(this._numTouches===1){if(!this._swipeActive){if(info.moved){this._swipeActive=true;this._fire("onSwipeStart",this._processTouchEvent(_56e,_56e));}}else{this._fire("onSwipeMove",this._processTouchEvent(_56e,_56e));}}else{if(this._numTouches===2){var _570=_56f[ids[0]],_571=_56f[ids[1]];if(!this._pinchActive){if(_570.moved||_571.moved){var _572=Math.abs(_570.startX-_571.startX),_573=Math.abs(_570.startY-_571.startY),_574=Math.sqrt((_572*_572)+(_573*_573)),_575=Math.abs(_570.pageX-_571.pageX),_576=Math.abs(_570.pageY-_571.pageY),_577=Math.sqrt((_575*_575)+(_576*_576));if(Math.abs(_577-_574)>=(2*this.tapRadius)){this._pinchActive=true;this._fire("onPinchStart",this._processTouchEvent(_56e,[_570,_571]));}}}else{this._fire("onPinchMove",this._processTouchEvent(_56e,[_570,_571]));}}}},_pointerUp:function(_578){var _579=this._touches,info,node=this.node,_57a=_578.target,pid=_578.pointerId,ids=this._touchIds,_57b=ids.slice(0),_57c=_561.map(_57b,function(id){return _579[id];}),ts=(new Date()).getTime();info=_579[pid];if(!info){return;}info.pageX=_578.pageX;info.pageY=_578.pageY;info.endTS=ts;this._numTouches--;if(_57a.releasePointerCapture){_57a.releasePointerCapture(pid);}else{if(_57a.msReleasePointerCapture){_57a.msReleasePointerCapture(pid);}}if(this._numTouches===0){this._touches={};this._touchIds=[];if(this._swipeActive){this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_578,_578));}else{if(this._pinchActive){this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_578,_578));}else{if(!info.absMoved){var _57d=Infinity,_57e=-Infinity,_57f=Infinity,_580=-Infinity,_581=this.tapStartTolerance,i;for(i=0;i<_57b.length;i++){info=_57c[i];if(info.startTS<_57d){_57d=info.startTS;}if(info.startTS>_57e){_57e=info.startTS;}if(info.endTS<_57f){_57f=info.endTS;}if(info.endTS>_580){_580=info.endTS;}}if(Math.abs(_57e-_57d)<=_581&&Math.abs(_580-_57f)<=_581){this._basicTap(_578,_57c);}}}}}else{if(this._numTouches===1){if(this._pinchActive){ids.splice(_561.indexOf(ids,_578.pointerId),1);delete _579[_578.pointerId];var _582=_579[ids[0]];_582.startX=_582.pageX;_582.startY=_582.pageY;_582.moved=false;if(document.msElementsFromPoint){var _583=document.msElementsFromPoint(_582.pageX,_582.pageY),_584=_561.some(_583,function(_585){return (_585===node);});if(!_584){this._touches={};this._touchIds=[];this._numTouches=0;}}this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_578,[_578,_582]));}}}},_pointerCancel:function(_586){if(this._numTouches){this._pointerUp(_586);}},_basicTap:function(_587,_588){var ts=(new Date()).getTime(),self=this;_587=this._processTouchEvent(_587,_588);this._taps.push({touchInfos:_588,ts:ts,event:_587});if(this._taps.length>2){this._taps.shift();}this._fire("onBasicTap",_587);clearTimeout(this._tapTimer);if(this._immediate){this._analyzeTap(true);}else{var _589=(this._taps.length===2)?(this.doubleTapDuration/2):this.doubleTapDuration;this._tapTimer=setTimeout(function(){var that=self;self=null;clearTimeout(that._tapTimer);that._analyzeTap();},_589);}},_analyzeTap:function(_58a){var taps=this._taps,_58b=taps[0],_58c=taps[1],_58d=_58b.touchInfos,_58e=_58c&&_58c.touchInfos;if(!taps.length){return;}if(!_58a){this._taps=[];}if(_58b&&_58c){if(_58d.length===_58e.length){if((_58c.ts-_58b.ts)<=this.doubleTapDuration){var _58f,dx,dy;if(_58d.length===1){dx=Math.abs(_58d[0].startX-_58e[0].startX);dy=Math.abs(_58d[0].startY-_58e[0].startY);_58f=(dx<=this.doubleTapRadius)&&(dy<=this.doubleTapRadius);}else{_58f=true;}if(_58f){this._processedDoubleTap(taps);}else{this._processedTap(_58c);}}else{this._processedTap(_58c);}}else{this._processedTap(_58c);}}else{this._processedTap(_58b||_58c);}},_processedTap:function(tap){var _590=tap.event;this._fire("onProcessedTap",_590);if(tap.touchInfos.length===1){this._fire("onTap",this._fixEvent(_590));}else{if(tap.touchInfos.length===2){this._fire("onTwoFingerTap",_590);}}},_processedDoubleTap:function(taps){var _591=(taps[1].touchInfos.length===1),_592,evts;if(_591){_592=[this._fixEvent(taps[0].event),this._fixEvent(taps[1].event)];_592[1].relatedEvents=_592;}evts=[taps[0].event,taps[1].event];evts[1].relatedEvents=evts;this._fire("onProcessedDoubleTap",evts[1]);if(_591){this._fire("onDoubleTap",_592[1]);this._fire("onDblClick",_592[1]);}},_mouseOver:function(_593){this._fire("onMouseOver",this._processMouseEvent(_593));},_mouseMove:function(_594){this._fire("onMouseMove",this._processMouseEvent(_594));},_mouseOut:function(_595){this._fire("onMouseOut",this._processMouseEvent(_595));},_mouseDown:function(_596){this._downX=_596.pageX;this._downY=_596.pageY;this._fire("onMouseDown",this._processMouseEvent(_596));},_mouseUp:function(_597){this._fire("onMouseUp",this._processMouseEvent(_597));},_mouseClick:function(_598){if((Math.abs(_598.pageX-this._downX)<=this.clickRadius)&&(Math.abs(_598.pageY-this._downY)<=this.clickRadius)){this._fire("onClick",this._processMouseEvent(_598));}},_mouseWheel:function(_599){var map=this.map,_59a=map?(map.isScrollWheelZoom||map.isScrollWheelPan):this.preventPageScroll;if(_59a){_599.preventDefault();}var _59b=has("ie")||has("webkit")?_599.wheelDelta/this.wheelDivisor:-_599.detail/this.mozWheelDivisor,_59c=Math.abs(_59b);if(_59c<=this.minWheelValue){_59c=this.minWheelValue;}else{_59c=this.maxWheelValue;}_599.value=_59b<0?-_59c:_59c;this._fire("onMouseWheel",this._processMouseEvent(_599));},_fire:function(_59d,evt){if(this[_59d]){this[_59d](evt);}if(this.map){if(this.map[_59d]){this.map[_59d](evt);}}},_fixEvent:function(_59e){var _59f={},i;for(i in _59e){_59f[i]=_59e[i];}if(this.map){_59f.screenPoint=_59f.screenPoints[0];_59f.mapPoint=_59f.mapPoints[0];}return _59f;},_processTouchEvent:function(evt,_5a0){var map=this.map,pos=map&&map.position,_5a1=0;if(pos&&_5a0){if(lang.isArray(_5a0)){var i,_5a2;evt.screenPoints=[];evt.mapPoints=[];for(i=0;i<_5a0.length;i++){if(_5a0[i]){_5a2=new _565(_5a0[i].pageX-pos.x,_5a0[i].pageY-pos.y);evt.screenPoints.push(_5a2);evt.mapPoints.push(map.extent?map.toMap(_5a2):new _564());}else{_5a1++;}}}else{evt.screenPoint=new _565(_5a0.pageX-pos.x,_5a0.pageY-pos.y);evt.mapPoint=map.extent?map.toMap(evt.screenPoint):new _564();}}evt.numPoints=_5a0?(lang.isArray(_5a0)?(_5a0.length-_5a1):1):0;return evt;},_processMouseEvent:function(evt){var map=this.map,pos=map&&map.position;if(pos){evt.screenPoint=new _565(evt.pageX-pos.x,evt.pageY-pos.y);evt.mapPoint=map.extent?map.toMap(evt.screenPoint):new _564();}return evt;},setImmediateTap:function(_5a3){this._immediate=_5a3;},destroy:function(){var node=this.node;node.removeEventListener("MSPointerDown",this._pointerDown,false);node.removeEventListener("MSPointerMove",this._pointerMove,false);node.removeEventListener("MSPointerUp",this._pointerUp,false);node.removeEventListener("MSPointerCancel",this._pointerCancel,false);if(this.map){node.removeEventListener("mouseover",this._mouseOver,false);node.removeEventListener("mousemove",this._mouseMove,false);node.removeEventListener("mouseout",this._mouseOut,false);node.removeEventListener("mousedown",this._mouseDown,false);node.removeEventListener("mouseup",this._mouseUp,false);node.removeEventListener("click",this._mouseClick,false);}clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._touches=this._touchIds=this._taps=null;}});if(has("extend-esri")){_562.PointerEvents=_566;}return _566;});},"esri/geometry":function(){define(["esri/units","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/ScreenPoint","esri/geometry/Multipoint","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/Extent","esri/geometry/Rect","esri/geometry/geodesicUtils","esri/geometry/jsonUtils","esri/geometry/mathUtils","esri/geometry/normalizeUtils","esri/geometry/scaleUtils","esri/geometry/screenUtils","esri/geometry/webMercatorUtils"],function(_5a4,_5a5,_5a6,_5a7,_5a8,_5a9,_5aa,_5ab,_5ac,Rect,_5ad,_5ae,_5af,_5b0,_5b1,_5b2,_5b3){return {units:_5a4,SpatialReference:_5a5,Geometry:_5a6,Point:_5a7,ScreenPoint:_5a8,Multipoint:_5a9,Polyline:_5aa,Polygon:_5ab,Extent:_5ac,Rect:Rect,geodesicUtils:_5ad,jsonUtils:_5ae,mathUtils:_5af,normalizeUtils:_5b0,scaleUtils:_5b1,screenUtils:_5b2,webMercatorUtils:_5b3};});},"esri/renderers/TimeRampAger":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","esri/kernel","esri/symbols/jsonUtils","esri/renderers/SymbolAger"],function(_5b4,lang,_5b5,has,_5b6,_5b7,_5b8){var _5b9=_5b4(_5b8,{declaredClass:"esri.renderer.TimeRampAger",constructor:function(_5ba,_5bb,_5bc){this.colorRange=_5ba;this.sizeRange=_5bb;this.alphaRange=_5bc;},getAgedSymbol:function(_5bd,_5be){var _5bf=_5be.getLayer(),_5c0=_5be.attributes;_5bd=_5b7.fromJson(_5bd.toJson());var _5c1=_5bf._map.timeExtent;var _5c2=_5c1.startTime,_5c3=_5c1.endTime;if(!_5c2||!_5c3){return _5bd;}_5c2=_5c2.getTime();_5c3=_5c3.getTime();var _5c4=new Date(_5c0[_5bf._startTimeField]);_5c4=_5c4.getTime();if(_5c4<_5c2){_5c4=_5c2;}var _5c5=(_5c3===_5c2)?1:(_5c4-_5c2)/(_5c3-_5c2);var _5c6=this.sizeRange,_5c7,_5c8;if(_5c6){var from=_5c6[0],to=_5c6[1];_5c8=Math.abs(to-from)*_5c5;this._setSymbolSize(_5bd,(from<to)?(from+_5c8):(from-_5c8));}_5c6=this.colorRange;if(_5c6){var _5c9=_5c6[0],_5ca=_5c6[1],_5cb=Math.round;_5c7=new _5b5();var _5cc=_5c9.r,toR=_5ca.r;_5c8=Math.abs(toR-_5cc)*_5c5;_5c7.r=_5cb((_5cc<toR)?(_5cc+_5c8):(_5cc-_5c8));var _5cd=_5c9.g,toG=_5ca.g;_5c8=Math.abs(toG-_5cd)*_5c5;_5c7.g=_5cb((_5cd<toG)?(_5cd+_5c8):(_5cd-_5c8));var _5ce=_5c9.b,toB=_5ca.b;_5c8=Math.abs(toB-_5ce)*_5c5;_5c7.b=_5cb((_5ce<toB)?(_5ce+_5c8):(_5ce-_5c8));var _5cf=_5c9.a,toA=_5ca.a;_5c8=Math.abs(toA-_5cf)*_5c5;_5c7.a=(_5cf<toA)?(_5cf+_5c8):(_5cf-_5c8);_5bd.setColor(_5c7);}_5c7=_5bd.color;_5c6=this.alphaRange;if(_5c6&&_5c7){var _5d0=_5c6[0],_5d1=_5c6[1];_5c8=Math.abs(_5d1-_5d0)*_5c5;_5c7.a=(_5d0<_5d1)?(_5d0+_5c8):(_5d0-_5c8);}return _5bd;}});if(has("extend-esri")){lang.setObject("renderer.TimeRampAger",_5b9,_5b6);}return _5b9;});},"esri/layers/MapImage":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/domUtils","esri/geometry/Extent"],function(_5d2,lang,has,_5d3,_5d4,_5d5){var _5d6=_5d2(null,{declaredClass:"esri.layers.MapImage",constructor:function(json){lang.mixin(this,json);this.extent=new _5d5(this.extent);},visible:true,getLayer:function(){return this._layer;},getNode:function(){return this._node;},show:function(){if(!this.visible){this.visible=true;var node=this._node,_5d7=this._layer,div;if(node){div=_5d7&&_5d7._div;if(div){if(!_5d7.suspended){_5d7._setPos(node,div._left,div._top);}(_5d7._active||div).appendChild(node);}_5d4.show(node);}}},hide:function(){if(this.visible){this.visible=false;var node=this._node;if(node){_5d4.hide(node);if(node.parentNode){node.parentNode.removeChild(node);}}}}});if(has("extend-esri")){lang.setObject("layers.MapImage",_5d6,_5d3);}return _5d6;});},"esri/layers/OpenStreetMapLayer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/urlUtils","esri/SpatialReference","esri/geometry/Extent","esri/layers/TiledMapServiceLayer","esri/layers/TileInfo"],function(_5d8,lang,has,_5d9,_5da,_5db,_5dc,_5dd,_5de){var OSM=_5d8(_5dd,{declaredClass:"esri.layers.OpenStreetMapLayer",constructor:function(_5df){this.spatialReference=new _5db({wkid:102100});this.tileInfo=new _5de({rows:256,cols:256,dpi:96,format:"PNG8",compressionQuality:0,origin:{x:-20037508.342787,y:20037508.342787},spatialReference:{wkid:102100},lods:[{level:0,scale:591657527.591555,resolution:156543.033928},{level:1,scale:295828763.795777,resolution:78271.5169639999},{level:2,scale:147914381.897889,resolution:39135.7584820001},{level:3,scale:73957190.948944,resolution:19567.8792409999},{level:4,scale:36978595.474472,resolution:9783.93962049996},{level:5,scale:18489297.737236,resolution:4891.96981024998},{level:6,scale:9244648.868618,resolution:2445.98490512499},{level:7,scale:4622324.434309,resolution:1222.99245256249},{level:8,scale:2311162.217155,resolution:611.49622628138},{level:9,scale:1155581.108577,resolution:305.748113140558},{level:10,scale:577790.554289,resolution:152.874056570411},{level:11,scale:288895.277144,resolution:76.4370282850732},{level:12,scale:144447.638572,resolution:38.2185141425366},{level:13,scale:72223.819286,resolution:19.1092570712683},{level:14,scale:36111.909643,resolution:9.55462853563415},{level:15,scale:18055.954822,resolution:4.77731426794937},{level:16,scale:9027.977411,resolution:2.38865713397468},{level:17,scale:4513.988705,resolution:1.19432856685505},{level:18,scale:2256.994353,resolution:0.597164283559817}]});this.fullExtent=new _5dc({xmin:-20037508.34,ymin:-20037508.34,xmax:20037508.34,ymax:20037508.34,spatialReference:{wkid:102100}});this.initialExtent=new _5dc({xmin:-20037508.34,ymin:-20037508.34,xmax:20037508.34,ymax:20037508.34,spatialReference:{wkid:102100}});this.tileServers=(_5df&&_5df.tileServers)||["http://a.tile.openstreetmap.org","http://b.tile.openstreetmap.org","http://c.tile.openstreetmap.org"];this.serversLength=this.tileServers.length;this._displayLevels=_5df?_5df.displayLevels:null;this.copyright=(_5df&&_5df.copyright)||"Map data &copy; OpenStreetMap contributors, CC-BY-SA";this.loaded=true;this.onLoad(this);var _5e0=_5df&&_5df.loadCallback;if(_5e0){_5e0(this);}},getTileUrl:function(_5e1,row,col){return _5da.addProxy(this.tileServers[row%this.serversLength]+"/"+_5e1+"/"+col+"/"+row+".png");}});if(has("extend-esri")){lang.setObject("layers.OpenStreetMapLayer",OSM,_5d9);}return OSM;});},"esri/renderers/SimpleRenderer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/symbols/jsonUtils","esri/renderers/Renderer"],function(_5e2,lang,has,_5e3,_5e4,_5e5,_5e6){var _5e7=_5e2(_5e6,{declaredClass:"esri.renderer.SimpleRenderer",constructor:function(sym){if(sym&&!sym.declaredClass){var json=sym;sym=json.symbol;if(sym){this.symbol=_5e5.fromJson(sym);}this.label=json.label;this.description=json.description;}else{this.symbol=sym;}},getSymbol:function(_5e8){return this.symbol;},toJson:function(){return _5e4.fixJson({type:"simple",label:this.label,description:this.description,symbol:this.symbol&&this.symbol.toJson()});}});if(has("extend-esri")){lang.setObject("renderer.SimpleRenderer",_5e7,_5e3);}return _5e7;});},"esri/urlUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/url","dojo/io-query","esri/kernel","esri/config","esri/sniff"],function(lang,_5e9,Url,ioq,_5ea,_5eb,has){var _5ec={},_5ed=_5eb.defaults.io;_5ec.urlToObject=function(url){var iq=url.indexOf("?");if(iq===-1){return {path:url,query:null};}else{return {path:url.substring(0,iq),query:ioq.queryToObject(url.substring(iq+1))};}};_5ec.getProxyUrl=function(_5ee,_5ef){var _5f0=lang.isString(_5ee)?(lang.trim(_5ee).toLowerCase().indexOf("https:")===0):_5ee,_5f1=_5ed.proxyUrl,_5f2,_5f3,_5f4,_5f5,_5f6="esri.config.defaults.io.proxyUrl is not set.";if(lang.isString(_5ee)){_5f5=_5ec.getProxyRule(_5ee);if(_5f5){_5f1=_5f5.proxyUrl;}}if(!_5f1){console.log(_5f6);throw new Error(_5f6);}if(_5f0&&_5ef!==false&&window.location.href.toLowerCase().indexOf("https:")!==0){_5f3=_5f1;if(_5f3.toLowerCase().indexOf("http")!==0){_5f3=_5ec.getAbsoluteUrl(_5f3);}_5f3=_5f3.replace(/^http:/i,"https:");if(_5ec.canUseXhr(_5f3)){_5f1=_5f3;_5f4=1;}}_5f2=_5ec.urlToObject(_5f1);_5f2._xo=_5f4;return _5f2;};_5ec.addProxy=function(url){var _5f7=_5ec.getProxyRule(url),_5f8,_5f9,_5fa;if(_5f7){_5f8=_5ec.urlToObject(_5f7.proxyUrl);}else{if(_5ed.alwaysUseProxy){_5f8=_5ec.getProxyUrl();}}if(_5f8){_5f9=_5ec.urlToObject(url);url=_5f8.path+"?"+_5f9.path;_5fa=ioq.objectToQuery(lang.mixin(_5f8.query||{},_5f9.query));if(_5fa){url+=("?"+_5fa);}}return url;};_5ec.addProxyRule=function(rule){var _5fb=rule.urlPrefix=(_5ec.urlToObject(rule.urlPrefix).path).replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),_5fc=_5ed.proxyRules,i,len=_5fc.length,_5fd,_5fe=len;for(i=0;i<len;i++){_5fd=_5fc[i].urlPrefix;if(_5fb.indexOf(_5fd)===0){if(_5fb.length===_5fd){return -1;}else{_5fe=i;break;}}else{if(_5fd.indexOf(_5fb)===0){_5fe=i+1;}}}_5fc.splice(_5fe,0,rule);return _5fe;};_5ec.getProxyRule=function(url){var _5ff=_5ed.proxyRules,i,len=_5ff.length,path=(_5ec.urlToObject(url).path).replace(/([^\/])$/,"$1/").replace(/^https?:\/\//ig,"").toLowerCase(),_600;for(i=0;i<len;i++){if(path.indexOf(_5ff[i].urlPrefix)===0){_600=_5ff[i];break;}}return _600;};_5ec.hasSameOrigin=function(url1,url2,_601){url1=url1.toLowerCase();url2=url2.toLowerCase();var _602=window.location.href.toLowerCase();url1=url1.indexOf("http")===0?new Url(url1):(_602=new Url(_602));url2=url2.indexOf("http")===0?new Url(url2):(lang.isString(_602)?new Url(_602):_602);return ((_601||(url1.scheme===url2.scheme))&&url1.host===url2.host&&url1.port===url2.port);};_5ec.canUseXhr=function(url,_603){var _604=false,_605=_5ec.hasSameOrigin,_606=_5ed.corsEnabledServers,_607,_608=-1;if(has("esri-cors")&&_606&&_606.length){_604=_5e9.some(_606,function(_609,idx){_607=(lang.trim(_609).toLowerCase().indexOf("http")!==0);if(_605(url,_607?("http://"+_609):_609)||(_607&&_605(url,"https://"+_609))){_608=idx;return true;}return false;});}return _603?_608:_604;};_5ec.getAbsoluteUrl=function(url){if(lang.isString(url)&&url.indexOf("http://")===-1&&url.indexOf("https://")===-1){if(url.indexOf("//")===0){return window.location.protocol+url;}else{if(url.indexOf("/")===0){return window.location.protocol+"//"+window.location.host+url;}else{return _5ea._appBaseUrl+url;}}}return url;};if(has("extend-esri")){lang.mixin(_5ea,_5ec);_5ea._getProxyUrl=_5ec.getProxyUrl;_5ea._getProxiedUrl=_5ec.addProxy;_5ea._hasSameOrigin=_5ec.hasSameOrigin;_5ea._canDoXOXHR=_5ec.canUseXhr;_5ea._getAbsoluteUrl=_5ec.getAbsoluteUrl;}return _5ec;});},"esri/geometry/Extent":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/webMercatorUtils","esri/geometry/mathUtils"],function(_60a,_60b,lang,has,_60c,_60d,_60e,_60f,_610,_611,_612){var _613={type:"extent",xmin:0,ymin:0,xmax:0,ymax:0};var _614=_60a(_60f,{declaredClass:"esri.geometry.Extent",constructor:function(xmin,ymin,xmax,ymax,_615){lang.mixin(this,_613);if(lang.isObject(xmin)){lang.mixin(this,xmin);if(this.spatialReference){this.spatialReference=new _60e(this.spatialReference);}}else{this.update(xmin,ymin,xmax,ymax,_615);}this.verifySR();},getWidth:function(){return Math.abs(this.xmax-this.xmin);},getHeight:function(){return Math.abs(this.ymax-this.ymin);},getCenter:function(){return new _610((this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2,this.spatialReference);},centerAt:function(_616){var _617=this.getCenter(),dx=_616.x-_617.x,dy=_616.y-_617.y;return new _614(this.xmin+dx,this.ymin+dy,this.xmax+dx,this.ymax+dy,this.spatialReference);},update:function(xmin,ymin,xmax,ymax,_618){this.xmin=xmin;this.ymin=ymin;this.xmax=xmax;this.ymax=ymax;this.spatialReference=_618;return this;},offset:function(ox,oy){return new _614(this.xmin+ox,this.ymin+oy,this.xmax+ox,this.ymax+oy,this.spatialReference);},expand:function(_619){var _61a=(1-_619)/2,_61b=this.getWidth()*_61a,_61c=this.getHeight()*_61a;return new _614(this.xmin+_61b,this.ymin+_61c,this.xmax-_61b,this.ymax-_61c,this.spatialReference);},intersects:function(_61d){var type=_61d.type,_61e=this.spatialReference,_61f=_61d.spatialReference;if(_61e&&_61f&&!_61e.equals(_61f)&&_61e._canProject(_61f)){_61d=_61e.isWebMercator()?_611.geographicToWebMercator(_61d):_611.webMercatorToGeographic(_61d,true);}switch(type){case "point":return this.contains(_61d);case "multipoint":return this._intersectsMultipoint(_61d);case "extent":return this._intersectsExtent(_61d);case "polygon":return this._intersectsPolygon(_61d);case "polyline":return this._intersectsPolyline(_61d);}},_intersectsMultipoint:function(_620){var len=_620.points.length,i;for(i=0;i<len;i++){if(this.contains(_620.getPoint(i))){return true;}}return false;},_intersectsExtent:function(_621){var xmin,ymin,_622,_623,_624=false;if(this.xmin<=_621.xmin){xmin=_621.xmin;if(this.xmax<xmin){_624=true;}else{_622=Math.min(this.xmax,_621.xmax)-xmin;}}else{xmin=this.xmin;if(_621.xmax<xmin){_624=true;}else{_622=Math.min(this.xmax,_621.xmax)-xmin;}}if(this.ymin<=_621.ymin){ymin=_621.ymin;if(this.ymax<ymin){_624=true;}else{_623=Math.min(this.ymax,_621.ymax)-ymin;}}else{ymin=this.ymin;if(_621.ymax<ymin){_624=true;}else{_623=Math.min(this.ymax,_621.ymax)-ymin;}}if(_624){return null;}return new _614(xmin,ymin,xmin+_622,ymin+_623,this.spatialReference);},_intersectsPolygon:function(_625){var _626=[this.xmin,this.ymax],_627=[this.xmax,this.ymax],_628=[this.xmin,this.ymin],_629=[this.xmax,this.ymin],_62a=[_626,_627,_628,_629],_62b=[[_628,_626],[_626,_627],[_627,_629],[_629,_628]],i,j,_62c=_625.rings,_62d=_62c.length,ring,len,_62e=new _610(0,0,this.spatialReference);len=_62a.length;for(i=0;i<len;i++){_62e.update(_62a[i][0],_62a[i][1]);if(_625.contains(_62e)){return true;}}_62e.setSpatialReference(_625.spatialReference);var pi,pj;for(i=0;i<_62d;i++){ring=_62c[i];len=ring.length;if(!len){continue;}pi=ring[0];_62e.update(pi[0],pi[1]);if(this.contains(_62e)){return true;}for(j=1;j<len;j++){pj=ring[j];_62e.update(pj[0],pj[1]);if(this.contains(_62e)||this._intersectsLine([pi,pj],_62b)){return true;}pi=pj;}}return false;},_intersectsPolyline:function(_62f){var _630=[[[this.xmin,this.ymin],[this.xmin,this.ymax]],[[this.xmin,this.ymax],[this.xmax,this.ymax]],[[this.xmax,this.ymax],[this.xmax,this.ymin]],[[this.xmax,this.ymin],[this.xmin,this.ymin]]];var i,j,_631=_62f.paths,_632=_631.length,path,len;var pi,pj,_633=new _610(0,0,_62f.spatialReference);for(i=0;i<_632;i++){path=_631[i];len=path.length;if(!len){continue;}pi=path[0];_633.update(pi[0],pi[1]);if(this.contains(_633)){return true;}for(j=1;j<len;j++){pj=path[j];_633.update(pj[0],pj[1]);if(this.contains(_633)||this._intersectsLine([pi,pj],_630)){return true;}pi=pj;}}return false;},_intersectsLine:function(line,_634){var _635=_612._getLineIntersection2,i,len=_634.length;for(i=0;i<len;i++){if(_635(line,_634[i])){return true;}}return false;},contains:function(_636){if(!_636){return false;}var type=_636.type;if(type==="point"){var _637=this.spatialReference,_638=_636.spatialReference,_639,x=_636.x,y=_636.y;if(_637&&_638&&!_637.equals(_638)&&_637._canProject(_638)){_639=_637.isWebMercator()?_610.lngLatToXY(x,y):_610.xyToLngLat(x,y,true);x=_639[0];y=_639[1];}return (x>=this.xmin&&x<=this.xmax&&y>=this.ymin&&y<=this.ymax);}else{if(type==="extent"){return this._containsExtent(_636);}}return false;},_containsExtent:function(_63a){var xmin=_63a.xmin,ymin=_63a.ymin,xmax=_63a.xmax,ymax=_63a.ymax,sr=_63a.spatialReference,pt1=new _610(xmin,ymin,sr),pt2=new _610(xmin,ymax,sr),pt3=new _610(xmax,ymax,sr),pt4=new _610(xmax,ymin,sr);if(this.contains(pt1)&&this.contains(pt2)&&this.contains(pt3)&&this.contains(pt4)){return true;}return false;},union:function(_63b){return new _614(Math.min(this.xmin,_63b.xmin),Math.min(this.ymin,_63b.ymin),Math.max(this.xmax,_63b.xmax),Math.max(this.ymax,_63b.ymax),this.spatialReference);},getExtent:function(){var sr=this.spatialReference;return new _614(this.xmin,this.ymin,this.xmax,this.ymax,sr&&new _60e(sr.toJson()));},_shiftCM:function(info){if(!this._shifted){var _63c=new _614(this.toJson()),sr=_63c.spatialReference;info=info||sr._getInfo();if(info){var _63d=this._getCM(info);if(_63d){var _63e=sr._isWebMercator()?_611.webMercatorToGeographic(_63d):_63d;_63c.xmin-=_63d.x;_63c.xmax-=_63d.x;if(!sr._isWebMercator()){_63e.x=this._normalizeX(_63e.x,info).x;}_63c.spatialReference.wkt=_60d.substitute({Central_Meridian:_63e.x},sr.wkid===4326?info.altTemplate:info.wkTemplate);_63c.spatialReference.wkid=null;}}this._shifted=_63c;}return this._shifted;},_getCM:function(info){var _63f,_640=info.valid[0],_641=info.valid[1],xmin=this.xmin,xmax=this.xmax;var _642=(xmin>=_640&&xmin<=_641),_643=(xmax>=_640&&xmax<=_641);if(!(_642&&_643)){_63f=this.getCenter();}return _63f;},_normalize:function(_644,_645,info){var _646=new _614(this.toJson()),sr=_646.spatialReference;if(sr){info=info||sr._getInfo();if(info){var _647=_60b.map(this._getParts(info),function(part){return part.extent;});if(_647.length>2){if(_644){return this._shiftCM(info);}else{return _646.update(info.valid[0],_646.ymin,info.valid[1],_646.ymax,sr);}}else{if(_647.length===2){if(_644){return this._shiftCM(info);}else{return _645?_647:{"rings":_60b.map(_647,function(_648){return [[_648.xmin,_648.ymin],[_648.xmin,_648.ymax],[_648.xmax,_648.ymax],[_648.xmax,_648.ymin],[_648.xmin,_648.ymin]];}),"spatialReference":sr};}}else{return _647[0]||_646;}}}}return _646;},_getParts:function(info){if(!this._parts){var xmin=this.xmin,xmax=this.xmax,ymin=this.ymin,ymax=this.ymax,sr=this.spatialReference,_649=this.getWidth(),_64a=xmin,_64b=xmax,_64c=0,_64d=0,nrml,_64e=[],_64f,_650,_651;info=info||sr._getInfo();_64f=info.valid[0];_650=info.valid[1];nrml=this._normalizeX(xmin,info);xmin=nrml.x;_64c=nrml.frameId;nrml=this._normalizeX(xmax,info);xmax=nrml.x;_64d=nrml.frameId;_651=(xmin===xmax&&_649>0);if(_649>(2*_650)){var E1=new _614(_64a<_64b?xmin:xmax,ymin,_650,ymax,sr),E2=new _614(_64f,ymin,_64a<_64b?xmax:xmin,ymax,sr),E3=new _614(0,ymin,_650,ymax,sr),E4=new _614(_64f,ymin,0,ymax,sr),k,_652=[],_653=[];if(E1.contains(E3)){_652.push(_64c);}if(E1.contains(E4)){_653.push(_64c);}if(E2.contains(E3)){_652.push(_64d);}if(E2.contains(E4)){_653.push(_64d);}for(k=_64c+1;k<_64d;k++){_652.push(k);_653.push(k);}_64e.push({extent:E1,frameIds:[_64c]},{extent:E2,frameIds:[_64d]},{extent:E3,frameIds:_652},{extent:E4,frameIds:_653});}else{if((xmin>xmax)||_651){_64e.push({extent:new _614(xmin,ymin,_650,ymax,sr),frameIds:[_64c]},{extent:new _614(_64f,ymin,xmax,ymax,sr),frameIds:[_64d]});}else{_64e.push({extent:new _614(xmin,ymin,xmax,ymax,sr),frameIds:[_64c]});}}this._parts=_64e;}return this._parts;},_normalizeX:function(x,info){var _654=0,_655=info.valid[0],_656=info.valid[1],_657=2*_656,_658;if(x>_656){_658=Math.ceil(Math.abs(x-_656)/_657);x-=(_658*_657);_654=_658;}else{if(x<_655){_658=Math.ceil(Math.abs(x-_655)/_657);x+=(_658*_657);_654=-_658;}}return {x:x,frameId:_654};},toJson:function(){var json={xmin:this.xmin,ymin:this.ymin,xmax:this.xmax,ymax:this.ymax},sr=this.spatialReference;if(sr){json.spatialReference=sr.toJson();}return json;}});_614.defaultProps=_613;if(has("extend-esri")){lang.setObject("geometry.Extent",_614,_60c);_60c.geometry.defaultExtent=_613;}return _614;});},"esri/fx":function(){define(["dojo/_base/connect","dojo/_base/fx","dojo/_base/lang","dojo/dom","dojo/dom-geometry","dojo/dom-style","dojo/fx","dojo/has","esri/kernel"],function(_659,_65a,lang,dom,_65b,_65c,_65d,has,_65e){var fx={animateRange:function(args){var _65f=args.range;return new _65a.Animation(lang.mixin({curve:new _65a._Line(_65f.start,_65f.end)},args));},resize:function(args){var node=(args.node=dom.byId(args.node)),_660=args.start,end=args.end;if(!_660){var mb=_65b.getMarginBox(node),pb=_65b.getPadBorderExtents(node);_660=(args.start={left:mb.l+pb.l,top:mb.t+pb.t,width:mb.w-pb.w,height:mb.h-pb.h});}if(!end){var _661=args.anchor?args.anchor:{x:_660.left,y:_660.top},size=args.size;end=args.end={left:(_660.left-((size.width-_660.width)*(_661.x-_660.left)/_660.width)),top:(_660.top-((size.height-_660.height)*(_661.y-_660.top)/_660.height)),width:size.width,height:size.height};}return _65a.animateProperty(lang.mixin({properties:{left:{start:_660.left,end:end.left},top:{start:_660.top,end:end.top},width:{start:_660.width,end:end.width},height:{start:_660.height,end:end.height}}},args));},slideTo:function(args){var node=(args.node=dom.byId(args.node)),_662=_65c.getComputedStyle,top=null,left=null,init=(function(){var _663=node;return function(){var pos=_663.style.position=="absolute"?"absolute":"relative";top=(pos=="absolute"?node.offsetTop:parseInt(_662(node).top)||0);left=(pos=="absolute"?node.offsetLeft:parseInt(_662(node).left)||0);if(pos!="absolute"&&pos!="relative"){var ret=_65b.position(_663,true);top=ret.y;left=ret.x;_663.style.position="absolute";_663.style.top=top+"px";_663.style.left=left+"px";}};}());init();var anim=_65a.animateProperty(lang.mixin({properties:{top:{start:top,end:args.top||0},left:{start:left,end:args.left||0}}},args));_659.connect(anim,"beforeBegin",anim,init);return anim;},flash:function(args){args=lang.mixin({end:"#f00",duration:500,count:1},args);args.duration/=args.count*2;var node=dom.byId(args.node),_664=args.start;if(!_664){_664=_65c.getComputedStyle(node).backgroundColor;}var end=args.end,_665=args.duration,_666=[],i,il=args.count,base={node:node,duration:_665};for(i=0;i<il;i++){_666.push(_65a.animateProperty(lang.mixin({properties:{backgroundColor:{start:_664,end:end}}},base)));_666.push(_65a.animateProperty(lang.mixin({properties:{backgroundColor:{start:end,end:_664}}},base)));}return _65d.chain(_666);}};if(has("extend-esri")){lang.mixin(lang.getObject("fx",true,_65e),fx);}return fx;});},"esri/layers/JoinDataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/DataSource","esri/layers/LayerMapSource","esri/layers/TableDataSource","esri/layers/QueryDataSource","esri/layers/RasterDataSource"],function(_667,lang,has,_668,_669,_66a,_66b,_66c,_66d,_66e){var _66f=_667(_66a,{declaredClass:"esri.layers.JoinDataSource",constructor:function(json){if(json){if(json.leftTableSource){this.leftTableSource=this._createLayerSource(json.leftTableSource);}if(json.rightTableSource){this.rightTableSource=this._createLayerSource(json.rightTableSource);}}},_createLayerSource:function(_670){var _671;if(_670.type==="mapLayer"){_671=new _66b(_670);}else{_671={type:"dataLayer"};var _672;switch(_670.dataSource.type){case "table":_672=new _66c(_670.dataSource);break;case "queryTable":_672=new _66d(_670.dataSource);break;case "joinTable":_672=new _66f(_670.dataSource);break;case "raster":_672=new _66e(_670.dataSource);break;default:_672=_670.dataSource;}_671.dataSource=_672;_671.toJson=function(){var json={type:"dataLayer",dataSource:_672.toJson()};return _669.fixJson(json);};}return _671;},toJson:function(){var json={type:"joinTable",leftTableSource:this.leftTableSource&&this.leftTableSource.toJson(),rightTableSource:this.rightTableSource&&this.rightTableSource.toJson(),leftTableKey:this.leftTableKey,rightTableKey:this.rightTableKey};var _673;if(this.joinType.toLowerCase()==="left-outer-join"){_673="esriLeftOuterJoin";}else{if(this.joinType.toLowerCase()==="left-inner-join"){_673="esriLeftInnerJoin";}else{_673=this.joinType;}}json.joinType=_673;return _669.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.JoinDataSource",_66f,_668);}return _66f;});},"esri/layers/Domain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(_674,lang,has,_675,_676){var _677=_674(null,{declaredClass:"esri.layers.Domain",constructor:function(json){if(json&&lang.isObject(json)){this.name=json.name;this.type=json.type;}},toJson:function(){return _676.fixJson({name:this.name,type:this.type});}});if(has("extend-esri")){lang.setObject("layers.Domain",_677,_675);}return _677;});},"esri/InfoTemplate":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(_678,lang,has,_679,_67a){var _67b=_678(null,{declaredClass:"esri.InfoTemplate",constructor:function(_67c,_67d){if(_67c&&lang.isObject(_67c)&&!lang.isFunction(_67c)){lang.mixin(this,_67c);}else{this.title=_67c||"${*}";this.content=_67d||"${*}";}},setTitle:function(_67e){this.title=_67e;return this;},setContent:function(_67f){this.content=_67f;return this;},toJson:function(){return _67a.fixJson({title:this.title,content:this.content});}});if(has("extend-esri")){_679.InfoTemplate=_67b;}return _67b;});},"esri/symbols/TextSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","dojox/gfx/_base","esri/kernel","esri/lang","esri/symbols/Symbol","esri/symbols/Font"],function(_680,lang,_681,has,_682,_683,_684,_685,Font){var _686={ALIGN_START:"start",ALIGN_MIDDLE:"middle",ALIGN_END:"end",DECORATION_NONE:"none",DECORATION_UNDERLINE:"underline",DECORATION_OVERLINE:"overline",DECORATION_LINETHROUGH:"line-through"};var _687={color:[0,0,0,1],font:_682.defaultFont,angle:0,xoffset:0,yoffset:0};lang.mixin(_687,_682.defaultText,{type:"textsymbol",align:"middle"});var _688=_680(_685,{declaredClass:"esri.symbol.TextSymbol",angle:0,xoffset:0,yoffset:0,constructor:function(json,font,_689){lang.mixin(this,_687);this.font=new Font(this.font);this.color=new _681(this.color);if(json){if(lang.isObject(json)){lang.mixin(this,json);if(this.color&&_684.isDefined(this.color[0])){this.color=_685.toDojoColor(this.color);}this.type="textsymbol";this.font=new Font(this.font);this.xoffset=_682.pt2px(this.xoffset);this.yoffset=_682.pt2px(this.yoffset);}else{this.text=json;if(font){this.font=font;}if(_689){this.color=_689;}}}},setFont:function(font){this.font=font;return this;},setAngle:function(_68a){this.angle=_68a;return this;},setOffset:function(x,y){this.xoffset=x;this.yoffset=y;return this;},setAlign:function(_68b){this.align=_68b;return this;},setDecoration:function(_68c){this.decoration=_68c;return this;},setRotated:function(_68d){this.rotated=_68d;return this;},setKerning:function(_68e){this.kerning=_68e;return this;},setText:function(text){this.text=text;return this;},getStroke:function(){return null;},getFill:function(){return this.color;},toJson:function(){var xoff=_682.px2pt(this.xoffset);xoff=isNaN(xoff)?undefined:xoff;var yoff=_682.px2pt(this.yoffset);yoff=isNaN(yoff)?undefined:yoff;return _684.fixJson(lang.mixin(this.inherited("toJson",arguments),{type:"esriTS",backgroundColor:this.backgroundColor,borderLineColor:this.borderLineColor,verticalAlignment:this.verticalAlignment,horizontalAlignment:this.horizontalAlignment,rightToLeft:this.rightToLeft,width:this.width,angle:this.angle,xoffset:xoff,yoffset:yoff,text:this.text,align:this.align,decoration:this.decoration,rotated:this.rotated,kerning:this.kerning,font:this.font.toJson()}));}});lang.mixin(_688,_686);_688.defaultProps=_687;if(has("extend-esri")){lang.setObject("symbol.TextSymbol",_688,_683);_683.symbol.defaultTextSymbol=_687;}return _688;});},"esri/geometry/Rect":function(){define("esri/geometry/Rect",["dojo/_base/declare","dojo/_base/lang","dojo/has","dojox/gfx/_base","esri/kernel","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent"],function(_68f,lang,has,_690,_691,_692,_693,_694,_695){function _696(rect){return new _695(parseFloat(rect.x),parseFloat(rect.y)-parseFloat(rect.height),parseFloat(rect.x)+parseFloat(rect.width),parseFloat(rect.y),rect.spatialReference);};var Rect=_68f(_693,{declaredClass:"esri.geometry.Rect",constructor:function(json,y,_697,_698,_699){lang.mixin(this,_690.defaultRect);if(lang.isObject(json)&&json.type==="extent"){y=json.ymax;_697=json.getWidth();_698=json.getHeight();_699=json.spatialReference;json=json.xmin;}if(lang.isObject(json)){lang.mixin(this,json);if(this.spatialReference){this.spatialReference=new _692(this.spatialReference);}}else{this.x=json;this.y=y;this.width=_697;this.height=_698;this.spatialReference=_699;}this.verifySR();},getCenter:function(){return new _694(this.x+this.width/2,this.y+this.height/2,this.spatialReference);},offset:function(ox,oy){return new Rect(this.x+ox,this.y+oy,this.width,this.height,this.spatialReference);},intersects:function(rect){if((rect.x+rect.width)<=this.x){return false;}if((rect.y+rect.height)<=this.y){return false;}if(rect.y>=(this.y+this.height)){return false;}if(rect.x>=(this.x+this.width)){return false;}return true;},getExtent:function(){return _696(this);},update:function(x,y,_69a,_69b,_69c){this.x=x;this.y=y;this.width=_69a;this.height=_69b;this.spatialReference=_69c;return this;}});if(has("extend-esri")){lang.setObject("geometry.Rect",Rect,_691);_691.geometry._rectToExtent=_696;_691.geometry._extentToRect=function(_69d){return new Rect(_69d);};}return Rect;});},"esri/renderers/jsonUtils":function(){define(["dojo/_base/lang","dojo/has","esri/kernel","esri/renderers/SimpleRenderer","esri/renderers/UniqueValueRenderer","esri/renderers/ClassBreaksRenderer"],function(lang,has,_69e,_69f,_6a0,_6a1){var _6a2={fromJson:function(json){var type=json.type||"",_6a3;switch(type){case "simple":_6a3=new _69f(json);break;case "uniqueValue":_6a3=new _6a0(json);break;case "classBreaks":_6a3=new _6a1(json);break;}return _6a3;}};if(has("extend-esri")){lang.mixin(lang.getObject("renderer",true,_69e),_6a2);}return _6a2;});},"esri/layers/GraphicsLayer":function(){define(["dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojo/dom-attr","dojo/dom-construct","dojo/dom-style","dojox/gfx","dojox/gfx/matrix","esri/kernel","esri/lang","esri/sniff","esri/domUtils","esri/layers/layer","esri/symbols/SimpleMarkerSymbol","esri/geometry/Point","esri/geometry/ScreenPoint","esri/geometry/Extent","esri/geometry/mathUtils","esri/geometry/screenUtils"],function(_6a4,_6a5,lang,_6a6,_6a7,_6a8,_6a9,_6aa,_6ab,_6ac,_6ad,has,_6ae,_6af,SMS,_6b0,_6b1,_6b2,_6b3,_6b4){var _6b5;var _6b6=_6a4(null,{declaredClass:"esri.layers._GraphicsContainer",_setMap:function(map,_6b7){var es,_6b8=(this._connects=[]);this._map=map;if(_6aa.renderer.toLowerCase().indexOf("canvas")!==-1){es=_6a8.create("div",{style:"overflow: visible; position: absolute;"},_6b7);this._surface={getEventSource:function(){return es;}};_6b8.push(_6a5.connect(es,"onmousedown",this,this._canvasDownHandler));_6b8.push(_6a5.connect(es,"onmouseup",this,this._canvasUpHandler));_6b8.push(_6a5.connect(es,"onclick",this,this._canvasClickHandler));_6b5.prototype._canvas=true;}else{var _6b9=(this._surface=_6aa.createSurface(_6b7,map.width,map.height));es=_6b9.getEventSource();_6a9.set((es=(has("ie")<9)?es.parentNode:es),{overflow:"visible",position:"absolute"});}_6b8.push(_6a5.connect(map,"onResize",this,"_onResizeHandler"));return es;},_onResizeHandler:function(_6ba,_6bb,_6bc){var es=this._surface.getEventSource(),map=this._map,_6bd;if(has("ie")<9){_6a9.set((es=es.parentNode),{width:_6bb+"px",height:_6bc+"px",clip:"rect(0px "+_6bb+"px "+_6bc+"px 0px)"});}_6a7.set(es,"width",_6bb);_6a7.set(es,"height",_6bc);if(!this._surface.declaredClass){_6a6.forEach(es.childNodes,function(_6be){_6a7.set(_6be,"width",_6bb);_6a7.set(_6be,"height",_6bc);});}if(map.loaded){if(!map.graphics.suspended){map.graphics._resized=true;}_6a6.forEach(map.graphicsLayerIds,function(_6bf){_6bd=map.getLayer(_6bf);if(!_6bd.suspended){_6bd._resized=true;}});}},_cleanUp:function(){_6a6.forEach(this._connects,_6a5.disconnect,_6a5);this._map=this._surface=null;},_processEvent:function(evt){var map=this._map;evt.screenPoint=new _6b1(evt.pageX-map.position.x,evt.pageY-map.position.y);evt.mapPoint=map.toMap(evt.screenPoint);},_canvasDownHandler:function(evt){this._processEvent(evt);this._downPt=evt.screenPoint.x+","+evt.screenPoint.y;},_canvasUpHandler:function(evt){this._processEvent(evt);this._upPt=evt.screenPoint.x+","+evt.screenPoint.y;},_tolerance:15,_canvasClickHandler:function(evt){if(!this._downPt||!this._upPt||this._downPt!==this._upPt){return;}this._processEvent(evt);var map=this._map,_6c0=_6a6.map(map.graphicsLayerIds,function(id){return map.getLayer(id);});_6c0.push(map.graphics);_6c0.reverse();_6c0=_6a6.filter(_6c0,function(_6c1){return _6c1.loaded&&_6c1._mouseEvents&&!_6c1.suspended&&(!_6ad.isDefined(_6c1.opacity)||_6c1.opacity>0);});var _6c2=evt.screenPoint,_6c3=this._tolerance,xmin=_6c2.x-_6c3,ymin=_6c2.y+_6c3,xmax=_6c2.x+_6c3,ymax=_6c2.y-_6c3,_6c4=new _6b2(xmin,ymax,xmax,ymin),_6c5=map.toMap(new _6b1(xmin,ymin)),_6c6=map.toMap(new _6b1(xmax,ymax)),_6c7=new _6b2(_6c5.x,_6c5.y,_6c6.x,_6c6.y,_6c5.spatialReference),_6c8,_6c9=has("esri-touch");delete _6c4.spatialReference;_6a6.some(_6c0,function(_6ca){var _6cb=_6a6.filter(_6ca.graphics,function(_6cc){var _6cd=_6cc.getDojoShape();if(!_6cc.visible||!_6cd){return false;}var bbox=_6cd.getTransformedBoundingBox();if(bbox){var _6ce=new _6b2(bbox[0].x,bbox[0].y,bbox[2].x,bbox[2].y);delete _6ce.spatialReference;return _6c9?_6ce.intersects(_6c4):_6ce.contains(_6c2);}else{return _6a6.some(_6cd.children||[],function(_6cf){bbox=_6cf.getTransformedBoundingBox();var _6d0=new _6b2(bbox[0].x,bbox[0].y,bbox[2].x,bbox[2].y);delete _6d0.spatialReference;return _6c9?_6d0.intersects(_6c4):_6d0.contains(_6c2);});}});_6cb.reverse();if(_6cb.length>0){var _6d1;_6a6.some(_6cb,function(_6d2){if(_6d2.geometry&&_6c7.intersects(_6d2.geometry)){_6d1=_6d2;return true;}return false;});if(_6d1){_6c8=_6d1;return true;}}return false;});if(_6c8){var _6d3=_6c8.getLayer();if(_6d3){evt.graphic=_6c8;_6d3.onClick(evt);}}}});_6b5=_6a4(_6af,{declaredClass:"esri.layers._GraphicsLayer",managedSuspension:true,_eventMap:{"graphic-add":["graphic"],"graphic-remove":["graphic"]},constructor:function(_6d4){if(_6d4&&(lang.isString(_6d4)||(lang.isObject(_6d4)&&_6d4.layerDefinition))){_6d4=arguments[1];}this._params=lang.mixin({displayOnPan:true,drawMode:true},_6d4||{});this.infoTemplate=_6d4&&_6d4.infoTemplate;this.graphics=[];this._draw=lang.hitch(this,this._draw);this._refresh=lang.hitch(this,this._refresh);this.registerConnectEvents();},setDrawMode:function(_6d5){this._params.drawMode=_6d5;},renderer:null,_setMap:function(map,_6d6){this.inherited(arguments);this._map=map;this._wrap=map.wrapAround180;this._srInfo=map.spatialReference._getInfo();if(!this._canvas){this._div=_6d6.createGroup();}else{_6d6=_6aa.createSurface(_6d6.getEventSource(),map.width,map.height);_6a9.set(_6d6.rawNode,"position","absolute");this._div=_6d6.createGroup();this._renderProto=this._div.constructor.prototype._render;this._div._render=lang.hitch(this,this._canvasRender);}this._div.getEventSource().id=this.id+"_layer";var op=this.opacity;if(_6ad.isDefined(op)&&op<1){this.setOpacity(op,true);}return this._div;},_unsetMap:function(map,_6d7){_6a6.forEach(this.graphics,function(g){g._shape=null;});if(!this._canvas){this._div.clear();_6d7.remove(this._div);_6a8.destroy(this._div.getEventSource());}else{_6d7=this._div.getParent();_6d7._parent={};_6a8.destroy(_6d7.rawNode);_6d7.destroy();}this._map=this._div=null;clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();this.inherited(arguments);},_onZoomStartHandler:function(){_6ae.hide(this._div.getEventSource());},_onExtentChangeHandler:function(_6d8,_6d9,_6da,lod){clearTimeout(this._wakeTimer);this._wakeTimer=null;if(_6da){var _6db=this._map.__visibleRect,_6dc=this._div;this._refresh(true);_6dc.setTransform(_6ab.translate({x:_6db.x,y:_6db.y}));if(this._renderProto&&_6dc.surface.pendingRender){this._dirty=true;}else{if(!this.suspended){_6ae.show(_6dc.getEventSource());}}}else{if(this._resized){this._refresh(false);this._resized=false;}}if(this.graphics.length>0){this.onUpdate();}},_canvasRender:function(){var _6dd=this._div;if(this._dirty){delete this._dirty;if(!this.suspended){_6ae.show(_6dd.getEventSource());}}return this._renderProto.apply(_6dd,arguments);},_refresh:function(_6de){var gs=this.graphics,il=gs.length,i,_6df=this._draw;for(i=0;i<il;i++){_6df(gs[i],_6de);}},refresh:function(){this._refresh(true);},redraw:function(){this._refresh(true);},_onPanHandler:function(_6e0,_6e1){this._panDx=_6e1.x;this._panDy=_6e1.y;var _6e2=this._map.__visibleRect;this._div.setTransform(_6ab.translate({x:_6e2.x+_6e1.x,y:_6e2.y+_6e1.y}));},_onPanEndUpdateHandler:function(_6e3,_6e4){if(!this._params._child&&(_6e4.x!==this._panDx||_6e4.y!==this._panDy)){var _6e5=this._map.__visibleRect;this._div.setTransform(_6ab.translate({x:_6e5.x,y:_6e5.y}));}this._refresh(false);if(this.graphics.length){this.onUpdate();}},_onPanStartHandler:function(){_6ae.hide(this._div.getEventSource());},_onPanEndHandler:function(){var _6e6=this._map.__visibleRect,_6e7=this._div;_6e7.setTransform(_6ab.translate({x:_6e6.x,y:_6e6.y}));this._refresh(false);if(this._renderProto&&_6e7.surface.pendingRender){this._dirty=true;}else{_6ae.show(_6e7.getEventSource());}if(this.graphics.length){this.onUpdate();}},onSuspend:function(){this.inherited(arguments);_6ae.hide(this._div.getEventSource());clearTimeout(this._wakeTimer);this._wakeTimer=null;this._disableDrawConnectors();},onResume:function(evt){this.inherited(arguments);this._enableDrawConnectors();this._wakeTimer=this._wakeTimer||setTimeout(lang.hitch(this,function(){if(!this.suspended){this._onExtentChangeHandler(null,null,true);}}),0);},_enableDrawConnectors:function(){var map=this._map,dc=_6a5.connect;this._disableDrawConnectors();if(this._params.displayOnPan){if(!this._params._child){this._onPanHandler_connect=dc(map,"onPan",this,"_onPanHandler");}this._onPanEndHandler_connect=dc(map,"onPanEnd",this,"_onPanEndUpdateHandler");}else{this._onPanStartHandler_connect=dc(map,"onPanStart",this,"_onPanStartHandler");this._onPanEndHandler_connect=dc(map,"onPanEnd",this,"_onPanEndHandler");}this._onZoomStartHandler_connect=dc(map,"onZoomStart",this,"_onZoomStartHandler");this._onExtentChangeHandler_connect=dc(map,"onExtentChange",this,"_onExtentChangeHandler");},_disableDrawConnectors:function(){var dd=_6a5.disconnect;dd(this._onExtentChangeHandler_connect);dd(this._onZoomStartHandler_connect);dd(this._onPanHandler_connect);dd(this._onPanStartHandler_connect);dd(this._onPanEndHandler_connect);this._onExtentChangeHandler_connect=this._onZoomStartHandler_connect=this._onPanHandler_connect=this._onPanStartHandler_connect=this._onPanEndHandler_connect=null;},_updateExtent:function(_6e8){var geom=_6e8.geometry;if(!geom){_6e8._extent=null;return;}var _6e9=(_6e8._extent=geom.getExtent());if(!_6e9){var x,y;if(geom.declaredClass==="esri.geometry.Point"){x=geom.x;y=geom.y;}else{if(geom.declaredClass==="esri.geometry.Multipoint"){x=geom.points[0][0];y=geom.points[0][1];}else{_6e8._extent=null;return;}}_6e8._extent=new _6b2(x,y,x,y,geom.spatialReference);}},_intersects:function(map,_6ea,_6eb){var _6ec=map.spatialReference,_6ed=_6ea.spatialReference,_6ee=(_6ec&&_6ed&&!_6ec.equals(_6ed)&&_6ec._canProject(_6ed)&&_6ed.wkid===4326);if(this._wrap&&!_6eb){var _6ef=[],_6f0=map._getFrameWidth(),info=this._srInfo,_6f1,_6f2=map._clip?map._getAvailExtent():map.extent,_6f3,g,m,f,gl,ml,fl,_6f4,_6f5,_6f6=[],_6f7=_6ea._partwise;if(_6ee){_6f2=map.geographicExtent;info=_6ed._getInfo();}_6f3=_6f2._getParts(info);if(_6f7&&_6f7.length){_6f1=[];for(g=0,gl=_6f7.length;g<gl;g++){_6f1=_6f1.concat(_6f7[g]._getParts(info));}}else{_6f1=_6ea._getParts(info);}for(g=0,gl=_6f1.length;g<gl;g++){_6f4=_6f1[g];for(m=0,ml=_6f3.length;m<ml;m++){_6f5=_6f3[m];if(_6f5.extent.intersects(_6f4.extent)){for(f=0,fl=_6f4.frameIds.length;f<fl;f++){_6ef.push((_6f5.frameIds[0]-_6f4.frameIds[f])*_6f0);}}}}for(g=0,gl=_6ef.length;g<gl;g++){f=_6ef[g];if(_6a6.indexOf(_6ef,f)===g){_6f6.push(f);}}return (_6f6.length)?_6f6:null;}else{return (_6ee?map.geographicExtent:map.extent).intersects(_6ea)?[0]:null;}},_draw:function(_6f8,_6f9){if(!this._params.drawMode||!this._map||this.suspended){return;}try{var _6fa=_6f8._extent,_6fb,_6fc;if(_6f8.visible&&_6fa&&(_6fb=this._intersects(this._map,_6fa,_6f8.geometry._originOnly))&&(_6fc=this._getSymbol(_6f8))){if(!_6f8.getDojoShape()||_6f9||_6fb){var type=_6f8.geometry.type;if(type==="point"){this._drawMarker(_6f8,_6fc,_6fb);this._symbolizeMarker(_6f8,_6fc);}else{if(type==="multipoint"){this._drawMarkers(_6f8,_6fc,_6fb);this._symbolizeMarkers(_6f8,_6fc);}else{this._drawShape(_6f8,_6fb);this._symbolizeShape(_6f8,_6fc);}}}}else{if(_6f8.getDojoShape()){this._removeShape(_6f8);}}}catch(err){this._errorHandler(err,_6f8);}},_removeShape:function(_6fd){var _6fe=_6fd.getDojoShape();_6fe.removeShape();_6fd._shape=null;},_drawShape:function(_6ff,_700){var _701=_6ff.geometry,type=_701.type,map=this._map,me=map.extent,mw=map.width,mh=map.height,_702=map.__visibleRect,_703=[],i,il,rect,pt,xy,wh,_704=(type==="extent");if(type==="rect"||_704){pt={x:0,y:0,spatialReference:_701.spatialReference};pt.x=_704?_701.xmin:_701.x;pt.y=_704?_701.ymax:_701.y;xy=_6b4.toScreenPoint(me,mw,mh,pt);pt.x=_704?_701.xmax:(_701.x+_701.width);pt.y=_704?_701.ymin:(_701.y+_701.height);wh=_6b4.toScreenPoint(me,mw,mh,pt);rect={x:xy.x-_702.x+_700[0],y:xy.y-_702.y,width:Math.abs(wh.x-xy.x),height:Math.abs(wh.y-xy.y)};if(rect.width===0){rect.width=1;}if(rect.height===0){rect.height=1;}_6ff._shape=this._drawRect(this._div,_6ff.getDojoShape(),rect);}else{if(type==="polyline"||type==="polygon"){for(i=0,il=_700.length;i<il;i++){_703=_703.concat(_6b4._toScreenPath(me,mw,mh,_701,-_702.x+_700[i],-_702.y));}_6ff._shape=this._drawPath(this._div,_6ff.getDojoShape(),_703);if(this._rendererLimits){if(type==="polyline"){this._clipPolyline(_6ff._shape,_701);}else{this._clipPolygon(_6ff._shape,_701);}}}}},_drawRect:function(_705,_706,rect){return _706?_706.setShape(rect):_705.createRect(rect);},_drawImage:function(_707,_708,_709){return _708?_708.setShape(_709):_707.createImage(_709);},_drawCircle:function(_70a,_70b,_70c){return _70b?_70b.setShape(_70c):_70a.createCircle(_70c);},_drawPath:(function(){if(has("ie")<9){return function(_70d,_70e,path,_70f){path=_70f?path:path.join(" ");if(_70e){return _70e.setShape(path);}else{var p=_70d.createObject(_70f?_6aa.Path:_6aa.EsriPath,path);_70d._overrideSize(p.getEventSource());return p;}};}else{return function(_710,_711,path,_712){path=_712?path:path.join(" ");return _711?_711.setShape(path):_710.createPath(path);};}}()),_drawText:function(_713,_714,text){return _714?_714.setShape(text):_713.createText(text);},_getSymbol:function(_715){return _715.symbol||(this.renderer?this.renderer.getSymbol(_715):null)||null;},_symbolizeShape:function(_716,_717){var _718=_717._stroke,fill=_717._fill;if(_718===null||fill===null){_718=_717.getStroke();fill=_717.getFill();}_716.getDojoShape().setStroke(_718).setFill(fill);_717._stroke=_718;_717._fill=fill;},_smsToPath:(function(){if(has("ie")<9){return function(SMS,_719,x,y,xMh,xPh,yMh,yPh,_71a){switch(_719){case SMS.STYLE_SQUARE:return ["M",xMh+","+yMh,"L",xPh+","+yMh,xPh+","+yPh,xMh+","+yPh,"X","E"];case SMS.STYLE_CROSS:return ["M",x+","+yMh,"L",x+","+yPh,"M",xMh+","+y,"L",xPh+","+y,"E"];case SMS.STYLE_X:return ["M",xMh+","+yMh,"L",xPh+","+yPh,"M",xMh+","+yPh,"L",xPh+","+yMh,"E"];case SMS.STYLE_DIAMOND:return ["M",x+","+yMh,"L",xPh+","+y,x+","+yPh,xMh+","+y,"X","E"];case SMS.STYLE_TARGET:return ["M",xMh+","+yMh,"L",xPh+","+yMh,xPh+","+yPh,xMh+","+yPh,xMh+","+yMh,"M",(xMh-_71a)+","+y,"L",xMh+","+y,"M",x+","+(yMh-_71a),"L",x+","+yMh,"M",(xPh+_71a)+","+y,"L",xPh+","+y,"M",x+","+(yPh+_71a),"L",x+","+yPh,"E"];}};}else{return function(SMS,_71b,x,y,xMh,xPh,yMh,yPh,_71c){switch(_71b){case SMS.STYLE_SQUARE:return ["M",xMh+","+yMh,xPh+","+yMh,xPh+","+yPh,xMh+","+yPh,"Z"];case SMS.STYLE_CROSS:return ["M",x+","+yMh,x+","+yPh,"M",xMh+","+y,xPh+","+y];case SMS.STYLE_X:return ["M",xMh+","+yMh,xPh+","+yPh,"M",xMh+","+yPh,xPh+","+yMh];case SMS.STYLE_DIAMOND:return ["M",x+","+yMh,xPh+","+y,x+","+yPh,xMh+","+y,"Z"];case SMS.STYLE_TARGET:return ["M",xMh+","+yMh,xPh+","+yMh,xPh+","+yPh,xMh+","+yPh,xMh+","+yMh,"M",(xMh-_71c)+","+y,xMh+","+y,"M",x+","+(yMh-_71c),x+","+yMh,"M",(xPh+_71c)+","+y,xPh+","+y,"M",x+","+(yPh+_71c),x+","+yPh];}};}}()),_pathStyles:{"square":1,"cross":1,"x":1,"diamond":1,"target":1},_typeMaps:{"picturemarkersymbol":"image","textsymbol":"text"},_isInvalidShape:function(_71d,_71e){var _71f=_71e&&_71e.shape&&_71e.shape.type,_720=_71d&&_71d.type,_721=_71d&&_71d.style;if(!_721){if(_720){_721=this._typeMaps[_720];}}else{if(this._pathStyles[_721]){_721="path";}}if(_71f&&_721&&(_71f!==_721)){return true;}},_drawPoint:function(_722,_723,_724,_725,_726){var type=_724.type,map=this._map,_727=map.__visibleRect,_728=_6b4.toScreenPoint(map.extent,map.width,map.height,_723).offset(-_727.x+_726[0],-_727.y),px=_728.x,py=_728.y,_729,bbox,_72a=0,_72b=0;if(this._isInvalidShape(_724,_725)){_725.removeShape();_725=null;}if(type==="simplemarkersymbol"){var _72c=_724.style,half=_724.size/2,_72d=Math.round;switch(_72c){case SMS.STYLE_SQUARE:case SMS.STYLE_CROSS:case SMS.STYLE_X:case SMS.STYLE_DIAMOND:_729=this._drawPath(_722,_725,this._smsToPath(SMS,_72c,px,py,_72d(px-half),_72d(px+half),_72d(py-half),_72d(py+half)));break;case SMS.STYLE_TARGET:var _72e=_724._targetWidth/2,_72f=_724._targetHeight/2;_729=this._drawPath(_722,_725,this._smsToPath(SMS,_72c,px,py,_72d(px-_72e),_72d(px+_72e),_72d(py-_72f),_72d(py+_72f),_724._spikeSize));break;case SMS.STYLE_PATH:_729=this._drawPath(_722,_725,_724.path,true);bbox=_729.getBoundingBox();_72a=-(bbox.x+(bbox.width/2))+px;_72b=-(bbox.y+(bbox.height/2))+py;break;default:_729=this._drawCircle(_722,_725,{cx:px,cy:py,r:half});}}else{if(type==="picturemarkersymbol"){var w=_724.width,h=_724.height;_729=this._drawImage(_722,_725,{x:px-(w/2),y:py-(h/2),width:w,height:h,src:_724.url});}else{if(type==="textsymbol"){_729=this._drawText(_722,_725,{type:"text",text:_724.text,x:px,y:py,align:_724.align,decoration:_724.decoration,rotated:_724.rotated,kerning:_724.kerning});}}}_729.setTransform(_6ab.multiply(_6ab.translate(_724.xoffset,-_724.yoffset),_6ab.rotategAt(_724.angle,_728),_6ab.translate(_72a,_72b)));_729._wrapOffsets=_726;return _729;},_symbolizePoint:function(_730,_731){var type=_731.type;if(type==="picturemarkersymbol"){return;}var _732=_731._stroke,fill=_731._fill;if(type==="textsymbol"){_730.setFont(_731.font).setFill(_731.getFill());}else{if(_732===null||fill===null){_732=_731.getStroke();fill=_731.getFill();}if(type==="simplemarkersymbol"){_730.setFill(fill).setStroke(_732);}_731._stroke=_732;_731._fill=fill;}},_drawMarker:function(_733,_734,_735){_733._shape=this._drawPoint(this._div,_733.geometry,_734,_733.getDojoShape(),_735);},_symbolizeMarker:function(_736,_737){this._symbolizePoint(_736.getDojoShape(),_737);},_drawMarkers:function(_738,_739,_73a){var _73b=_738.geometry,_73c=_73b.points,_73d=_738.getDojoShape()||this._div.createGroup(),_73e,i,il=_73c.length,temp=[],idx=0,j,jl=_73a?_73a.length:0;if(_73d.children[0]&&this._isInvalidShape(_739,_73d.children[0])){_73d.clear();}for(i=0;i<il;i++){_73e=_73c[i];for(j=0;j<jl;j++){temp[0]=_73a[j];this._drawPoint(_73d,{x:_73e[0],y:_73e[1],spatialReference:_73b.spatialReference},_739,_73d.children[idx++],temp);}}var _73f=_73d.children.length;if(il*_73a.length<_73f){for(i=_73f-1;i>=il*_73a.length;i--){_73d.children[i].removeShape();}}_738._shape=_73d;},_symbolizeMarkers:function(_740,_741){var _742=_740.getDojoShape(),_743=_742.children,i,il=_743.length;for(i=0;i<il;i++){this._symbolizePoint(_743[i],_741);}},_errorHandler:function(err,_744){var msg="Unable to draw graphic ";if(_744){err.message=msg+"(geometry:"+(_744.geometry?_744.geometry.declaredClass:null)+", symbol:"+(_744.symbol?_744.symbol.declaredClass:null)+"): "+err.message;}else{err.message=msg+"(null): "+err.message;}this.inherited(arguments);},_rendererLimits:(function(){var _745,_746,_747;if(has("ff")){_745=16125;_746=-32250;_747=32250;}else{if(has("ie")<9){_745=100000;_746=-100000;_747=100000;}else{if(has("chrome")&&has("chrome")<6){_745=8150;_746=-10000;_747=10000;}}}if(_745){var _748,_749;_748=[-_745,-_745,_745,_745];_749=[[[-_745,-_745],[_745,-_745]],[[_745,-_745],[_745,_745]],[[_745,_745],[-_745,_745]],[[-_745,_745],[-_745,-_745]]];return {clipLimit:_745,rangeMin:_746,rangeMax:_747,clipBBox:_748,clipSegments:_749};}}()),_clipPolyline:function(_74a,_74b){var _74c=this._getCorners(_74a,_74b);var _74d=_74c.tl,_74e=_74c.br;var _74f=this._rendererLimits;var _750=_74f.rangeMin,_751=_74f.rangeMax,_752=_74f.clipBBox,_753=_74f.clipSegments;var _754=this._isPointWithinRange,_755=this._isPointWithinBBox,_756=this._getClipperIntersection,_757=this._getPlaneIndex;if(!_754(_74d,_750,_751)||!_754(_74e,_750,_751)){if(has("ie")<9){this._createSegments(_74a);}var _758=[];_6a6.forEach(_74a.segments,function(_759){var _75a=_759.args,len=_75a.length,_75b=[],i;for(i=0;i<len;i+=2){var pt1=[_75a[i],_75a[i+1]];var pt2=[_75a[i+2],_75a[i+3]];var _75c=_755(pt1,_752);var _75d=_755(pt2,_752);if(_75c^_75d){var _75e=_756([pt1,pt2],_753);if(_75e){if(!_75c){_75b.push(_75e[1],pt2);}else{if(i){_75b.push(_75e[1]);}else{_75b.push(pt1,_75e[1]);}_758.push(_75b);_75b=[];}}}else{if(_75c){if(i){_75b.push(pt2);}else{_75b.push(pt1,pt2);}}else{var _75f=_757(pt1,_752);var _760=_757(pt2,_752);if(_75f===-1||_760===-1||_75f===_760){continue;}var _761=_756([pt1,pt2],_753,true);if(_761.length>0){if(!_761[_75f]){_75f=_761[_75f[0]]?_75f[0]:_75f[1];}if(!_761[_760]){_760=_761[_760[0]]?_760[0]:_760[1];}var _762=_761[_75f],_763=_761[_760];if(_762){_75b.push(_762);}if(_763){_75b.push(_763);_758.push(_75b);_75b=[];}}}}}_758.push(_75b);});_74a.setShape(this._getPathStringFromPaths(_758));}},_clipPolygon:function(_764,_765){var _766=this._getCorners(_764,_765);var _767=_766.tl,_768=_766.br;var _769=this._rendererLimits;var _76a=_769.clipLimit,_76b=_769.rangeMin,_76c=_769.rangeMax,_76d=_769.clipBBox,_76e=_769.clipSegments;var _76f=this._isPointWithinRange,_770=this._isPointWithinBBox,_771=this._getClipperIntersection,_772=this._getPlaneIndex,_773=_6b3._pointLineDistance;if(!_76f(_767,_76b,_76c)||!_76f(_768,_76b,_76c)){if(has("ie")<9){this._createSegments(_764);}var _774=_6a6.map(_764.segments,function(_775){var _776=_775.args,len=_776.length,_777=[],_778=[],i;for(i=0;i<len;i+=2){var pt1=[_776[i],_776[i+1]];var pt2=[_776[i+2],_776[i+3]];if(i===(len-2)){_777.push(pt1);break;}var _779=_770(pt1,_76d);var _77a=_770(pt2,_76d);_777.push(pt1);if(_779^_77a){var _77b=_771([pt1,pt2],_76e);if(_77b){var _77c=_77b[1];_77c[_779?"inOut":"outIn"]=true;_777.push(_77c);_778.push([_779?"INOUT":"OUTIN",_777.length-1,_77b[0]]);}}else{if(!_779){var _77d=_772(pt1,_76d);var _77e=_772(pt2,_76d);if(_77d===-1||_77e===-1||_77d===_77e){continue;}var _77b=_771([pt1,pt2],_76e,true);if(_77b.length>0){if(!_77b[_77d]){_77d=_77b[_77d[0]]?_77d[0]:_77d[1];}if(!_77b[_77e]){_77e=_77b[_77e[0]]?_77e[0]:_77e[1];}var _77f=_77b[_77d],_780=_77b[_77e];if(_77f){_77f.outIn=true;_777.push(_77f);_778.push(["OUTIN",_777.length-1,_77d]);}if(_780){_780.inOut=true;_777.push(_780);_778.push(["INOUT",_777.length-1,_77e]);}}else{if(lang.isArray(_77d)&&lang.isArray(_77e)){var _781=_77d.concat(_77e);_781.sort();if(_781.join("")==="0123"){var _782=[];if((_77d[0]+_77d[1])===3){_782.push([_76a,-_76a],[-_76a,_76a]);}else{_782.push([-_76a,-_76a],[_76a,_76a]);}var d1=_773(_782[0],[pt1,pt2]);var d2=_773(_782[1],[pt1,pt2]);_777.push((d1<d2)?_782[0]:_782[1]);}}}}}}var xmin=_76d[0],ymin=_76d[1],xmax=_76d[2],ymax=_76d[3];_6a6.forEach(_777,function(_783){if(_783[0]<xmin){if(_783[1]>=ymin&&_783[1]<=ymax){_783[0]=xmin;}else{_783[0]=xmin;_783[1]=_783[1]<ymin?ymin:ymax;}}});_6a6.forEach(_777,function(_784){if(_784[1]<ymin){if(_784[0]>=xmin&&_784[0]<=xmax){_784[1]=ymin;}else{_784[1]=ymin;_784[0]=_784[0]<xmin?xmin:xmax;}}});_6a6.forEach(_777,function(_785){if(_785[0]>xmax){if(_785[1]>=ymin&&_785[1]<=ymax){_785[0]=xmax;}else{_785[0]=xmax;_785[1]=_785[1]<ymin?ymin:ymax;}}});_6a6.forEach(_777,function(_786){if(_786[1]>ymax){if(_786[0]>=xmin&&_786[0]<=xmax){_786[1]=ymax;}else{_786[1]=ymax;_786[0]=_786[0]<xmin?xmin:xmax;}}});var k=0,len=_778.length;if(len>0){do{var curr=_778[k];var next=_778[(k+1)%len];if(curr[2]===next[2]&&curr[0]==="INOUT"&&next[0]==="OUTIN"){var _787=curr[1],end=next[1],u;if(_787<end){for(u=_787+1;u<end;u++){_777[u][2]=true;}}else{if(_787>end){for(u=_787+1;u<_777.length;u++){_777[u][2]=true;}for(u=0;u<end;u++){_777[u][2]=true;}}}}k=(k+1)%len;}while(k!==0);}var _788=_777[0],last=_777[_777.length-1];if(_788[2]){last[2]=true;_6a6.some(_778,function(data){if(data[1]===1){_777.splice(_777.length-1,0,lang.clone(_777[1]));return true;}return false;});}_777=_6a6.filter(_777,function(_789){return _789[2]?false:true;});for(k=0;k<_777.length-1;k++){var now=_777[k];var next=_777[k+1];if(!next||(now[0]!==next[0])||(now[1]!==next[1])){continue;}if(next.outIn){now.outIn=true;}else{if(next.inOut){now.inOut=true;}}_777.splice(k+1,1);}var abs=Math.abs,_78a=[];for(k=0;k<_777.length-1;k++){var curr=_777[k],cx=curr[0],cy=curr[1];var x1=(abs(cx)===_76a);var y1=(abs(cy)===_76a);var next=_777[k+1],nx=next[0],ny=next[1];var x2=(abs(nx)===_76a);var y2=(abs(ny)===_76a);if(x1&&y2){_78a.push([k+1,[cx,ny]]);}else{if(y1&&x2){_78a.push([k+1,[nx,cy]]);}}}for(k=_78a.length-1;k>=0;k--){var data=_78a[k];var prev=_777[data[0]-1];var now=_777[data[0]];if(prev.outIn||prev.inOut||now.outIn||now.inOut){continue;}_777.splice(data[0],0,data[1]);}var _788=_777[0],last=_777[_777.length-1];if(_788[0]!==last[0]||_788[1]!==last[1]){_777.push(_788);}return _777;});_764.setShape(this._getPathStringFromPaths(_774));}},_getCorners:function(_78b,_78c){if(has("ie")<9){var map=this._map,_78d=_78c.getExtent(),_78e=_78d.spatialReference,_78f=map.toScreen(new _6b0(_78d.xmin,_78d.ymax,_78e)),_790=map.toScreen(new _6b0(_78d.xmax,_78d.ymin,_78e));return {tl:_78f,br:_790};}else{var _791=_78b.getTransformedBoundingBox();return {tl:_791[0],br:_791[2]};}},_createSegments:function(_792){_792.shape.path=_792.vmlPath;_792.segmented=false;_792._confirmSegmented();var _793=_792.segments;if(_793.length>1){_792.segments=_6a6.filter(_793,function(_794,idx,arr){var next=arr[idx+1];if(_794.action==="M"&&next&&next.action==="L"){_794.args=_794.args.concat(next.args);return true;}return false;});}},_getPathStringFromPaths:function(_795){if(has("ie")<9){_795=_6a6.map(_795,function(path){var _796=_6a6.map(path,function(_797,idx){return (idx===1?"l ":"")+_797.join(",");});return "m "+_796.join(" ");});_795.push("e");}else{_795=_6a6.map(_795,function(path){var _798=_6a6.map(path,function(_799){return _799.join(",");});return "M "+_798.join(" ");});}return _795.join(" ");},_isPointWithinBBox:function(_79a,bbox){var left=bbox[0],top=bbox[1];var _79b=bbox[2],_79c=bbox[3];var x=_79a[0],y=_79a[1];if(x>left&&x<_79b&&y>top&&y<_79c){return true;}else{return false;}},_isPointWithinRange:function(_79d,_79e,_79f){var x=_79d.x,y=_79d.y;if(x<_79e||y<_79e||x>_79f||y>_79f){return false;}else{return true;}},_getClipperIntersection:function(line,_7a0,_7a1){var i,_7a2=_6b3._getLineIntersection2,_7a3=Math.round,data={length:0};for(i=0;i<4;i++){var _7a4=_7a2(line,_7a0[i]);if(_7a4){_7a4[0]=_7a3(_7a4[0]);_7a4[1]=_7a3(_7a4[1]);if(!_7a1){return [i,_7a4];}else{data[i]=_7a4;data.length++;}}}return _7a1?data:null;},_getPlaneIndex:function(_7a5,_7a6){var px=_7a5[0],py=_7a5[1],xmin=_7a6[0],ymin=_7a6[1],xmax=_7a6[2],ymax=_7a6[3];if(px<=xmin){if((py>=ymin)&&(py<=ymax)){return 3;}else{return (py<ymin)?[0,3]:[2,3];}}if(py<=ymin){if((px>=xmin)&&(px<=xmax)){return 0;}else{return (px<xmin)?[3,0]:[1,0];}}if(px>=xmax){if((py>=ymin)&&(py<=ymax)){return 1;}else{return (py<ymin)?[0,1]:[2,1];}}if(py>=ymax){if((px>=xmin)&&(px<=xmax)){return 2;}else{return (px<xmin)?[3,2]:[1,2];}}return -1;},onGraphicAdd:function(){},onGraphicRemove:function(){},onGraphicsClear:function(){},onOpacityChange:function(){},setInfoTemplate:function(_7a7){this.infoTemplate=_7a7;},add:function(_7a8){var _7a9=arguments[1];if(_7a8._graphicsLayer===this){return _7a8;}if(!_7a9){this.graphics.push(_7a8);}_7a8._graphicsLayer=this;this._updateExtent(_7a8);this._draw(_7a8);if(!_7a9){this.onGraphicAdd(_7a8);}return _7a8;},remove:function(_7aa){if(!arguments[1]){var _7ab=this.graphics,i;if((i=_6a6.indexOf(_7ab,_7aa))===-1){return null;}_7aa=this.graphics.splice(i,1)[0];}if(_7aa.getDojoShape()){this._removeShape(_7aa);}_7aa._shape=_7aa._graphicsLayer=null;this.onGraphicRemove(_7aa);return _7aa;},clear:function(){var _7ac=arguments[1],g=this.graphics;while(g.length>0){this.remove(g[0]);}if(!_7ac){this.onGraphicsClear();}},setOpacity:function(op,_7ad){if(_7ad||this.opacity!=op){var div=this._div;if(div){if(has("ie")<9){_6a6.forEach(this.graphics,function(_7ae){var _7af=_7ae._shape;var node=_7af&&_7af.getNode();if(node){var _7b0=_7af.strokeStyle,_7b1=node.stroke;if(_7b0&&_7b1){_7b1.opacity=_7b0.color.a*op;}var _7b2=_7af.fillStyle,fill=node.fill;if(_7b2&&fill){if(fill.type==="tile"){_6a9.set(node,"opacity",op);}else{fill.opacity=_7b2.a*op;}}}});div._esriIeOpacity=op;}else{if(this._canvas){_6a9.set(div.getEventSource(),"opacity",op);}else{div.getEventSource().setAttribute("opacity",op);}}}this.opacity=op;if(!_7ad){this.onOpacityChange(op);}}},setRenderer:function(ren){this.renderer=ren;}});var _7b3=_6a4(_6b5,{declaredClass:"esri.layers.GraphicsLayer",constructor:function(){this.enableMouseEvents=lang.hitch(this,this.enableMouseEvents);this.disableMouseEvents=lang.hitch(this,this.disableMouseEvents);this._processEvent=lang.hitch(this,this._processEvent);this._initLayer();},_initLayer:function(){this.loaded=true;this.onLoad(this);},_setMap:function(){var d=this.inherited("_setMap",arguments);this.enableMouseEvents();return d;},_unsetMap:function(){this.disableMouseEvents();this.inherited("_unsetMap",arguments);},_processEvent:function(evt){var _7b4=this._map,g=this.graphics,gl=g.length;evt.screenPoint=new _6b1(evt.pageX-_7b4.position.x,evt.pageY-_7b4.position.y);evt.mapPoint=_7b4.toMap(evt.screenPoint);var i,es,gr,ds,_7b5=evt.target,_7b6=_7b5.parentNode;for(i=0;i<gl;i++){gr=g[i];ds=gr.getDojoShape();if(ds){es=ds.getEventSource();if(es===_7b5||es===_7b6){evt.graphic=gr;return evt;}}}},_onMouseOverHandler:function(evt){if(this._processEvent(evt)){this.onMouseOver(evt);}},_onMouseMoveHandler:function(evt){if(this._processEvent(evt)){this.onMouseMove(evt);}},_onMouseDragHandler:function(evt){if(this._processEvent(evt)){this.onMouseDrag(evt);}},_onMouseOutHandler:function(evt){if(this._processEvent(evt)){this.onMouseOut(evt);}},_onMouseDownHandler:function(evt){this._downGr=this._downPt=null;if(this._processEvent(evt)){_6a5.disconnect(this._onmousemove_connect);_6a5.disconnect(this._onmousedrag_connect);this._onmousedrag_connect=_6a5.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseDragHandler");this._downGr=evt.graphic;this._downPt=evt.screenPoint.x+","+evt.screenPoint.y;this.onMouseDown(evt);}},_onMouseUpHandler:function(evt){this._upGr=this._upPt=null;if(this._processEvent(evt)){_6a5.disconnect(this._onmousedrag_connect);_6a5.disconnect(this._onmousemove_connect);this._onmousemove_connect=_6a5.connect(this._div.getEventSource(),"onmousemove",this,"_onMouseMoveHandler");this._upGr=evt.graphic;this._upPt=evt.screenPoint.x+","+evt.screenPoint.y;this.onMouseUp(evt);}},_onClickHandler:function(evt){if(this._processEvent(evt)){var _7b7=this._downGr,upGr=this._upGr;if(_7b7&&upGr&&_7b7===upGr&&this._downPt===this._upPt){if(has("ie")<9){_6ac._ieGraphic=evt.graphic;}this.onClick(evt);}}},_onDblClickHandler:function(evt){if(this._processEvent(evt)){this.onDblClick(evt);}},onMouseOver:function(){},onMouseMove:function(){},onMouseDrag:function(){},onMouseOut:function(){},onMouseDown:function(){},onMouseUp:function(){},onClick:function(){},onDblClick:function(){},enableMouseEvents:function(){if(this._mouseEvents){return;}var dc=_6a5.connect,gc=this._div.getEventSource();if(_6aa.renderer.toLowerCase().indexOf("canvas")===-1){this._onmouseover_connect=dc(gc,"onmouseover",this,"_onMouseOverHandler");this._onmousemove_connect=dc(gc,"onmousemove",this,"_onMouseMoveHandler");this._onmouseout_connect=dc(gc,"onmouseout",this,"_onMouseOutHandler");this._onmousedown_connect=dc(gc,"onmousedown",this,"_onMouseDownHandler");this._onmouseup_connect=dc(gc,"onmouseup",this,"_onMouseUpHandler");this._onclick_connect=dc(gc,"onclick",this,"_onClickHandler");this._ondblclick_connect=dc(gc,"ondblclick",this,"_onDblClickHandler");}this._mouseEvents=true;},disableMouseEvents:function(){if(!this._mouseEvents){return;}var ddc=_6a5.disconnect;ddc(this._onmouseover_connect);ddc(this._onmousemove_connect);ddc(this._onmousedrag_connect);ddc(this._onmouseout_connect);ddc(this._onmousedown_connect);ddc(this._onmouseup_connect);ddc(this._onclick_connect);ddc(this._ondblclick_connect);this._mouseEvents=false;}});_7b3._GraphicsContainer=_6b6;_7b3._GraphicsLayer=_6b5;if(has("extend-esri")){lang.setObject("layers.GraphicsLayer",_7b3,_6ac);lang.setObject("layers._GraphicsContainer",_6b6,_6ac);lang.setObject("layers._GraphicsLayer",_6b5,_6ac);}return _7b3;});},"dojo/regexp":function(){define(["./_base/kernel","./_base/lang"],function(dojo,lang){var _7b8={};lang.setObject("dojo.regexp",_7b8);_7b8.escapeString=function(str,_7b9){return str.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,function(ch){if(_7b9&&_7b9.indexOf(ch)!=-1){return ch;}return "\\"+ch;});};_7b8.buildGroupRE=function(arr,re,_7ba){if(!(arr instanceof Array)){return re(arr);}var b=[];for(var i=0;i<arr.length;i++){b.push(re(arr[i]));}return _7b8.group(b.join("|"),_7ba);};_7b8.group=function(_7bb,_7bc){return "("+(_7bc?"?:":"")+_7bb+")";};return _7b8;});},"esri/main":function(){define(["esri/kernel","dojo/i18n!esri/nls/jsapi","esri/config","esri/sniff"],function(esri,_7bd){esri.bundle=_7bd;return esri;});},"esri/layerUtils":function(){define(["dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","esri/kernel"],function(lang,_7be,_7bf,has,_7c0){var _7c1={_serializeLayerDefinitions:function(_7c2){var defs=[],_7c3=false,re=/[:;]/;if(_7c2){_7be.forEach(_7c2,function(defn,i){if(defn){defs.push([i,defn]);if(!_7c3&&re.test(defn)){_7c3=true;}}});if(defs.length>0){var _7c4;if(_7c3){_7c4={};_7be.forEach(defs,function(defn){_7c4[defn[0]]=defn[1];});_7c4=_7bf.toJson(_7c4);}else{_7c4=[];_7be.forEach(defs,function(defn){_7c4.push(defn[0]+":"+defn[1]);});_7c4=_7c4.join(";");}return _7c4;}}return null;},_serializeTimeOptions:function(_7c5,ids){if(!_7c5){return;}var _7c6=[];_7be.forEach(_7c5,function(_7c7,i){if(_7c7){var json=_7c7.toJson();if(ids&&_7be.indexOf(ids,i)!==-1){json.useTime=false;}_7c6.push("\""+i+"\":"+_7bf.toJson(json));}});if(_7c6.length){return "{"+_7c6.join(",")+"}";}},_getDefaultVisibleLayers:function(_7c8){var _7c9=[],i;if(!_7c8){return _7c9;}for(i=0;i<_7c8.length;i++){if(_7c8[i].parentLayerId>=0&&_7be.indexOf(_7c9,_7c8[i].parentLayerId)===-1&&_7be.some(_7c8,function(item){return item.id===_7c8[i].parentLayerId;})){continue;}if(_7c8[i].defaultVisibility){_7c9.push(_7c8[i].id);}}return _7c9;},_getLayersForScale:function(_7ca,_7cb){var _7cc=[];if(_7ca>0&&_7cb){var i;for(i=0;i<_7cb.length;i++){if(_7cb[i].parentLayerId>=0&&_7be.indexOf(_7cc,_7cb[i].parentLayerId)===-1&&_7be.some(_7cb,function(item){return item.id===_7cb[i].parentLayerId;})){continue;}if(_7cb[i].id>=0){var _7cd=true,_7ce=_7cb[i].maxScale,_7cf=_7cb[i].minScale;if(_7ce>0||_7cf>0){if(_7ce>0&&_7cf>0){_7cd=_7ce<=_7ca&&_7ca<=_7cf;}else{if(_7ce>0){_7cd=_7ce<=_7ca;}else{if(_7cf>0){_7cd=_7ca<=_7cf;}}}}if(_7cd){_7cc.push(_7cb[i].id);}}}}return _7cc;}};if(has("extend-esri")){lang.mixin(_7c0,_7c1);}return _7c1;});},"dojo/date":function(){define(["./has","./_base/lang"],function(has,lang){var date={};date.getDaysInMonth=function(_7d0){var _7d1=_7d0.getMonth();var days=[31,28,31,30,31,30,31,31,30,31,30,31];if(_7d1==1&&date.isLeapYear(_7d0)){return 29;}return days[_7d1];};date.isLeapYear=function(_7d2){var year=_7d2.getFullYear();return !(year%400)||(!(year%4)&&!!(year%100));};date.getTimezoneName=function(_7d3){var str=_7d3.toString();var tz="";var _7d4;var pos=str.indexOf("(");if(pos>-1){tz=str.substring(++pos,str.indexOf(")"));}else{var pat=/([A-Z\/]+) \d{4}$/;if((_7d4=str.match(pat))){tz=_7d4[1];}else{str=_7d3.toLocaleString();pat=/ ([A-Z\/]+)$/;if((_7d4=str.match(pat))){tz=_7d4[1];}}}return (tz=="AM"||tz=="PM")?"":tz;};date.compare=function(_7d5,_7d6,_7d7){_7d5=new Date(+_7d5);_7d6=new Date(+(_7d6||new Date()));if(_7d7=="date"){_7d5.setHours(0,0,0,0);_7d6.setHours(0,0,0,0);}else{if(_7d7=="time"){_7d5.setFullYear(0,0,0);_7d6.setFullYear(0,0,0);}}if(_7d5>_7d6){return 1;}if(_7d5<_7d6){return -1;}return 0;};date.add=function(date,_7d8,_7d9){var sum=new Date(+date);var _7da=false;var _7db="Date";switch(_7d8){case "day":break;case "weekday":var days,_7dc;var mod=_7d9%5;if(!mod){days=(_7d9>0)?5:-5;_7dc=(_7d9>0)?((_7d9-5)/5):((_7d9+5)/5);}else{days=mod;_7dc=parseInt(_7d9/5);}var strt=date.getDay();var adj=0;if(strt==6&&_7d9>0){adj=1;}else{if(strt==0&&_7d9<0){adj=-1;}}var trgt=strt+days;if(trgt==0||trgt==6){adj=(_7d9>0)?2:-2;}_7d9=(7*_7dc)+days+adj;break;case "year":_7db="FullYear";_7da=true;break;case "week":_7d9*=7;break;case "quarter":_7d9*=3;case "month":_7da=true;_7db="Month";break;default:_7db="UTC"+_7d8.charAt(0).toUpperCase()+_7d8.substring(1)+"s";}if(_7db){sum["set"+_7db](sum["get"+_7db]()+_7d9);}if(_7da&&(sum.getDate()<date.getDate())){sum.setDate(0);}return sum;};date.difference=function(_7dd,_7de,_7df){_7de=_7de||new Date();_7df=_7df||"day";var _7e0=_7de.getFullYear()-_7dd.getFullYear();var _7e1=1;switch(_7df){case "quarter":var m1=_7dd.getMonth();var m2=_7de.getMonth();var q1=Math.floor(m1/3)+1;var q2=Math.floor(m2/3)+1;q2+=(_7e0*4);_7e1=q2-q1;break;case "weekday":var days=Math.round(date.difference(_7dd,_7de,"day"));var _7e2=parseInt(date.difference(_7dd,_7de,"week"));var mod=days%7;if(mod==0){days=_7e2*5;}else{var adj=0;var aDay=_7dd.getDay();var bDay=_7de.getDay();_7e2=parseInt(days/7);mod=days%7;var _7e3=new Date(_7dd);_7e3.setDate(_7e3.getDate()+(_7e2*7));var _7e4=_7e3.getDay();if(days>0){switch(true){case aDay==6:adj=-1;break;case aDay==0:adj=0;break;case bDay==6:adj=-1;break;case bDay==0:adj=-2;break;case (_7e4+mod)>5:adj=-2;}}else{if(days<0){switch(true){case aDay==6:adj=0;break;case aDay==0:adj=1;break;case bDay==6:adj=2;break;case bDay==0:adj=1;break;case (_7e4+mod)<0:adj=2;}}}days+=adj;days-=(_7e2*2);}_7e1=days;break;case "year":_7e1=_7e0;break;case "month":_7e1=(_7de.getMonth()-_7dd.getMonth())+(_7e0*12);break;case "week":_7e1=parseInt(date.difference(_7dd,_7de,"day")/7);break;case "day":_7e1/=24;case "hour":_7e1/=60;case "minute":_7e1/=60;case "second":_7e1/=1000;case "millisecond":_7e1*=_7de.getTime()-_7dd.getTime();}return Math.round(_7e1);};1&&lang.mixin(lang.getObject("dojo.date",true),date);return date;});},"esri/renderer":function(){define(["esri/renderers/Renderer","esri/renderers/SimpleRenderer","esri/renderers/UniqueValueRenderer","esri/renderers/ClassBreaksRenderer","esri/renderers/TemporalRenderer","esri/renderers/SymbolAger","esri/renderers/TimeClassBreaksAger","esri/renderers/TimeRampAger","esri/renderers/jsonUtils"],function(_7e5,_7e6,_7e7,_7e8,_7e9,_7ea,_7eb,_7ec,_7ed){return {Renderer:_7e5,SimpleRenderer:_7e6,UniqueValueRenderer:_7e7,ClassBreaksRenderer:_7e8,TemporalRenderer:_7e9,SymbolAger:_7ea,TimeClassBreaksAger:_7eb,TimeRampAger:_7ec,jsonUtils:_7ed};});},"esri/layers/ArcGISMapServiceLayer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","esri/kernel","esri/lang","esri/request","esri/SpatialReference","esri/geometry/Extent","esri/layers/LayerInfo"],function(_7ee,lang,_7ef,has,_7f0,_7f1,_7f2,_7f3,_7f4,_7f5){var _7f6=_7ee(null,{declaredClass:"esri.layers.ArcGISMapServiceLayer",constructor:function(url,_7f7){this.layerInfos=[];var _7f8=(this._params={}),_7f9=this._url.query?this._url.query.token:null;if(_7f9){_7f8.token=_7f9;}},_load:function(){_7f2({url:this._url.path,content:lang.mixin({f:"json"},this._params),callbackParamName:"callback",load:this._initLayer,error:this._errorHandler});},spatialReference:null,initialExtent:null,fullExtent:null,description:null,units:null,_initLayer:function(_7fa,io){try{this._findCredential();var ssl=(this.credential&&this.credential.ssl)||(_7fa&&_7fa._ssl);if(ssl){this._useSSL();}this.description=_7fa.description;this.copyright=_7fa.copyrightText;this.spatialReference=_7fa.spatialReference&&new _7f3(_7fa.spatialReference);this.initialExtent=_7fa.initialExtent&&new _7f4(_7fa.initialExtent);this.fullExtent=_7fa.fullExtent&&new _7f4(_7fa.fullExtent);this.units=_7fa.units;this.maxRecordCount=_7fa.maxRecordCount;this.maxImageHeight=_7fa.maxImageHeight;this.maxImageWidth=_7fa.maxImageWidth;this.supportsDynamicLayers=_7fa.supportsDynamicLayers;var _7fb=(this.layerInfos=[]),lyrs=_7fa.layers,dvl=(this._defaultVisibleLayers=[]);_7ef.forEach(lyrs,function(lyr,i){_7fb[i]=new _7f5(lyr);if(lyr.defaultVisibility){dvl.push(lyr.id);}});if(!this.visibleLayers){this.visibleLayers=dvl;}this.version=_7fa.currentVersion;if(!this.version){var ver;if("capabilities" in _7fa||"tables" in _7fa){ver=10;}else{if("supportedImageFormatTypes" in _7fa){ver=9.31;}else{ver=9.3;}}this.version=ver;}this.capabilities=_7fa.capabilities;if(_7f1.isDefined(_7fa.minScale)&&!this._hasMin){this.setMinScale(_7fa.minScale);}if(_7f1.isDefined(_7fa.maxScale)&&!this._hasMax){this.setMaxScale(_7fa.maxScale);}}catch(e){this._errorHandler(e);}}});if(has("extend-esri")){lang.setObject("layers.ArcGISMapServiceLayer",_7f6,_7f0);}return _7f6;});},"esri/layers/ArcGISDynamicMapServiceLayer":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/sniff","dojo/io-query","esri/kernel","esri/config","esri/request","esri/urlUtils","esri/layerUtils","esri/geometry/scaleUtils","esri/layers/DynamicMapServiceLayer","esri/layers/ArcGISMapServiceLayer","esri/layers/TimeInfo","esri/layers/LayerTimeOptions","esri/layers/ImageParameters","esri/layers/DynamicLayerInfo","esri/layers/LayerMapSource"],function(_7fc,lang,_7fd,_7fe,has,ioq,_7ff,_800,_801,_802,_803,_804,_805,_806,_807,_808,_809,_80a,_80b){var _80c=_7fc([_805,_806],{declaredClass:"esri.layers.ArcGISDynamicMapServiceLayer",_eventMap:{"gdb-version-change":true},constructor:function(url,_80d){var _80e=_80d&&_80d.imageParameters,dh=lang.hitch;if(_80e){var ldef=_80e.layerDefinitions;if(ldef){this.setLayerDefinitions(ldef);}if(_80e.layerOption===_809.LAYER_OPTION_SHOW){this.visibleLayers=[].concat(_80e.layerIds);}}this._setIsPNG32=dh(this,this._setIsPNG32);this.dpi=(_80e&&_80e.dpi)||96;this.imageFormat=(_80e&&_80e.format)||"png8";this.imageTransparency=(_80e&&_80e.transparent===false)?false:true;this._setIsPNG32();this.gdbVersion=_80d&&_80d.gdbVersion;this._params.gdbVersion=this.gdbVersion;lang.mixin(this._params,this._url.query,{dpi:this.dpi,transparent:this.imageTransparency,format:this.imageFormat},_80e?_80e.toJson():{});this.getImageUrl=dh(this,this.getImageUrl);this._initLayer=dh(this,this._initLayer);this._load=dh(this,this._load);this.useMapImage=_80d?_80d.useMapImage:false;if(this.useMapImage){this._imageExportHandler=dh(this,this._imageExportHandler);}this._loadCallback=_80d&&_80d.loadCallback;var _80f=_80d&&_80d.resourceInfo;if(_80f){this._initLayer(_80f);}else{if(arguments[2]===undefined||arguments[2]===false){this._load();}}this.registerConnectEvents();},disableClientCaching:false,layerDefinitions:null,_initLayer:function(_810,io){this.inherited(arguments);if(_810.timeInfo){this.timeInfo=new _807(_810.timeInfo);}this.loaded=true;this.onLoad(this);var _811=this._loadCallback;if(_811){delete this._loadCallback;_811(this);}},getImageUrl:function(_812,_813,_814,_815){var path=this._url.path+"/export?",_816=this._params,sr=_812.spatialReference.wkid||_7fe.toJson(_812.spatialReference.toJson()),_817=this._errorHandler;delete _816._ts;lang.mixin(_816,{bbox:_812.xmin+","+_812.ymin+","+_812.xmax+","+_812.ymax,bboxSR:sr,imageSR:sr,size:_813+","+_814},this.disableClientCaching?{_ts:new Date().getTime()}:{});if(_816.layerDefs){var defs=_816.layerDefs;delete _816.layerDefs;lang.mixin(_816,{layerDefs:defs});}var _818=(_816.token=this._getToken()),_819=_802.addProxy(path+ioq.objectToQuery(lang.mixin({},_816,{f:"image"})));if((_819.length>_800.defaults.io.postLength)||this.useMapImage){this._jsonRequest=_801({url:path,content:lang.mixin(_816,{f:"json"}),callbackParamName:"callback",load:function(_81a,io){var href=_81a.href;if(_818){href+=(href.indexOf("?")===-1?("?token="+_818):("&token="+_818));}_815(_802.addProxy(href));},error:_817});}else{_815(_819);}},_setIsPNG32:function(){var _81b=this.imageFormat.toLowerCase(),isIE=has("ie");this.isPNG32=isIE&&isIE===6&&(_81b==="png32"||_81b==="png24")&&this.imageTransparency;},_setTime:function(_81c){var _81d=this.timeInfo,time=(this._params.time=_81c?_81c.toJson().join(","):null);if(this.version<10.02&&_81d){if(!time){var _81e=this.layerInfos;if(_81e){var _81f=this.layerTimeOptions,_820=_81f?_81f.slice(0):[],ids=[];_7fd.forEach(_81e,function(info){if(!info.subLayerIds){ids.push(info.id);}});if(ids.length){_7fd.forEach(ids,function(id){if(!_820[id]){var opt=new _808();opt.useTime=false;_820[id]=opt;}});this._params.layerTimeOptions=_803._serializeTimeOptions(_820,ids);}}}else{this._params.layerTimeOptions=_803._serializeTimeOptions(this.layerTimeOptions);}}if(this.version>=10.02&&_81d){if(!time&&!_81d.hasLiveData){this._params.time="null,null";}}},setDPI:function(dpi,_821){this.dpi=(this._params.dpi=dpi);if(!_821){this.refresh(true);}},setImageFormat:function(_822,_823){this.imageFormat=(this._params.format=_822);this._setIsPNG32();if(!_823){this.refresh(true);}},setImageTransparency:function(_824,_825){this.imageTransparency=(this._params.transparent=_824);this._setIsPNG32();if(!_825){this.refresh(true);}},setVisibleLayers:function(_826,_827){this.visibleLayers=_826;this._params.layers=_809.LAYER_OPTION_SHOW+":"+_826.join(",");this._updateDynamicLayers();if(!_827){this.refresh(true);}},setDefaultVisibleLayers:function(_828){this.visibleLayers=this._defaultVisibleLayers;this._params.layers=null;this._updateDynamicLayers();if(!_828){this.refresh(true);}},setLayerDefinitions:function(_829,_82a){this.layerDefinitions=_829;this._params.layerDefs=_803._serializeLayerDefinitions(_829);this._updateDynamicLayers();if(!_82a){this.refresh(true);}},setDefaultLayerDefinitions:function(_82b){this.layerDefinitions=this._params.layerDefs=null;this._updateDynamicLayers();if(!_82b){this.refresh(true);}},setDisableClientCaching:function(_82c){this.disableClientCaching=_82c;},setLayerTimeOptions:function(_82d,_82e){this.layerTimeOptions=_82d;this._params.layerTimeOptions=_803._serializeTimeOptions(_82d);this._updateDynamicLayers();if(!_82e){this.refresh(true);}},refresh:function(_82f){if(_82f){this.inherited(arguments);}else{var dc=this.disableClientCaching;this.disableClientCaching=true;this.inherited(arguments);this.disableClientCaching=dc;}},setLayerDrawingOptions:function(_830,_831){this.layerDrawingOptions=_830;this._updateDynamicLayers();if(!_831){this.refresh(true);}},setDynamicLayerInfos:function(_832,_833){if(_832&&_832.length>0){this.dynamicLayerInfos=_832;this.visibleLayers=_803._getDefaultVisibleLayers(_832);}else{this.dynamicLayerInfos=this.layerDrawingOptions=null;}this._updateDynamicLayers();if(!_833){this.refresh(true);}},createDynamicLayerInfosFromLayerInfos:function(){var _834=[],_835;_7fd.forEach(this.layerInfos,function(_836,idx){_835=new _80a(_836.toJson());_835.source=new _80b({mapLayerId:_836.id});_834.push(_835);});return _834;},_onDynamicLayersChange:function(){},_updateDynamicLayers:function(){if((this.dynamicLayerInfos&&this.dynamicLayerInfos.length>0)||(this.layerDrawingOptions&&this.layerDrawingOptions.length>0)){if(!this.dynamicLayerInfos||this.dynamicLayerInfos.length===0){this.dynamicLayerInfos=this.createDynamicLayerInfosFromLayerInfos();}var _837,_838=this.dynamicLayerInfos,_839=[],_83a=this._map&&_804.getScale(this._map),_83b=this.visibleLayers,_83c=_83a?_803._getLayersForScale(_83a,_838):_83b;_7fd.forEach(_838,function(info){if(!info.subLayerIds){var _83d,_83e=info.id;if(_7fd.indexOf(_83b,_83e)!==-1&&_7fd.indexOf(_83c,_83e)!==-1){_83d={id:_83e};_83d.source=info.source&&info.source.toJson();var _83f;if(this.layerDefinitions&&this.layerDefinitions[_83e]){_83f=this.layerDefinitions[_83e];}if(_83f){_83d.definitionExpression=_83f;}var _840;if(this.layerDrawingOptions&&this.layerDrawingOptions[_83e]){_840=this.layerDrawingOptions[_83e];}if(_840){_83d.drawingInfo=_840.toJson();}var _841;if(this.layerTimeOptions&&this.layerTimeOptions[_83e]){_841=this.layerTimeOptions[_83e];}if(_841){_83d.layerTimeOptions=_841.toJson();}_83d.minScale=info.minScale||0;_83d.maxScale=info.maxScale||0;_839.push(_83d);}}},this);_837=_7fe.toJson(_839);if(!this._params.dynamicLayers||(this._params.dynamicLayers.length!==_837.length||this._params.dynamicLayers!==_837)){this._params.dynamicLayers=_837;this._onDynamicLayersChange(this._params.dynamicLayers);}}else{if(this._params.dynamicLayers){this._params.dynamicLayers=null;this._onDynamicLayersChange(null);}else{this._params.dynamicLayers=null;}}},_onExtentChangeHandler:function(_842,_843,_844){if(_844){this._updateDynamicLayers();}this.inherited(arguments);},_setMap:function(map,_845,_846){this._map=map;this._updateDynamicLayers();return this.inherited(arguments);},onGDBVersionChange:function(){},setGDBVersion:function(_847,_848){this.gdbVersion=_847;this._params.gdbVersion=_847;this.onGDBVersionChange();if(!_848){this.refresh(true);}},exportMapImage:function(_849,_84a){var m=_800.defaults.map,p=lang.mixin({size:m.width+","+m.height},this._params,_849?_849.toJson(this.normalization):{},{f:"json"});delete p._ts;if(p.layerDefs){var defs=p.layerDefs;delete p.layerDefs;lang.mixin(p,{layerDefs:defs});}this._exportMapImage(this._url.path+"/export",p,_84a);}});if(has("extend-esri")){lang.setObject("layers.ArcGISDynamicMapServiceLayer",_80c,_7ff);}return _80c;});},"esri/SpatialReference":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(_84b,_84c,lang,has,_84d,_84e){var _84f="PROJCS[\"WGS_1984_Web_Mercator_Auxiliary_Sphere\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Mercator_Auxiliary_Sphere\"],PARAMETER[\"False_Easting\",0.0],PARAMETER[\"False_Northing\",0.0],PARAMETER[\"Central_Meridian\",${Central_Meridian}],PARAMETER[\"Standard_Parallel_1\",0.0],PARAMETER[\"Auxiliary_Sphere_Type\",0.0],UNIT[\"Meter\",1.0]]",_850=[-20037508.342788905,20037508.342788905],_851=[-20037508.342787,20037508.342787];var _852=_84b(null,{declaredClass:"esri.SpatialReference",constructor:function(json){if(json){if(lang.isObject(json)){lang.mixin(this,json);}else{if(lang.isString(json)){this.wkt=json;}else{this.wkid=json;}}}},wkid:null,wkt:null,_info:{"102113":{wkTemplate:"PROJCS[\"WGS_1984_Web_Mercator\",GEOGCS[\"GCS_WGS_1984_Major_Auxiliary_Sphere\",DATUM[\"D_WGS_1984_Major_Auxiliary_Sphere\",SPHEROID[\"WGS_1984_Major_Auxiliary_Sphere\",6378137.0,0.0]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Mercator\"],PARAMETER[\"False_Easting\",0.0],PARAMETER[\"False_Northing\",0.0],PARAMETER[\"Central_Meridian\",${Central_Meridian}],PARAMETER[\"Standard_Parallel_1\",0.0],UNIT[\"Meter\",1.0]]",valid:_850,origin:_851,dx:0.00001},"102100":{wkTemplate:_84f,valid:_850,origin:_851,dx:0.00001},"3785":{wkTemplate:"PROJCS[\"WGS_1984_Web_Mercator\",GEOGCS[\"GCS_WGS_1984_Major_Auxiliary_Sphere\",DATUM[\"D_WGS_1984_Major_Auxiliary_Sphere\",SPHEROID[\"WGS_1984_Major_Auxiliary_Sphere\",6378137.0,0.0]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Mercator\"],PARAMETER[\"False_Easting\",0.0],PARAMETER[\"False_Northing\",0.0],PARAMETER[\"Central_Meridian\",${Central_Meridian}],PARAMETER[\"Standard_Parallel_1\",0.0],UNIT[\"Meter\",1.0]]",valid:_850,origin:_851,dx:0.00001},"3857":{wkTemplate:_84f,valid:_850,origin:_851,dx:0.00001},"4326":{wkTemplate:"GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",${Central_Meridian}],UNIT[\"Degree\",0.0174532925199433]]",altTemplate:"PROJCS[\"WGS_1984_Plate_Carree\",GEOGCS[\"GCS_WGS_1984\",DATUM[\"D_WGS_1984\",SPHEROID[\"WGS_1984\",6378137.0,298.257223563]],PRIMEM[\"Greenwich\",0.0],UNIT[\"Degree\",0.0174532925199433]],PROJECTION[\"Plate_Carree\"],PARAMETER[\"False_Easting\",0.0],PARAMETER[\"False_Northing\",0.0],PARAMETER[\"Central_Meridian\",${Central_Meridian}],UNIT[\"Degrees\",111319.491]]",valid:[-180,180],origin:[-180,180],dx:0.00001}},_isWebMercator:function(){return _84c.indexOf([102113,102100,3857,3785],this.wkid)!==-1;},_isWrappable:function(){return _84c.indexOf([102113,102100,3857,3785,4326],this.wkid)!==-1;},_getInfo:function(){return this.wkid?this._info[this.wkid]:null;},_canProject:function(inSR){var _853=false;if(inSR){_853=((this.isWebMercator()&&inSR.wkid===4326)||(inSR.isWebMercator()&&this.wkid===4326));}return _853;},isWebMercator:function(){return this._isWebMercator();},equals:function(inSR){var _854=false;if(inSR){if(this===inSR){_854=true;}if(this.wkid||inSR.wkid){_854=(this.wkid===inSR.wkid)||(this.isWebMercator()&&inSR.isWebMercator())||(this.wkid===inSR.latestWkid)||(inSR.wkid===this.latestWkid);}else{if(this.wkt&&inSR.wkt){_854=(this.wkt.toUpperCase()===inSR.wkt.toUpperCase());}}}return _854;},toJson:function(){var _855=null,_856=_84e.isDefined;if(_856(this.wkid)){_855={wkid:this.wkid};}else{if(_856(this.wkt)){_855={wkt:this.wkt};}}if(_855&&_856(this.latestWkid)){_855.latestWkid=this.latestWkid;}return _855;}});if(has("extend-esri")){_84d.SpatialReference=_852;}return _852;});},"esri/layers/TimeReference":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(_857,lang,has,_858){var _859=_857(null,{declaredClass:"esri.layers.TimeReference",constructor:function(json){if(json){lang.mixin(this,json);}}});if(has("extend-esri")){lang.setObject("layers.TimeReference",_859,_858);}return _859;});},"esri/symbols/SimpleFillSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/Color","dojo/has","dojox/gfx/_base","esri/kernel","esri/lang","esri/symbols/FillSymbol","esri/symbols/SimpleLineSymbol","require"],function(_85a,lang,_85b,has,_85c,_85d,_85e,_85f,_860,_861){var _862={STYLE_SOLID:"solid",STYLE_NULL:"none",STYLE_HORIZONTAL:"horizontal",STYLE_VERTICAL:"vertical",STYLE_FORWARD_DIAGONAL:"forwarddiagonal",STYLE_BACKWARD_DIAGONAL:"backwarddiagonal",STYLE_CROSS:"cross",STYLE_DIAGONAL_CROSS:"diagonalcross",STYLE_FORWARDDIAGONAL:"forwarddiagonal",STYLE_BACKWARDDIAGONAL:"backwarddiagonal",STYLE_DIAGONALCROSS:"diagonalcross"};var _863={style:_862.STYLE_SOLID,color:[0,0,0,0.25]};var SFS=_85a(_85f,{declaredClass:"esri.symbol.SimpleFillSymbol",type:"simplefillsymbol",_styles:{solid:"esriSFSSolid",none:"esriSFSNull",horizontal:"esriSFSHorizontal",vertical:"esriSFSVertical",forwarddiagonal:"esriSFSForwardDiagonal",backwarddiagonal:"esriSFSBackwardDiagonal",cross:"esriSFSCross",diagonalcross:"esriSFSDiagonalCross"},constructor:function(json,_864,_865){if(json){if(lang.isString(json)){this.style=json;if(_864!==undefined){this.outline=_864;}if(_865!==undefined){this.color=_865;}}else{this.style=_85e.valueOf(this._styles,json.style);}}else{lang.mixin(this,_863);this.outline=new _860(this.outline);this.color=new _85b(this.color);}var _866=this.style;if(_866!=="solid"&&_866!=="none"){this._src=_861.toUrl("esri")+"/images/symbol/sfs/"+_866+".png";}},setStyle:function(_867){this.style=_867;return this;},getStroke:function(){return this.outline&&this.outline.getStroke();},getFill:function(){var _868=this.style;if(_868===_862.STYLE_NULL){return null;}else{if(_868===_862.STYLE_SOLID){return this.color;}else{return lang.mixin(lang.mixin({},_85c.defaultPattern),{src:this._src,width:10,height:10});}}},getShapeDescriptors:function(){return {defaultShape:{type:"path",path:"M -10,-10 L 10,0 L 10,10 L -10,10 L -10,-10 E"},fill:this.getFill(),stroke:this.getStroke()};},toJson:function(){return _85e.fixJson(lang.mixin(this.inherited("toJson",arguments),{type:"esriSFS",style:this._styles[this.style]}));}});lang.mixin(SFS,_862);SFS.defaultProps=_863;if(has("extend-esri")){lang.setObject("symbol.SimpleFillSymbol",SFS,_85d);_85d.symbol.defaultSimpleFillSymbol=_863;}return SFS;});},"esri/layers/ArcGISTiledMapServiceLayer":function(){define(["dojo/_base/kernel","dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/json","dojo/has","dojo/io-query","esri/kernel","esri/urlUtils","esri/SpatialReference","esri/layers/TiledMapServiceLayer","esri/layers/ArcGISMapServiceLayer","esri/layers/TileInfo","esri/layers/TimeInfo"],function(_869,_86a,lang,_86b,_86c,has,ioq,_86d,_86e,_86f,_870,_871,_872,_873){var _874=_86a([_870,_871],{declaredClass:"esri.layers.ArcGISTiledMapServiceLayer",_agolAttrs:["World_Topo_Map","World_Street_Map","Ocean_Basemap"],constructor:function(url,_875){if(_875){if(_875.roundrobin){_869.deprecated(this.declaredClass+" : Constructor option 'roundrobin' deprecated. Use option 'tileServers'.");_875.tileServers=_875.roundrobin;}this._setTileServers(_875.tileServers);this._loadCallback=_875.loadCallback;}this._params=lang.mixin({},this._url.query);this._initLayer=lang.hitch(this,this._initLayer);var _876=_875&&_875.resourceInfo;if(_876){this._initLayer(_876);}else{this._load=lang.hitch(this,this._load);this._load();}},_TILE_FORMATS:{PNG:"png",PNG8:"png",PNG24:"png",PNG32:"png",JPG:"jpg",JPEG:"jpg",GIF:"gif"},_setTileServers:function(list){if(list&&list.length>0){this.tileServers=list;var i,il=list.length;for(i=0;i<il;i++){list[i]=_86e.urlToObject(list[i]).path;}}},_initLayer:function(_877,io){this.inherited(arguments);this.resourceInfo=_86c.toJson(_877);this.tileInfo=new _872(_877.tileInfo);if(!this.spatialReference&&this.tileInfo.spatialReference){this.spatialReference=new _86f(this.tileInfo.spatialReference.toJson());}this.isPNG32=this.tileInfo.format==="PNG24"||this.tileInfo.format==="PNG32";if(_877.timeInfo){this.timeInfo=new _873(_877.timeInfo);}var path=this._url.path,_878=this._loadCallback,_879=(window.location.protocol==="file:")?"http:":window.location.protocol,_87a=path.match(/^https?\:\/\/(server|services)\.arcgisonline\.com\/arcgis\/rest\/services\/([^\/]+)\/mapserver/i),_87b=_87a&&_87a[2];if(!this.tileServers){if(_877.tileServers){this._setTileServers(_877.tileServers);}else{var _87c=(path.search(/^https?\:\/\/server\.arcgisonline\.com/i)!==-1),_87d=(path.search(/^https?\:\/\/services\.arcgisonline\.com/i)!==-1);if(_87c||_87d){this._setTileServers([path,path.replace((_87c?/server\.arcgisonline/i:/services\.arcgisonline/i),(_87c?"services.arcgisonline":"server.arcgisonline"))]);}}}if(_87b&&_86b.indexOf(this._agolAttrs,_87b)!==-1){this.hasAttributionData=true;this.attributionDataUrl=this.attributionDataUrl||(_879+"//static.arcgis.com/attribution/"+_87b);}this.loaded=true;this.onLoad(this);if(_878){delete this._loadCallback;_878(this);}},getTileUrl:function(_87e,row,col){var ts=this.tileServers,_87f=this._url.query,iurl=(ts?ts[row%ts.length]:this._url.path)+"/tile/"+_87e+"/"+row+"/"+col;if(this._resampling){iurl+="?blankTile=false";}if(_87f){if(this._resampling){iurl+=("&"+ioq.objectToQuery(_87f));}else{iurl+=("?"+ioq.objectToQuery(_87f));}}var _880=this._getToken();if(_880&&(!_87f||!_87f.token)){iurl+=(iurl.indexOf("?")===-1?"?":"&")+"token="+_880;}return _86e.addProxy(iurl);}});if(has("extend-esri")){lang.setObject("layers.ArcGISTiledMapServiceLayer",_874,_86d);}return _874;});},"esri/layers/TimeInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/TimeExtent","esri/layers/TimeReference","esri/layers/LayerTimeOptions"],function(_881,lang,has,_882,_883,_884,_885){var _886=_881(null,{declaredClass:"esri.layers.TimeInfo",constructor:function(json){if(json!==null){lang.mixin(this,json);if(json.exportOptions){this.exportOptions=new _885(json.exportOptions);}this.timeExtent=new _883(json.timeExtent);this.timeReference=new _884(json.timeReference);}}});lang.mixin(_886,{UNIT_CENTURIES:"esriTimeUnitsCenturies",UNIT_DAYS:"esriTimeUnitsDays",UNIT_DECADES:"esriTimeUnitsDecades",UNIT_HOURS:"esriTimeUnitsHours",UNIT_MILLISECONDS:"esriTimeUnitsMilliseconds",UNIT_MINUTES:"esriTimeUnitsMinutes",UNIT_MONTHS:"esriTimeUnitsMonths",UNIT_SECONDS:"esriTimeUnitsSeconds",UNIT_UNKNOWN:"esriTimeUnitsUnknown",UNIT_WEEKS:"esriTimeUnitsWeeks",UNIT_YEARS:"esriTimeUnitsYears"});if(has("extend-esri")){lang.setObject("layers.TimeInfo",_886,_882);}return _886;});},"esri/Evented":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/aspect","dojo/Evented","dojo/on","dojo/has","esri/kernel"],function(_887,lang,_888,_889,on,has,_88a){var _88b=_887([_889],{declaredClass:"esri.Evented",registerConnectEvents:function(){var ctor=this.constructor,_88c=this.constructor._meta.parents,_88d=[{}],_88e={},_88f,attr,_890,_891,k,_892=function(_893,maps){if(!lang.isArray(_893)){_893=[_893];}for(var i=0;i<_893.length;i++){var p=_893[i],pmap;if(p._meta&&p._meta.parents){_892(p._meta.parents,maps);}if(p.prototype._eventMap){maps.push(lang.mixin({},p.prototype._eventMap));}}return maps;};if(!ctor._onMap){_892(_88c,_88d);_88d.push(this._eventMap);_88f=lang.mixin.apply(this,_88d);for(attr in this){if(/^on\w/.test(attr)&&lang.isFunction(this[attr])){_890=this._hyphenLower(attr).toLowerCase();if(!_88f[_890]){_88e[_890]={"method":attr};}}}for(k in _88f){_891=this._onCamelCase(k);_88e[k]={"method":_891,"argKeys":_88f[k]};}ctor._onMap=_88e;return ctor._onMap;}},on:function(type,_894){var _895=this.constructor._onMap||this.registerConnectEvents(),_896=(typeof type=="string")&&type.toLowerCase(),_897=this._onCamelCase(_896),_898=_895&&_895[_896],_899=(_898&&_898.method)||(this[_897]&&lang.isFunction(this[_897])&&_897),_89a;if(_899){if(_898&&lang.isArray(_898.argKeys)){_89a=this._onArr2Obj(_894,_895[_896].argKeys);return _888.after(this,_899,_89a,true);}else{return _888.after(this,_899,_894,true);}}return this.inherited(arguments);},emit:function(type,_89b){var ret,_89c,_89d,_89e,_89f=type.toLowerCase(),_8a0=this._onCamelCase(type),_8a1=this.constructor._onMap||this.registerConnectEvents();_89d=(_8a1&&_8a1[_89f]&&_8a1[_89f].method)||(lang.isFunction(this[_8a0])&&_8a0);_89e=_89d&&this[_89d];if(_89d&&_8a1&&_8a1[_89f]){this._onObj2Arr(function(){_89c=Array.prototype.slice.call(arguments);},_8a1[_89f].argKeys)(_89b);}_89b=_89b||{};if(!_89b.target){_89b.target=this;}if(_89e){ret=_89e.apply(this,_89c||[_89b]);}this.inherited(arguments);return ret;},_onObj2Arr:function(_8a2,_8a3){if(!_8a3){return _8a2;}else{var self=this;return function(evt){var i,args=[],_8a4=_8a3.length;for(i=0;i<_8a4;i++){args[i]=evt[_8a3[i]];}_8a2.apply(self,args);};}},_onArr2Obj:function(_8a5,_8a6){if(!_8a6){return _8a5;}else{var self=this;return function(){var i,evt={},_8a7=arguments.length;for(i=0;i<_8a7;i++){evt[_8a6[i]]=arguments[i];}if(!evt.target){evt.target=self;}_8a5(evt);};}},_hyphenLower:function(type){return type.replace(/^on/,"").replace(/[A-Z](?=[a-z])/g,function(m,off){return (off?"-":"")+m.toLowerCase();});},_onCamelCase:function(type){return "on"+type.substr(0,1).toUpperCase()+type.substr(1).replace(/\-([a-z])/g,function(m,s){return s.toUpperCase();});}});if(has("extend-esri")){_88a.Evented=_88b;}return _88b;});},"dojox/gfx/_base":function(){define("dojox/gfx/_base",["dojo/_base/kernel","dojo/_base/lang","dojo/_base/Color","dojo/_base/sniff","dojo/_base/window","dojo/_base/array","dojo/dom","dojo/dom-construct","dojo/dom-geometry"],function(_8a8,lang,_8a9,has,win,arr,dom,_8aa,_8ab){var g=lang.getObject("dojox.gfx",true),b=g._base={};g._hasClass=function(node,_8ac){var cls=node.getAttribute("className");return cls&&(" "+cls+" ").indexOf(" "+_8ac+" ")>=0;};g._addClass=function(node,_8ad){var cls=node.getAttribute("className")||"";if(!cls||(" "+cls+" ").indexOf(" "+_8ad+" ")<0){node.setAttribute("className",cls+(cls?" ":"")+_8ad);}};g._removeClass=function(node,_8ae){var cls=node.getAttribute("className");if(cls){node.setAttribute("className",cls.replace(new RegExp("(^|\\s+)"+_8ae+"(\\s+|$)"),"$1$2"));}};b._getFontMeasurements=function(){var _8af={"1em":0,"1ex":0,"100%":0,"12pt":0,"16px":0,"xx-small":0,"x-small":0,"small":0,"medium":0,"large":0,"x-large":0,"xx-large":0};var p;if(has("ie")){win.doc.documentElement.style.fontSize="100%";}var div=_8aa.create("div",{style:{position:"absolute",left:"0",top:"-100px",width:"30px",height:"1000em",borderWidth:"0",margin:"0",padding:"0",outline:"none",lineHeight:"1",overflow:"hidden"}},win.body());for(p in _8af){div.style.fontSize=p;_8af[p]=Math.round(div.offsetHeight*12/16)*16/12/1000;}win.body().removeChild(div);return _8af;};var _8b0=null;b._getCachedFontMeasurements=function(_8b1){if(_8b1||!_8b0){_8b0=b._getFontMeasurements();}return _8b0;};var _8b2=null,_8b3={};b._getTextBox=function(text,_8b4,_8b5){var m,s,al=arguments.length;var i;if(!_8b2){_8b2=_8aa.create("div",{style:{position:"absolute",top:"-10000px",left:"0"}},win.body());}m=_8b2;m.className="";s=m.style;s.borderWidth="0";s.margin="0";s.padding="0";s.outline="0";if(al>1&&_8b4){for(i in _8b4){if(i in _8b3){continue;}s[i]=_8b4[i];}}if(al>2&&_8b5){m.className=_8b5;}m.innerHTML=text;if(m["getBoundingClientRect"]){var bcr=m.getBoundingClientRect();return {l:bcr.left,t:bcr.top,w:bcr.width||(bcr.right-bcr.left),h:bcr.height||(bcr.bottom-bcr.top)};}else{return _8ab.getMarginBox(m);}};var _8b6=0;b._getUniqueId=function(){var id;do{id=_8a8._scopeName+"xUnique"+(++_8b6);}while(dom.byId(id));return id;};lang.mixin(g,{defaultPath:{type:"path",path:""},defaultPolyline:{type:"polyline",points:[]},defaultRect:{type:"rect",x:0,y:0,width:100,height:100,r:0},defaultEllipse:{type:"ellipse",cx:0,cy:0,rx:200,ry:100},defaultCircle:{type:"circle",cx:0,cy:0,r:100},defaultLine:{type:"line",x1:0,y1:0,x2:100,y2:100},defaultImage:{type:"image",x:0,y:0,width:0,height:0,src:""},defaultText:{type:"text",x:0,y:0,text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultTextPath:{type:"textpath",text:"",align:"start",decoration:"none",rotated:false,kerning:true},defaultStroke:{type:"stroke",color:"black",style:"solid",width:1,cap:"butt",join:4},defaultLinearGradient:{type:"linear",x1:0,y1:0,x2:100,y2:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultRadialGradient:{type:"radial",cx:0,cy:0,r:100,colors:[{offset:0,color:"black"},{offset:1,color:"white"}]},defaultPattern:{type:"pattern",x:0,y:0,width:0,height:0,src:""},defaultFont:{type:"font",style:"normal",variant:"normal",weight:"normal",size:"10pt",family:"serif"},getDefault:(function(){var _8b7={};return function(type){var t=_8b7[type];if(t){return new t();}t=_8b7[type]=new Function();t.prototype=g["default"+type];return new t();};})(),normalizeColor:function(_8b8){return (_8b8 instanceof _8a9)?_8b8:new _8a9(_8b8);},normalizeParameters:function(_8b9,_8ba){var x;if(_8ba){var _8bb={};for(x in _8b9){if(x in _8ba&&!(x in _8bb)){_8b9[x]=_8ba[x];}}}return _8b9;},makeParameters:function(_8bc,_8bd){var i=null;if(!_8bd){return lang.delegate(_8bc);}var _8be={};for(i in _8bc){if(!(i in _8be)){_8be[i]=lang.clone((i in _8bd)?_8bd[i]:_8bc[i]);}}return _8be;},formatNumber:function(x,_8bf){var val=x.toString();if(val.indexOf("e")>=0){val=x.toFixed(4);}else{var _8c0=val.indexOf(".");if(_8c0>=0&&val.length-_8c0>5){val=x.toFixed(4);}}if(x<0){return val;}return _8bf?" "+val:val;},makeFontString:function(font){return font.style+" "+font.variant+" "+font.weight+" "+font.size+" "+font.family;},splitFontString:function(str){var font=g.getDefault("Font");var t=str.split(/\s+/);do{if(t.length<5){break;}font.style=t[0];font.variant=t[1];font.weight=t[2];var i=t[3].indexOf("/");font.size=i<0?t[3]:t[3].substring(0,i);var j=4;if(i<0){if(t[4]=="/"){j=6;}else{if(t[4].charAt(0)=="/"){j=5;}}}if(j<t.length){font.family=t.slice(j).join(" ");}}while(false);return font;},cm_in_pt:72/2.54,mm_in_pt:7.2/2.54,px_in_pt:function(){return g._base._getCachedFontMeasurements()["12pt"]/12;},pt2px:function(len){return len*g.px_in_pt();},px2pt:function(len){return len/g.px_in_pt();},normalizedLength:function(len){if(len.length===0){return 0;}if(len.length>2){var _8c1=g.px_in_pt();var val=parseFloat(len);switch(len.slice(-2)){case "px":return val;case "pt":return val*_8c1;case "in":return val*72*_8c1;case "pc":return val*12*_8c1;case "mm":return val*g.mm_in_pt*_8c1;case "cm":return val*g.cm_in_pt*_8c1;}}return parseFloat(len);},pathVmlRegExp:/([A-Za-z]+)|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,pathSvgRegExp:/([A-Za-z])|(\d+(\.\d+)?)|(\.\d+)|(-\d+(\.\d+)?)|(-\.\d+)/g,equalSources:function(a,b){return a&&b&&a===b;},switchTo:function(_8c2){var ns=typeof _8c2=="string"?g[_8c2]:_8c2;if(ns){arr.forEach(["Group","Rect","Ellipse","Circle","Line","Polyline","Image","Text","Path","TextPath","EsriPath","Surface","createSurface","fixTarget"],function(name){g[name]=ns[name];});}}});return g;});},"esri/layers/QueryDataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/DataSource","esri/SpatialReference"],function(_8c3,lang,has,_8c4,_8c5,_8c6,_8c7){var _8c8=_8c3(_8c6,{declaredClass:"esri.layers.QueryDataSource",constructor:function(json){if(json){if(json.oidFields&&lang.isString(json.oidFields)){this.oidFields=json.oidFields.split(",");}if(json.spatialReference){this.spatialReference=new _8c7(json.spatialReference);}}},toJson:function(){var json={type:"queryTable",workspaceId:this.workspaceId,query:this.query,oidFields:this.oidFields&&this.oidFields.join(),spatialReference:this.spatialReference&&this.spatialReference.toJson()};if(this.geometryType){var _8c9;if(this.geometryType.toLowerCase()==="point"){_8c9="esriGeometryPoint";}else{if(this.geometryType.toLowerCase()==="multipoint"){_8c9="esriGeometryMultipoint";}else{if(this.geometryType.toLowerCase()==="polyline"){_8c9="esriGeometryPolyline";}else{if(this.geometryType.toLowerCase()==="polygon"){_8c9="esriGeometryPolygon";}else{_8c9=this.geometryType;}}}}json.geometryType=_8c9;}return _8c5.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.QueryDataSource",_8c8,_8c4);}return _8c8;});},"esri/geometry/Polygon":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent","esri/geometry/mathUtils"],function(_8ca,_8cb,lang,has,_8cc,_8cd,_8ce,_8cf,_8d0,_8d1,_8d2){var _8d3={type:"polygon",rings:null};var _8d4=_8ca(_8cf,{declaredClass:"esri.geometry.Polygon",constructor:function(obj){lang.mixin(this,_8d3);this.rings=[];this._ring=0;if(obj){if(obj.rings){lang.mixin(this,obj);}else{this.spatialReference=obj;}if(this.spatialReference){this.spatialReference=new _8ce(this.spatialReference);}}this.verifySR();},_extent:null,addRing:function(_8d5){this._extent=null;this._ring=this.rings.length;this.rings[this._ring]=[];if(lang.isArray(_8d5[0])){_8cb.forEach(_8d5,this._addPointArr,this);}else{_8cb.forEach(_8d5,this._addPoint,this);}return this;},_addPointArr:function(_8d6){this.rings[this._ring].push(_8d6);},_addPoint:function(_8d7){this.rings[this._ring].push([_8d7.x,_8d7.y]);},_insertPoints:function(_8d8,_8d9){this._extent=null;this._ring=_8d9;if(!this.rings[this._ring]){this.rings[this._ring]=[];}_8cb.forEach(_8d8,this._addPoint,this);},_validateInputs:function(_8da,_8db){if((_8da!==null&&_8da!==undefined)&&(_8da<0||_8da>=this.rings.length)){return false;}if((_8db!==null&&_8da!==undefined)&&(_8db<0||_8db>=this.rings[_8da].length)){return false;}return true;},getPoint:function(_8dc,_8dd){if(this._validateInputs(_8dc,_8dd)){return new _8d0(this.rings[_8dc][_8dd],this.spatialReference);}},setPoint:function(_8de,_8df,_8e0){if(this._validateInputs(_8de,_8df)){this._extent=null;this.rings[_8de][_8df]=[_8e0.x,_8e0.y];return this;}},insertPoint:function(_8e1,_8e2,_8e3){if(this._validateInputs(_8e1)&&_8cd.isDefined(_8e2)&&(_8e2>=0&&_8e2<=this.rings[_8e1].length)){this._extent=null;this.rings[_8e1].splice(_8e2,0,[_8e3.x,_8e3.y]);return this;}},removeRing:function(_8e4){if(this._validateInputs(_8e4,null)){this._extent=null;var arr=this.rings.splice(_8e4,1)[0],i,il=arr.length,sr=this.spatialReference;for(i=0;i<il;i++){arr[i]=new _8d0(arr[i],sr);}return arr;}},removePoint:function(_8e5,_8e6){if(this._validateInputs(_8e5,_8e6)){this._extent=null;return new _8d0(this.rings[_8e5].splice(_8e6,1)[0],this.spatialReference);}},getExtent:function(){var _8e7;if(this._extent){_8e7=new _8d1(this._extent);_8e7._partwise=this._partwise;return _8e7;}var _8e8=this.rings,pal=_8e8.length;if(!pal||!_8e8[0].length){return;}var ring,_8e9,x,y,xmax,ymax,pa,pt,ptl,xmin=(xmax=_8e8[0][0][0]),ymin=(ymax=_8e8[0][0][1]),min=Math.min,max=Math.max,sr=this.spatialReference,_8ea=[],_8eb,_8ec,_8ed,_8ee;for(pa=0;pa<pal;pa++){ring=_8e8[pa];_8eb=(_8ec=ring[0]&&ring[0][0]);_8ed=(_8ee=ring[0]&&ring[0][1]);ptl=ring.length;for(pt=0;pt<ptl;pt++){_8e9=ring[pt];x=_8e9[0];y=_8e9[1];xmin=min(xmin,x);ymin=min(ymin,y);xmax=max(xmax,x);ymax=max(ymax,y);_8eb=min(_8eb,x);_8ed=min(_8ed,y);_8ec=max(_8ec,x);_8ee=max(_8ee,y);}_8ea.push(new _8d1({xmin:_8eb,ymin:_8ed,xmax:_8ec,ymax:_8ee,spatialReference:(sr?sr.toJson():null)}));}this._extent={xmin:xmin,ymin:ymin,xmax:xmax,ymax:ymax,spatialReference:(sr?sr.toJson():null)};this._partwise=_8ea.length>1?_8ea:null;_8e7=new _8d1(this._extent);_8e7._partwise=this._partwise;return _8e7;},contains:function(_8ef){var _8f0=this.rings,ring,_8f1=false,pi,pj,_8f2,j,i,pa,pal=_8f0.length,_8f3=this.spatialReference,_8f4=_8ef.spatialReference,_8f5,x=_8ef.x,y=_8ef.y;if(_8f3&&_8f4&&!_8f3.equals(_8f4)&&_8f3._canProject(_8f4)){_8f5=_8f3.isWebMercator()?_8d0.lngLatToXY(x,y):_8d0.xyToLngLat(x,y,true);x=_8f5[0];y=_8f5[1];}for(pa=0;pa<pal;pa++){ring=_8f0[pa];_8f2=ring.length;j=0;for(i=0;i<_8f2;i++){j++;if(j===_8f2){j=0;}pi=ring[i];pj=ring[j];if((pi[1]<y&&pj[1]>=y||pj[1]<y&&pi[1]>=y)&&(pi[0]+(y-pi[1])/(pj[1]-pi[1])*(pj[0]-pi[0])<x)){_8f1=!_8f1;}}}return _8f1;},isClockwise:function(arr){var area=0,i,il=arr.length,func=lang.isArray(arr[0])?function(p1,p2){return p1[0]*p2[1]-p2[0]*p1[1];}:function(p1,p2){return p1.x*p2.y-p2.x*p1.y;};for(i=0;i<il;i++){area+=func(arr[i],arr[(i+1)%il]);}return (area/2)<=0;},isSelfIntersecting:function(_8f6){_8f6=_8f6||this;var i,j,k,m,_8f7,_8f8,_8f9,_8fa=_8f6.rings.length;for(k=0;k<_8fa;k++){for(i=0;i<_8f6.rings[k].length-1;i++){_8f7=[[_8f6.rings[k][i][0],_8f6.rings[k][i][1]],[_8f6.rings[k][i+1][0],_8f6.rings[k][i+1][1]]];for(j=k+1;j<_8fa;j++){for(m=0;m<_8f6.rings[j].length-1;m++){_8f8=[[_8f6.rings[j][m][0],_8f6.rings[j][m][1]],[_8f6.rings[j][m+1][0],_8f6.rings[j][m+1][1]]];_8f9=_8d2._getLineIntersection2(_8f7,_8f8);if(_8f9){if(!((_8f9[0]===_8f7[0][0]&&_8f9[1]===_8f7[0][1])||(_8f9[0]===_8f8[0][0]&&_8f9[1]===_8f8[0][1])||(_8f9[0]===_8f7[1][0]&&_8f9[1]===_8f7[1][1])||(_8f9[0]===_8f8[1][0]&&_8f9[1]===_8f8[1][1]))){return true;}}}}}var _8fb=_8f6.rings[k].length;if(_8fb<=4){continue;}for(i=0;i<_8fb-3;i++){var _8fc=_8fb-1;if(i===0){_8fc=_8fb-2;}_8f7=[[_8f6.rings[k][i][0],_8f6.rings[k][i][1]],[_8f6.rings[k][i+1][0],_8f6.rings[k][i+1][1]]];for(j=i+2;j<_8fc;j++){_8f8=[[_8f6.rings[k][j][0],_8f6.rings[k][j][1]],[_8f6.rings[k][j+1][0],_8f6.rings[k][j+1][1]]];_8f9=_8d2._getLineIntersection2(_8f7,_8f8);if(_8f9){if(!((_8f9[0]===_8f7[0][0]&&_8f9[1]===_8f7[0][1])||(_8f9[0]===_8f8[0][0]&&_8f9[1]===_8f8[0][1])||(_8f9[0]===_8f7[1][0]&&_8f9[1]===_8f7[1][1])||(_8f9[0]===_8f8[1][0]&&_8f9[1]===_8f8[1][1]))){return true;}}}}}return false;},toJson:function(){var json={rings:lang.clone(this.rings)},sr=this.spatialReference;if(sr){json.spatialReference=sr.toJson();}return json;}});_8d4.defaultProps=_8d3;_8d4.createEllipse=function(_8fd){var dx=_8fd.center.x,dy=_8fd.center.y,a=_8fd.longAxis,b=_8fd.shortAxis,_8fe=_8fd.numberOfPoints,map=_8fd.map,pt,i,_8ff,_900,_901,path=[],_902=(2*Math.PI)/_8fe;for(i=0;i<_8fe;i++){_8ff=Math.cos(i*_902);_900=Math.sin(i*_902);pt=map.toMap({x:a*_8ff+dx,y:b*_900+dy});path.push(pt);}path.push(path[0]);_901=new _8d4(map.spatialReference);_901.addRing(path);return _901;};_8d4.createCircle=function(_903){var _904={center:_903.center,longAxis:_903.r,shortAxis:_903.r,numberOfPoints:_903.numberOfPoints,map:_903.map};var _905=_8d4.createEllipse(_904);return _905;};if(has("extend-esri")){lang.setObject("geometry.Polygon",_8d4,_8cc);_8cc.geometry.defaultPolygon=_8d3;_8cc.geometry.createEllipse=_8d4.createEllipse;_8cc.geometry.createCircle=_8d4.createCircle;_8cc.geometry.isClockwise=_8d4.prototype.isClockwise;_8cc.geometry.polygonSelfIntersecting=_8d4.prototype.isSelfIntersecting;}return _8d4;});},"esri/config":function(){define(["dojo/_base/config","dojo/topic","dojo/has","esri/kernel"],function(_906,_907,has,_908){var _909={defaults:{screenDPI:96,geometryService:null,kmlService:null,map:{width:400,height:400,layerNamePrefix:"layer",graphicsLayerNamePrefix:"graphicsLayer",slider:{left:"30px",top:"30px",width:null,height:"200px"},sliderLabel:{tick:5,labels:null,style:"width:2em; font-family:Verdana; font-size:75%;"},sliderChangeImmediate:true,zoomSymbol:{color:[0,0,0,64],outline:{color:[255,0,0,255],width:1.25,style:"esriSLSSolid"},style:"esriSFSSolid"},zoomDuration:500,zoomRate:25,panDuration:350,panRate:25,logoLink:"http://www.esri.com",basemaps:{"streets":{title:"Streets",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer"}]},"satellite":{title:"Satellite",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}]},"hybrid":{title:"Imagery with Labels",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"},{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Boundaries_and_Places/MapServer",isReference:true}]},"topo":{title:"Topographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer"}]},"gray":{title:"Light Gray Canvas",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer"},{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Reference/MapServer",isReference:true}]},"oceans":{title:"Oceans",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/Ocean_Basemap/MapServer"}]},"national-geographic":{title:"National Geographic",baseMapLayers:[{url:"http://services.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer"}]},"osm":{title:"OpenStreetMap",baseMapLayers:[{type:"OpenStreetMap"}]}}},io:{errorHandler:function(_90a,io){_907.publish("esri.Error",[_90a]);},proxyUrl:null,alwaysUseProxy:false,corsEnabledServers:["www.arcgis.com","tiles.arcgis.com","services.arcgis.com","services1.arcgis.com","services2.arcgis.com","services3.arcgis.com","static.arcgis.com","utility.arcgisonline.com","geocode.arcgis.com","qaext.arcgis.com","tilesqa.arcgis.com","servicesqa.arcgis.com","servicesqa1.arcgis.com","servicesqa2.arcgis.com","servicesqa3.arcgis.com","geocodeqa.arcgis.com","dev.arcgis.com","devext.arcgis.com","tilesdevext.arcgis.com","servicesdev.arcgis.com","servicesdev1.arcgis.com","servicesdev2.arcgis.com","servicesdev3.arcgis.com","geocodedev.arcgis.com"],corsDetection:true,_processedCorsServers:{},proxyRules:[],postLength:2000,timeout:60000}}};if(has("extend-esri")){_908.config=_909;}if(!_906.noGlobals){window.esriConfig=_909;}return _909;});},"esri/MouseEvents":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/_base/lang","dojo/_base/sniff","dojo/_base/connect","dojo/_base/event","esri/kernel","esri/Evented","esri/geometry/Point","esri/geometry/ScreenPoint"],function(_90b,html,lang,has,_90c,_90d,_90e,_90f,_910,_911){var _912=_90c.connect,_913=_90c.disconnect;var _914=_90b([_90f],{declaredClass:"esri.MouseEvents",doubleClickDuration:300,minWheelValue:1,maxWheelValue:1,mozWheelDivisor:has("mac")!==-1?1:3,wheelDivisor:has("chrome")<2?360:120,preventPageScroll:true,map:null,constructor:function(node,_915){this.node=node;lang.mixin(this,_915);var _916=function(evt){_90d.stop(evt);return false;};if(has("mozilla")){html.style(node,"MozUserSelect","none");}this._handles=[_912(node,"onselectstart",_916),_912(node,"ondragstart",_916),_912(node,"onmouseenter",this,this._onMouseEnterHandler),_912(node,"onmouseleave",this,this._onMouseLeaveHandler),_912(node,"onmousedown",this,this._onMouseDownHandler),_912(node,"onclick",this,this._onClickHandler),_912(node,"ondblclick",this,this._onDblClickHandler)];this._onMouseMoveHandler_connect=_912(node,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=_912(node,"onmouseup",this,this._onMouseUpHandler);this._fireClickEvent=lang.hitch(this,this._fireClickEvent);this._initialDuration=this.doubleClickDuration;var map=this.map;this.preventPageScroll=map?(map.isScrollWheelZoom||map.isScrollWheelPan):this.preventPageScroll;this.enableMouseWheel(false);},_fire:function(_917,evt){if(this[_917]){this[_917](evt);}if(this.map){if(this.map[_917]){this.map[_917](evt);}}},_processEvent:function(evt){evt=_90d.fix(evt,evt.target);var map=this.map,pos=map&&map.position;if(pos){if(evt.type==="DOMMouseScroll"&&has("ff")<3){evt.screenPoint=new _911(window.scrollX+evt.screenX-pos.x,window.scrollY+evt.screenY-pos.y);}else{evt.screenPoint=new _911(evt.pageX-pos.x,evt.pageY-pos.y);}evt.mapPoint=map.extent?map.toMap(evt.screenPoint):new _910();}evt.numPoints=0;return evt;},_onMouseEnterHandler:function(evt){_913(this._onKeyDown_connect);_913(this._onKeyUp_connect);this._onKeyDown_connect=_912(document,"onkeydown",this,this._onKeyDownHandler);this._onKeyUp_connect=_912(document,"onkeyup",this,this._onKeyUpHandler);this._fire("onMouseOver",this._processEvent(evt));},_onMouseLeaveHandler:function(evt){_913(this._onKeyDown_connect);_913(this._onKeyUp_connect);this._onKeyDown_connect=this._onKeyUp_connect=null;this._fire("onMouseOut",this._processEvent(evt));},_onMouseMoveHandler:function(evt){if(this._dragEnd){this._dragEnd=false;return;}this._fire("onMouseMove",this._processEvent(evt));},_onMouseDownHandler:function(evt){_913(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=null;if(this.node.setCapture){this.node.setCapture(false);}this._onMouseDragHandler_connect=_912(document,"onmousemove",this,this._onMouseDragHandler);this._startX=evt.pageX;this._startY=evt.pageY;this._fire("onMouseDown",this._processEvent(evt));},_onMouseUpHandler:function(evt){var node=this.node;if(node.releaseCapture){node.releaseCapture();}_913(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=null;_913(this._onMouseMoveHandler_connect);this._onMouseMoveHandler_connect=_912(node,"onmousemove",this,this._onMouseMoveHandler);this._fire("onMouseUp",this._processEvent(evt));},_onMouseDragHandler:function(evt){_913(this._onMouseDragHandler_connect);this._onMouseDragHandler_connect=_912(document,"onmousemove",this,this._onMouseDraggingHandler);_913(this._onMouseUpHandler_connect);this._onMouseUpHandler_connect=_912(document,"onmouseup",this,this._onDragMouseUpHandler);this._docLeaveConnect=_912(document,"onmouseout",this,this._onDocMouseOut);this._fire("onMouseDragStart",this._processEvent(evt));},_onMouseDraggingHandler:function(evt){_90d.stop(evt);this._fire("onMouseDrag",this._processEvent(evt));},_onDragMouseUpHandler:function(evt){var node=this.node;if(node.releaseCapture){node.releaseCapture();}this._dragEnd=true;_913(this._docLeaveConnect);_913(this._onMouseDragHandler_connect);_913(this._onMouseUpHandler_connect);this._docLeaveConnect=this._onMouseDragHandler_connect=null;this._onMouseMoveHandler_connect=_912(node,"onmousemove",this,this._onMouseMoveHandler);this._onMouseUpHandler_connect=_912(node,"onmouseup",this,this._onMouseUpHandler);evt=this._processEvent(evt);this._fire("onMouseDragEnd",evt);this._fire("onMouseUp",evt);},_onDocMouseOut:function(evt){var _918=evt.relatedTarget,_919=evt.relatedTarget&&evt.relatedTarget.nodeName.toLowerCase();if(!_918||(has("chrome")&&_919==="html")){this._onDragMouseUpHandler(evt);}},_onClickHandler:function(evt){evt=this._processEvent(evt);if(evt.pageX!==this._startX||evt.pageY!==this._startY){return;}clearTimeout(this._clickTimer);this._clickEvent=lang.mixin({},evt);this._clickTimer=setTimeout(this._fireClickEvent,this.doubleClickDuration);},_fireClickEvent:function(){clearTimeout(this._clickTimer);if(has("ie")<9){this._clickEvent.graphic=_90e._ieGraphic;delete _90e._ieGraphic;}this._fire("onClick",this._clickEvent);},_onDblClickHandler:function(evt){clearTimeout(this._clickTimer);this._fire("onDblClick",this._processEvent(evt));},_onMouseWheelHandler:function(evt){var map=this.map,_91a=map?(map.isScrollWheelZoom||map.isScrollWheelPan):this.preventPageScroll;if(_91a){_90d.stop(evt);}var _91b=has("ie")||has("webkit")?evt.wheelDelta/this.wheelDivisor:-evt.detail/this.mozWheelDivisor,_91c=Math.abs(_91b);if(_91c<=this.minWheelValue){_91c=this.minWheelValue;}else{_91c=this.maxWheelValue;}evt.value=_91b<0?-_91c:_91c;this._fire("onMouseWheel",this._processEvent(evt));},_onKeyDownHandler:function(evt){this._fire("onKeyDown",evt);},_onKeyUpHandler:function(evt){this._fire("onKeyUp",evt);},enableMouseWheel:function(_91d){_913(this._scrollHandle);this._scrollHandle=_912(this.node,(has("ff")||has("mozilla"))?(_91d?"MozMousePixelScroll":"DOMMouseScroll"):"onmousewheel",this,this._onMouseWheelHandler);},setImmediateClick:function(_91e){this.doubleClickDuration=_91e?0:this._initialDuration;},destroy:function(){var _91f=this._handles.concat([this._onMouseMoveHandler_connect,this._onMouseUpHandler_connect,this._onMouseDragHandler_connect,this._scrollHandle,this._onKeyDown_connect,this._onKeyUp_connect,this._docLeaveConnect]),i;for(i=0;i<_91f.length;i++){_913(_91f[i]);}clearTimeout(this._clickTimer);this.node=this.map=this._handles=this._clickEvent=this._onMouseMoveHandler_connect=this._onMouseUpHandler_connect=this._onMouseDragHandler_connect=this._scrollHandle=this._onKeyDown_connect=this._onKeyUp_connect=this._docLeaveConnect=null;}});if(has("extend-esri")){_90e.MouseEvents=_914;}return _914;});},"esri/geometry/Geometry":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference"],function(_920,lang,has,_921,_922){var _923=_920(null,{declaredClass:"esri.geometry.Geometry",spatialReference:null,type:null,setSpatialReference:function(sr){this.spatialReference=sr;return this;},verifySR:function(){if(!this.spatialReference){this.setSpatialReference(new _922(4326));}},getExtent:function(){return null;}});if(has("extend-esri")){lang.setObject("geometry.Geometry",_923,_921);}return _923;});},"esri/layers/agscommon":function(){define(["esri/layers/ArcGISMapServiceLayer","esri/layers/LayerInfo","esri/layers/TimeInfo","esri/layers/LayerTimeOptions","esri/layers/TimeReference","esri/layers/Field","esri/layers/Domain","esri/layers/RangeDomain","esri/layers/CodedValueDomain","esri/layers/InheritedDomain","esri/layers/LayerSource","esri/layers/LayerMapSource","esri/layers/LayerDataSource","esri/layers/DataSource","esri/layers/TableDataSource","esri/layers/QueryDataSource","esri/layers/JoinDataSource","esri/layers/RasterDataSource","esri/layers/DynamicLayerInfo","esri/layers/LayerDrawingOptions","esri/geometry","esri/utils"],function(){return {};});},"esri/layers/RasterDataSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/DataSource"],function(_924,lang,has,_925,_926,_927){var _928=_924(_927,{declaredClass:"esri.layers.RasterDataSource",toJson:function(){var json={type:"raster",workspaceId:this.workspaceId,dataSourceName:this.dataSourceName};return _926.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.RasterDataSource",_928,_925);}return _928;});},"esri/layers/DynamicLayerInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/LayerInfo","esri/layers/LayerMapSource","esri/layers/LayerDataSource"],function(_929,lang,has,_92a,_92b,_92c,_92d,_92e){var _92f=_929(_92c,{declaredClass:"esri.layers.DynamicLayerInfo",defaultVisibility:true,parentLayerId:-1,maxScale:0,minScale:0,constructor:function(json){if(json){var _930;if(!json.source){_930=new _92d();_930.mapLayerId=this.id;}else{if(json.source.type==="mapLayer"){_930=new _92d(json.source);}else{_930=new _92e(json.source);}}this.source=_930;}},toJson:function(){var json=this.inherited(arguments);json.source=this.source&&this.source.toJson();return _92b.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.DynamicLayerInfo",_92f,_92a);}return _92f;});},"esri/layers/CodedValueDomain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/Domain"],function(_931,lang,has,_932,_933,_934){var _935=_931([_934],{declaredClass:"esri.layers.CodedValueDomain",constructor:function(json){if(json&&lang.isObject(json)){this.codedValues=json.codedValues;}},toJson:function(){var json=this.inherited(arguments);json.codedValues=lang.clone(this.codedValues);return _933.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.CodedValueDomain",_935,_932);}return _935;});},"dijit/main":function(){define("dijit/main",["dojo/_base/kernel"],function(dojo){return dojo.dijit;});},"esri/domUtils":function(){define(["dojo/_base/connect","dojo/_base/lang","dojo/dom-style","dojo/has","esri/kernel"],function(_936,lang,_937,has,_938){var _939={show:function(node){if(node){node.style.display="block";}},hide:function(node){if(node){node.style.display="none";}},toggle:function(node){node.style.display=node.style.display==="none"?"block":"none";},documentBox:has("ie")?{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}:{w:window.innerWidth,h:window.innerHeight},setScrollable:function(node){var _93a=0,_93b=0,_93c=0,_93d=0,_93e=0,_93f=0;return [_936.connect(node,"ontouchstart",function(evt){_93a=evt.touches[0].screenX;_93b=evt.touches[0].screenY;_93c=node.scrollWidth;_93d=node.scrollHeight;_93e=node.clientWidth;_93f=node.clientHeight;}),_936.connect(node,"ontouchmove",function(evt){evt.preventDefault();var _940=node.firstChild;if(_940 instanceof Text){_940=node.childNodes[1];}var _941=_940._currentX||0,_942=_940._currentY||0;_941+=(evt.touches[0].screenX-_93a);if(_941>0){_941=0;}else{if(_941<0&&(Math.abs(_941)+_93e)>_93c){_941=-1*(_93c-_93e);}}_940._currentX=_941;_942+=(evt.touches[0].screenY-_93b);if(_942>0){_942=0;}else{if(_942<0&&(Math.abs(_942)+_93f)>_93d){_942=-1*(_93d-_93f);}}_940._currentY=_942;_937.set(_940,{"-webkit-transition-property":"-webkit-transform","-webkit-transform":"translate("+_941+"px, "+_942+"px)"});_93a=evt.touches[0].screenX;_93b=evt.touches[0].screenY;})];}};if(has("extend-esri")){lang.mixin(_938,_939);}return _939;});},"esri/units":function(){define(["dojo/has","esri/kernel"],function(has,_943){var _944={CENTIMETERS:"esriCentimeters",DECIMAL_DEGREES:"esriDecimalDegrees",DEGREE_MINUTE_SECONDS:"esriDegreeMinuteSeconds",DECIMETERS:"esriDecimeters",FEET:"esriFeet",INCHES:"esriInches",KILOMETERS:"esriKilometers",METERS:"esriMeters",MILES:"esriMiles",MILLIMETERS:"esriMillimeters",NAUTICAL_MILES:"esriNauticalMiles",POINTS:"esriPoints",UNKNOWN:"esriUnknownUnits",YARDS:"esriYards",ACRES:"esriAcres",ARES:"esriAres",SQUARE_KILOMETERS:"esriSquareKilometers",SQUARE_MILES:"esriSquareMiles",SQUARE_FEET:"esriSquareFeet",SQUARE_METERS:"esriSquareMeters",HECTARES:"esriHectares",SQUARE_YARDS:"esriSquareYards",SQUARE_INCHES:"esriSquareInches",SQUARE_MILLIMETERS:"esriSquareMillimeters",SQUARE_CENTIMETERS:"esriSquareCentimeters",SQUARE_DECIMETERS:"esriSquareDecimeters"};if(has("extend-esri")){_943.Units=_944;}return _944;});},"dojox/gfx":function(){define("dojox/gfx",["dojo/_base/lang","./gfx/_base","./gfx/renderer!"],function(lang,_945,_946){_945.switchTo(_946);return _945;});},"esri/PopupBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/Color","dojo/_base/Deferred","dojo/has","esri/kernel","esri/graphic","esri/geometry/Point","esri/geometry/jsonUtils","esri/geometry/mathUtils","esri/geometry/webMercatorUtils","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/CartographicLineSymbol","esri/symbols/SimpleFillSymbol","esri/Evented"],function(_947,lang,_948,_949,_94a,has,_94b,_94c,_94d,_94e,_94f,_950,_951,_952,_953,_954,_955){var _956=_947(_955,{declaredClass:"esri.PopupBase",_evtMap:{"set-features":true,"clear-features":true,"selection-change":true,"dfd-complete":true},onSetFeatures:function(){},onClearFeatures:function(){},onSelectionChange:function(){},onDfdComplete:function(){},initialize:function(){this.count=0;this.selectedIndex=-1;},cleanup:function(){this.features=this.deferreds=null;},setFeatures:function(arg){if(!arg||!arg.length){return;}this.clearFeatures();var _957,_958;if(arg[0] instanceof _94a){_958=arg;}else{_957=arg;}if(_957){this._updateFeatures(null,_957);}else{this.deferreds=_958;_958=_958.slice(0);_948.forEach(_958,function(dfd){dfd.addBoth(lang.hitch(this,this._updateFeatures,dfd));},this);}},clearFeatures:function(){this.features=this.deferreds=this._marked=null;this.count=0;var _959=this.selectedIndex;this.selectedIndex=-1;if(_959>-1){this.onSelectionChange();}this.onClearFeatures();},getSelectedFeature:function(){var _95a=this.features;if(_95a){return _95a[this.selectedIndex];}},select:function(_95b){if(_95b<0||_95b>=this.count){return;}this.selectedIndex=_95b;this.onSelectionChange();},enableHighlight:function(map){this._highlighted=map.graphics.add(new _94c(new _94d(0,0,map.spatialReference)));this._highlighted.hide();if(!this.markerSymbol){var _95c=(this.markerSymbol=new _951());_95c.setStyle(_951.STYLE_TARGET);_95c._setDim(16,16,7);_95c.setOutline(new _953(_952.STYLE_SOLID,new _949([0,255,255]),2,_953.CAP_ROUND,_953.JOIN_ROUND));_95c.setColor(new _949([0,0,0,0]));}if(!this.lineSymbol){this.lineSymbol=new _952(_952.STYLE_SOLID,new _949([0,255,255]),2);}if(!this.fillSymbol){this.fillSymbol=new _954(_954.STYLE_NULL,new _952(_952.STYLE_SOLID,new _949([0,255,255]),2),new _949([0,0,0,0]));}},disableHighlight:function(map){var _95d=this._highlighted;if(_95d){_95d.hide();map.graphics.remove(_95d);delete this._highlighted;}this.markerSymbol=this.lineSymbol=this.fillSymbol=null;},showHighlight:function(){var _95e=this.features&&this.features[this.selectedIndex];if(this._highlighted&&_95e&&_95e.geometry){this._highlighted.show();}},hideHighlight:function(){if(this._highlighted){this._highlighted.hide();}},updateHighlight:function(map,_95f){var _960=_95f.geometry,_961=this._highlighted;if(!_960||!_961){if(_961){_961.hide();}return;}_961.hide();if(!_961.getLayer()&&map){map.graphics.add(_961);}_961.setGeometry(_94e.fromJson(_960.toJson()));var _962;switch(_960.type){case "point":case "multipoint":_962=this.markerSymbol;_962.setOffset(0,0);_962.setAngle(0);var lyr=_95f.getLayer();if(lyr){var _963=lyr._getSymbol(_95f),_964,_965,xoff=0,yoff=0,_966=0;if(_963){switch(_963.type){case "simplemarkersymbol":_964=_965=(_963.size||0);break;case "picturemarkersymbol":_964=(_963.width||0);_965=(_963.height||0);break;}xoff=_963.xoffset||0;yoff=_963.yoffset||0;_966=_963.angle||0;}if(_964&&_965){_962._setDim(_964+1,_965+1,7);}_962.setOffset(xoff,yoff);_962.setAngle(_966);}break;case "polyline":_962=this.lineSymbol;break;case "polygon":_962=this.fillSymbol;break;}_961.setSymbol(_962);},showClosestFirst:function(_967){var _968=this.features;if(_968&&_968.length){if(_968.length>1){var i,_969=Infinity,_96a=-1,geom,_96b=_94f.getLength,_96c,_96d=_967.spatialReference,_96e,_96f;_967=_967.normalize();for(i=_968.length-1;i>=0;i--){geom=_968[i].geometry;if(!geom){continue;}_96e=geom.spatialReference;_96c=0;try{_96f=(geom.type==="point")?geom:geom.getExtent().getCenter();_96f=_96f.normalize();if(_96d&&_96e&&!_96d.equals(_96e)&&_96d._canProject(_96e)){_96f=_96d.isWebMercator()?_950.geographicToWebMercator(_96f):_950.webMercatorToGeographic(_96f);}_96c=_96b(_967,_96f);}catch(e){}if(_96c>0&&_96c<_969){_969=_96c;_96a=i;}}if(_96a>0){_968.splice(0,0,_968.splice(_96a,1)[0]);this.select(0);}}}else{if(this.deferreds){this._marked=_967;}}},_unbind:function(dfd){var _970=_948.indexOf(this.deferreds,dfd);if(_970===-1){return;}this.deferreds.splice(_970,1);if(!this.deferreds.length){this.deferreds=null;return 2;}return 1;},_fireComplete:function(_971){var _972=this._marked;if(_972){this._marked=null;this.showClosestFirst(_972);}this.onDfdComplete(_971);},_updateFeatures:function(dfd,_973){if(dfd){if(this.deferreds){var res=this._unbind(dfd);if(!res){return;}if(_973&&_973 instanceof Error){this._fireComplete(_973);if(res===2){this.onSetFeatures();}return;}if(_973&&_973.length){if(!this.features){this.features=_973;this.count=_973.length;this.selectedIndex=0;this._fireComplete();if(res===2){this.onSetFeatures();}this.select(0);}else{var _974=_948.filter(_973,function(_975){return _948.indexOf(this.features,_975)===-1;},this);this.features=this.features.concat(_974);this.count=this.features.length;this._fireComplete();if(res===2){this.onSetFeatures();}}}else{this._fireComplete();if(res===2){this.onSetFeatures();}}}}else{this.features=_973;this.count=_973.length;this.selectedIndex=0;this.onSetFeatures();this.select(0);}}});if(has("extend-esri")){_94b.PopupBase=_956;}return _956;});},"esri/renderers/UniqueValueRenderer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/symbols/jsonUtils","esri/renderers/Renderer"],function(_976,_977,lang,has,_978,_979,_97a,_97b){var _97c=_976(_97b,{declaredClass:"esri.renderer.UniqueValueRenderer",constructor:function(sym,attr,_97d,_97e,_97f){this.values=[];this._symbols={};this.infos=[];if(sym&&!sym.declaredClass){var json=sym;sym=json.defaultSymbol;if(sym){this.defaultSymbol=_97a.fromJson(sym);}this.attributeField=json.field1;this.attributeField2=json.field2;this.attributeField3=json.field3;this.fieldDelimiter=json.fieldDelimiter;this.defaultLabel=json.defaultLabel;_977.forEach(json.uniqueValueInfos,this._addValueInfo,this);}else{this.defaultSymbol=sym;this.attributeField=attr;this.attributeField2=_97d;this.attributeField3=_97e;this.fieldDelimiter=_97f;}this._multiple=!!this.attributeField2;},addValue:function(_980,_981){var info=lang.isObject(_980)?_980:{value:_980,symbol:_981};this._addValueInfo(info);},removeValue:function(_982){var i=_977.indexOf(this.values,_982);if(i===-1){return;}this.values.splice(i,1);delete this._symbols[_982];this.infos.splice(i,1);},getSymbol:function(_983){var _984=this.attributeField,_985=_983.attributes,_986,_987,_988;if(this._multiple){_986=this.attributeField2;_987=this.attributeField3;_988=[];if(_984){_988.push(_985[_984]);}if(_986){_988.push(_985[_986]);}if(_987){_988.push(_985[_987]);}return this._symbols[_988.join(this.fieldDelimiter||"")]||this.defaultSymbol;}else{_984=lang.isFunction(_984)?_984(_983):_985[_984];return this._symbols[_984]||this.defaultSymbol;}},_addValueInfo:function(info){var _989=info.value;this.values.push(_989);this.infos.push(info);var _98a=info.symbol;if(_98a){if(!_98a.declaredClass){info.symbol=_97a.fromJson(_98a);}}this._symbols[_989]=info.symbol;},toJson:function(){var _98b=_979.fixJson;return _98b({type:"uniqueValue",field1:this.attributeField,field2:this.attributeField2,field3:this.attributeField3,fieldDelimiter:this.fieldDelimiter,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),defaultLabel:this.defaultLabel,uniqueValueInfos:_977.map(this.infos||[],function(info){info=lang.mixin({},info);info.symbol=info.symbol&&info.symbol.toJson();info.value=info.value+"";return _98b(info);})});}});if(has("extend-esri")){lang.setObject("renderer.UniqueValueRenderer",_97c,_978);}return _97c;});},"dojo/number":function(){define(["./_base/lang","./i18n","./i18n!./cldr/nls/number","./string","./regexp"],function(lang,i18n,_98c,_98d,_98e){var _98f={};lang.setObject("dojo.number",_98f);_98f.format=function(_990,_991){_991=lang.mixin({},_991||{});var _992=i18n.normalizeLocale(_991.locale),_993=i18n.getLocalization("dojo.cldr","number",_992);_991.customs=_993;var _994=_991.pattern||_993[(_991.type||"decimal")+"Format"];if(isNaN(_990)||Math.abs(_990)==Infinity){return null;}return _98f._applyPattern(_990,_994,_991);};_98f._numberPatternRE=/[#0,]*[#0](?:\.0*#*)?/;_98f._applyPattern=function(_995,_996,_997){_997=_997||{};var _998=_997.customs.group,_999=_997.customs.decimal,_99a=_996.split(";"),_99b=_99a[0];_996=_99a[(_995<0)?1:0]||("-"+_99b);if(_996.indexOf("%")!=-1){_995*=100;}else{if(_996.indexOf("‰")!=-1){_995*=1000;}else{if(_996.indexOf("¤")!=-1){_998=_997.customs.currencyGroup||_998;_999=_997.customs.currencyDecimal||_999;_996=_996.replace(/\u00a4{1,3}/,function(_99c){var prop=["symbol","currency","displayName"][_99c.length-1];return _997[prop]||_997.currency||"";});}else{if(_996.indexOf("E")!=-1){throw new Error("exponential notation not supported");}}}}var _99d=_98f._numberPatternRE;var _99e=_99b.match(_99d);if(!_99e){throw new Error("unable to find a number expression in pattern: "+_996);}if(_997.fractional===false){_997.places=0;}return _996.replace(_99d,_98f._formatAbsolute(_995,_99e[0],{decimal:_999,group:_998,places:_997.places,round:_997.round}));};_98f.round=function(_99f,_9a0,_9a1){var _9a2=10/(_9a1||10);return (_9a2*+_99f).toFixed(_9a0)/_9a2;};if((0.9).toFixed()==0){var _9a3=_98f.round;_98f.round=function(v,p,m){var d=Math.pow(10,-p||0),a=Math.abs(v);if(!v||a>=d){d=0;}else{a/=d;if(a<0.5||a>=0.95){d=0;}}return _9a3(v,p,m)+(v>0?d:-d);};}_98f._formatAbsolute=function(_9a4,_9a5,_9a6){_9a6=_9a6||{};if(_9a6.places===true){_9a6.places=0;}if(_9a6.places===Infinity){_9a6.places=6;}var _9a7=_9a5.split("."),_9a8=typeof _9a6.places=="string"&&_9a6.places.indexOf(","),_9a9=_9a6.places;if(_9a8){_9a9=_9a6.places.substring(_9a8+1);}else{if(!(_9a9>=0)){_9a9=(_9a7[1]||[]).length;}}if(!(_9a6.round<0)){_9a4=_98f.round(_9a4,_9a9,_9a6.round);}var _9aa=String(Math.abs(_9a4)).split("."),_9ab=_9aa[1]||"";if(_9a7[1]||_9a6.places){if(_9a8){_9a6.places=_9a6.places.substring(0,_9a8);}var pad=_9a6.places!==undefined?_9a6.places:(_9a7[1]&&_9a7[1].lastIndexOf("0")+1);if(pad>_9ab.length){_9aa[1]=_98d.pad(_9ab,pad,"0",true);}if(_9a9<_9ab.length){_9aa[1]=_9ab.substr(0,_9a9);}}else{if(_9aa[1]){_9aa.pop();}}var _9ac=_9a7[0].replace(",","");pad=_9ac.indexOf("0");if(pad!=-1){pad=_9ac.length-pad;if(pad>_9aa[0].length){_9aa[0]=_98d.pad(_9aa[0],pad);}if(_9ac.indexOf("#")==-1){_9aa[0]=_9aa[0].substr(_9aa[0].length-pad);}}var _9ad=_9a7[0].lastIndexOf(","),_9ae,_9af;if(_9ad!=-1){_9ae=_9a7[0].length-_9ad-1;var _9b0=_9a7[0].substr(0,_9ad);_9ad=_9b0.lastIndexOf(",");if(_9ad!=-1){_9af=_9b0.length-_9ad-1;}}var _9b1=[];for(var _9b2=_9aa[0];_9b2;){var off=_9b2.length-_9ae;_9b1.push((off>0)?_9b2.substr(off):_9b2);_9b2=(off>0)?_9b2.slice(0,off):"";if(_9af){_9ae=_9af;delete _9af;}}_9aa[0]=_9b1.reverse().join(_9a6.group||",");return _9aa.join(_9a6.decimal||".");};_98f.regexp=function(_9b3){return _98f._parseInfo(_9b3).regexp;};_98f._parseInfo=function(_9b4){_9b4=_9b4||{};var _9b5=i18n.normalizeLocale(_9b4.locale),_9b6=i18n.getLocalization("dojo.cldr","number",_9b5),_9b7=_9b4.pattern||_9b6[(_9b4.type||"decimal")+"Format"],_9b8=_9b6.group,_9b9=_9b6.decimal,_9ba=1;if(_9b7.indexOf("%")!=-1){_9ba/=100;}else{if(_9b7.indexOf("‰")!=-1){_9ba/=1000;}else{var _9bb=_9b7.indexOf("¤")!=-1;if(_9bb){_9b8=_9b6.currencyGroup||_9b8;_9b9=_9b6.currencyDecimal||_9b9;}}}var _9bc=_9b7.split(";");if(_9bc.length==1){_9bc.push("-"+_9bc[0]);}var re=_98e.buildGroupRE(_9bc,function(_9bd){_9bd="(?:"+_98e.escapeString(_9bd,".")+")";return _9bd.replace(_98f._numberPatternRE,function(_9be){var _9bf={signed:false,separator:_9b4.strict?_9b8:[_9b8,""],fractional:_9b4.fractional,decimal:_9b9,exponent:false},_9c0=_9be.split("."),_9c1=_9b4.places;if(_9c0.length==1&&_9ba!=1){_9c0[1]="###";}if(_9c0.length==1||_9c1===0){_9bf.fractional=false;}else{if(_9c1===undefined){_9c1=_9b4.pattern?_9c0[1].lastIndexOf("0")+1:Infinity;}if(_9c1&&_9b4.fractional==undefined){_9bf.fractional=true;}if(!_9b4.places&&(_9c1<_9c0[1].length)){_9c1+=","+_9c0[1].length;}_9bf.places=_9c1;}var _9c2=_9c0[0].split(",");if(_9c2.length>1){_9bf.groupSize=_9c2.pop().length;if(_9c2.length>1){_9bf.groupSize2=_9c2.pop().length;}}return "("+_98f._realNumberRegexp(_9bf)+")";});},true);if(_9bb){re=re.replace(/([\s\xa0]*)(\u00a4{1,3})([\s\xa0]*)/g,function(_9c3,_9c4,_9c5,_9c6){var prop=["symbol","currency","displayName"][_9c5.length-1],_9c7=_98e.escapeString(_9b4[prop]||_9b4.currency||"");_9c4=_9c4?"[\\s\\xa0]":"";_9c6=_9c6?"[\\s\\xa0]":"";if(!_9b4.strict){if(_9c4){_9c4+="*";}if(_9c6){_9c6+="*";}return "(?:"+_9c4+_9c7+_9c6+")?";}return _9c4+_9c7+_9c6;});}return {regexp:re.replace(/[\xa0 ]/g,"[\\s\\xa0]"),group:_9b8,decimal:_9b9,factor:_9ba};};_98f.parse=function(_9c8,_9c9){var info=_98f._parseInfo(_9c9),_9ca=(new RegExp("^"+info.regexp+"$")).exec(_9c8);if(!_9ca){return NaN;}var _9cb=_9ca[1];if(!_9ca[1]){if(!_9ca[2]){return NaN;}_9cb=_9ca[2];info.factor*=-1;}_9cb=_9cb.replace(new RegExp("["+info.group+"\\s\\xa0"+"]","g"),"").replace(info.decimal,".");return _9cb*info.factor;};_98f._realNumberRegexp=function(_9cc){_9cc=_9cc||{};if(!("places" in _9cc)){_9cc.places=Infinity;}if(typeof _9cc.decimal!="string"){_9cc.decimal=".";}if(!("fractional" in _9cc)||/^0/.test(_9cc.places)){_9cc.fractional=[true,false];}if(!("exponent" in _9cc)){_9cc.exponent=[true,false];}if(!("eSigned" in _9cc)){_9cc.eSigned=[true,false];}var _9cd=_98f._integerRegexp(_9cc),_9ce=_98e.buildGroupRE(_9cc.fractional,function(q){var re="";if(q&&(_9cc.places!==0)){re="\\"+_9cc.decimal;if(_9cc.places==Infinity){re="(?:"+re+"\\d+)?";}else{re+="\\d{"+_9cc.places+"}";}}return re;},true);var _9cf=_98e.buildGroupRE(_9cc.exponent,function(q){if(q){return "([eE]"+_98f._integerRegexp({signed:_9cc.eSigned})+")";}return "";});var _9d0=_9cd+_9ce;if(_9ce){_9d0="(?:(?:"+_9d0+")|(?:"+_9ce+"))";}return _9d0+_9cf;};_98f._integerRegexp=function(_9d1){_9d1=_9d1||{};if(!("signed" in _9d1)){_9d1.signed=[true,false];}if(!("separator" in _9d1)){_9d1.separator="";}else{if(!("groupSize" in _9d1)){_9d1.groupSize=3;}}var _9d2=_98e.buildGroupRE(_9d1.signed,function(q){return q?"[-+]":"";},true);var _9d3=_98e.buildGroupRE(_9d1.separator,function(sep){if(!sep){return "(?:\\d+)";}sep=_98e.escapeString(sep);if(sep==" "){sep="\\s";}else{if(sep==" "){sep="\\s\\xa0";}}var grp=_9d1.groupSize,grp2=_9d1.groupSize2;if(grp2){var _9d4="(?:0|[1-9]\\d{0,"+(grp2-1)+"}(?:["+sep+"]\\d{"+grp2+"})*["+sep+"]\\d{"+grp+"})";return ((grp-grp2)>0)?"(?:"+_9d4+"|(?:0|[1-9]\\d{0,"+(grp-1)+"}))":_9d4;}return "(?:0|[1-9]\\d{0,"+(grp-1)+"}(?:["+sep+"]\\d{"+grp+"})*)";},true);return _9d2+_9d3;};return _98f;});},"dojo/request/script":function(){define(["module","./watch","./util","../_base/array","../_base/lang","../on","../dom","../dom-construct","../has","../_base/window"],function(_9d5,_9d6,util,_9d7,lang,on,dom,_9d8,has,win){has.add("script-readystatechange",function(_9d9,_9da){var _9db=_9da.createElement("script");return typeof _9db["onreadystatechange"]!=="undefined"&&(typeof _9d9["opera"]==="undefined"||_9d9["opera"].toString()!=="[object Opera]");});var mid=_9d5.id.replace(/[\/\.\-]/g,"_"),_9dc=0,_9dd=has("script-readystatechange")?"readystatechange":"load",_9de=/complete|loaded/,_9df=this[mid+"_callbacks"]={},_9e0=[];function _9e1(id,url,_9e2){var doc=(_9e2||win.doc),_9e3=doc.createElement("script");_9e3.type="text/javascript";_9e3.src=url;_9e3.id=id;_9e3.async=true;_9e3.charset="utf-8";return doc.getElementsByTagName("head")[0].appendChild(_9e3);};function _9e4(id,_9e5,_9e6){_9d8.destroy(dom.byId(id,_9e5));if(_9df[id]){if(_9e6){_9df[id]=function(){delete _9df[id];};}else{delete _9df[id];}}};function _9e7(dfd){var _9e8=dfd.response.options,_9e9=_9e8.ioArgs?_9e8.ioArgs.frameDoc:_9e8.frameDoc;_9e0.push({id:dfd.id,frameDoc:_9e9});if(_9e8.ioArgs){_9e8.ioArgs.frameDoc=null;}_9e8.frameDoc=null;};function _9ea(dfd,_9eb){if(dfd.canDelete){_9ec._remove(dfd.id,_9eb.options.frameDoc,true);}};function _9ed(_9ee){if(_9e0&&_9e0.length){_9d7.forEach(_9e0,function(_9ef){_9ec._remove(_9ef.id,_9ef.frameDoc);_9ef.frameDoc=null;});_9e0=[];}return _9ee.options.jsonp?!_9ee.data:true;};function _9f0(_9f1){return !!this.scriptLoaded;};function _9f2(_9f3){var _9f4=_9f3.options.checkString;return _9f4&&eval("typeof("+_9f4+") !== \"undefined\"");};function _9f5(_9f6,_9f7){if(this.canDelete){_9e7(this);}if(_9f7){this.reject(_9f7);}else{this.resolve(_9f6);}};function _9ec(url,_9f8,_9f9){var _9fa=util.parseArgs(url,util.deepCopy({},_9f8));url=_9fa.url;_9f8=_9fa.options;var dfd=util.deferred(_9fa,_9ea,_9ed,_9f8.jsonp?null:(_9f8.checkString?_9f2:_9f0),_9f5);lang.mixin(dfd,{id:mid+(_9dc++),canDelete:false});if(_9f8.jsonp){var _9fb=new RegExp("[?&]"+_9f8.jsonp+"=");if(!_9fb.test(url)){url+=_9fb+(_9f8.frameDoc?"parent.":"")+mid+"_callbacks."+dfd.id;}dfd.canDelete=true;_9df[dfd.id]=function(json){_9fa.data=json;dfd.handleResponse(_9fa);};}if(util.notify){util.notify.emit("send",_9fa,dfd.promise.cancel);}if(!_9f8.canAttach||_9f8.canAttach(dfd)){var node=_9ec._attach(dfd.id,url,_9f8.frameDoc);if(!_9f8.jsonp&&!_9f8.checkString){var _9fc=on(node,_9dd,function(evt){if(evt.type==="load"||_9de.test(node.readyState)){_9fc.remove();dfd.scriptLoaded=evt;}});}}_9d6(dfd);return _9f9?dfd:dfd.promise;};_9ec.get=_9ec;_9ec._attach=_9e1;_9ec._remove=_9e4;_9ec._callbacksProperty=mid+"_callbacks";return _9ec;});},"esri/layers/TileInfo":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Point","esri/layers/LOD"],function(_9fd,lang,_9fe,has,_9ff,_a00,_a01,_a02,LOD){var _a03=_9fd(null,{declaredClass:"esri.layers.TileInfo",constructor:function(json){lang.mixin(this,json);this.width=this.cols;this.height=this.rows;var sr=this.spatialReference,ori=this.origin;if(sr){sr=(this.spatialReference=new _a01(sr.toJson?sr.toJson():sr));}if(ori){this.origin=new _a02(ori.toJson?ori.toJson():ori);if(!ori.spatialReference&&sr){this.origin.setSpatialReference(new _a01(sr.toJson()));}}this.lods=_9fe.map(this.lods,function(lod){return new LOD(lod);});},toJson:function(){return _a00.fixJson({rows:this.rows,cols:this.cols,dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin&&this.origin.toJson(),spatialReference:this.spatialReference&&this.spatialReference.toJson(),lods:this.lods&&_9fe.map(this.lods,function(lod){return lod.toJson();})});}});if(has("extend-esri")){lang.setObject("layers.TileInfo",_a03,_9ff);}return _a03;});},"esri/graphic":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/domUtils","esri/lang","esri/InfoTemplate","esri/geometry/jsonUtils","esri/symbols/jsonUtils"],function(_a04,lang,has,_a05,_a06,_a07,_a08,_a09,_a0a){var _a0b=_a04(null,{declaredClass:"esri.Graphic",constructor:function(json,_a0c,_a0d,_a0e){if(json&&!json.declaredClass){this.geometry=json.geometry?_a09.fromJson(json.geometry):null;this.symbol=json.symbol?_a0a.fromJson(json.symbol):null;this.attributes=json.attributes||null;this.infoTemplate=json.infoTemplate?new _a08(json.infoTemplate):null;}else{this.geometry=json;this.symbol=_a0c;this.attributes=_a0d;this.infoTemplate=_a0e;}},_shape:null,_graphicsLayer:null,_visible:true,visible:true,getDojoShape:function(){return this._shape;},getLayer:function(){return this._graphicsLayer;},setGeometry:function(_a0f){this.geometry=_a0f;var gl=this._graphicsLayer;if(gl){gl._updateExtent(this);gl._draw(this,true);}return this;},setSymbol:function(_a10,_a11){var gl=this._graphicsLayer,_a12=this._shape;this.symbol=_a10;if(_a10){this.symbol._stroke=this.symbol._fill=null;}if(gl){if(_a11){if(_a12){gl._removeShape(this);}}gl._draw(this,true);}return this;},setAttributes:function(_a13){this.attributes=_a13;return this;},setInfoTemplate:function(_a14){this.infoTemplate=_a14;return this;},getInfoTemplate:function(){return this._getEffInfoTemplate();},_getEffInfoTemplate:function(){var _a15=this.getLayer();return this.infoTemplate||(_a15&&_a15.infoTemplate);},getTitle:function(){var _a16=this.getInfoTemplate();var _a17=_a16&&_a16.title;if(lang.isFunction(_a17)){_a17=_a17.call(_a16,this);}else{if(lang.isString(_a17)){var _a18=this._graphicsLayer;var func=_a18&&_a18._getDateOpts;_a17=_a07.substitute(this.attributes,_a17,{first:true,dateFormat:func&&func.call(_a18)});}}return _a17;},getContent:function(){var _a19=this.getInfoTemplate();var _a1a=_a19&&_a19.content;if(lang.isFunction(_a1a)){_a1a=_a1a.call(_a19,this);}else{if(lang.isString(_a1a)){var _a1b=this._graphicsLayer;var func=_a1b&&_a1b._getDateOpts;_a1a=_a07.substitute(this.attributes,_a1a,{dateFormat:func&&func.call(_a1b)});}}return _a1a;},show:function(){this.visible=this._visible=true;var _a1c=this._shape,_a1d;if(_a1c){_a1d=_a1c.declaredClass.toLowerCase().indexOf("canvas")===-1?_a1c.getEventSource():null;if(_a1d){_a06.show(_a1d);}}else{if(this._graphicsLayer){this._graphicsLayer._draw(this,true);}}return this;},hide:function(){this.visible=this._visible=false;var _a1e=this._shape,_a1f,_a20;if(_a1e){_a1f=_a1e.declaredClass.toLowerCase().indexOf("canvas")===-1?_a1e.getEventSource():null;if(_a1f){_a06.hide(_a1f);}else{_a20=this._graphicsLayer;if(_a20){_a20._removeShape(this);}}}return this;},toJson:function(){var json={};if(this.geometry){json.geometry=this.geometry.toJson();}if(this.attributes){json.attributes=lang.mixin({},this.attributes);}if(this.symbol){json.symbol=this.symbol.toJson();}if(this.infoTemplate){json.infoTemplate=this.infoTemplate.toJson();}return json;}});if(has("extend-esri")){_a05.Graphic=_a0b;}return _a0b;});},"esri/_coremap":function(){define(["require","dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/Deferred","dojo/_base/lang","dojo/_base/array","dojo/_base/event","dojo/_base/unload","dojo/dom","dojo/dom-attr","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/sniff","dijit/registry","dojox/gfx/matrix","esri/kernel","esri/config","esri/lang","esri/Evented","esri/fx","esri/deferredUtils","esri/tileUtils","esri/geometry/Point","esri/geometry/ScreenPoint","esri/geometry/Extent","esri/geometry/Rect","esri/geometry/mathUtils","esri/geometry/scaleUtils","esri/geometry/screenUtils","esri/geometry/webMercatorUtils","esri/layers/GraphicsLayer","esri/layers/TileInfo","esri/layers/LOD","esri/layers/ArcGISTiledMapServiceLayer","esri/layers/OpenStreetMapLayer","esri/dijit/Popup","dojo/uacss"],function(_a21,_a22,_a23,_a24,_a25,lang,_a26,_a27,_a28,dom,_a29,_a2a,_a2b,_a2c,_a2d,has,_a2e,_a2f,_a30,_a31,_a32,_a33,_a34,_a35,_a36,_a37,_a38,_a39,Rect,_a3a,_a3b,_a3c,_a3d,_a3e,_a3f,LOD,_a40,_a41,_a42){var _a43=_a3c.toMapPoint,_a44=_a3c.toScreenPoint,dc=_a24.connect,ddc=_a24.disconnect,dh=lang.hitch,ds=_a2d.set,iOf=_a26.indexOf,_a45=lang.mixin,uid=0,_a46=_a31.defaults.map,_a47=1000000,_a48=0.75,_a49=0.25,_a4a=3,_a4b=20,_a4c=40;function _a4d(_a4e,_a4f){var lods=_a4e.lods;lods.sort(function(l1,l2){if(l1.scale>l2.scale){return -1;}else{if(l1.scale<l2.scale){return 1;}}return 0;});var _a50=[];lods=_a26.filter(lods,function(l){if(iOf(_a50,l.scale)===-1){_a50.push(l.scale);return true;}});var pl=(_a4f.lods=[]),l;_a26.forEach(lods,function(lod,_a51){l=(pl[_a51]=new LOD(lod));l.level=_a51;});_a4f.tileInfo=new _a3f(_a45(_a4e,{lods:pl}));};var _a52=_a23([_a33],{declaredClass:"esri._CoreMap",resizeDelay:300,invalidExtent:"Map does not have a valid extent.",invalidGeometry:"Geometry (wkid: ${geometry}) cannot be converted to spatial reference of the map (wkid: ${map})",unknownBasemap:"Unable to find basemap definition for: \"${basemapName}\". Try one of these: ${list}",invalidBasemap:"Unable to add basemap: \"${basemapName}\".",unknownLayerType:"Unknown basemap layer type: \"${type}\" found in basemap definition for: \"${basemapName}\".",visible:true,_eventMap:{"basemap-change":true,"extent-change":["extent","delta","levelChange","lod"],"layer-add":["layer"],"layer-add-result":["layer","error"],"layer-remove":["layer"],"layer-reorder":["layer","index"],"layer-resume":["layer"],"layer-suspend":["layer"],"layers-add-result":["layers"],"layers-removed":true,"layers-reordered":["layerIds"],"load":["map"],"pan":["extent","delta"],"pan-end":["extent","delta"],"pan-start":["extent","screenPoint"],"reposition":["x","y"],"resize":["extent","width","height"],"scale":["matrix","immediate"],"time-extent-change":["timeExtent"],"unload":["map"],"update-end":["error"],"update-start":true,"zoom":["extent","zoomFactor","anchor"],"zoom-end":["extent","zoomFactor","anchor","level"],"zoom-start":["extent","zoomFactor","anchor","level"],"click":true,"dbl-click":true,"key-down":true,"key-up":true,"mouse-down":true,"mouse-drag":true,"mouse-drag-end":true,"mouse-drag-start":true,"mouse-move":true,"mouse-out":true,"mouse-over":true,"mouse-up":true,"mouse-wheel":true,"basic-tap":true,"double-tap":true,"pinch-end":true,"pinch-move":true,"pinch-start":true,"processed-double-tap":true,"processed-tap":true,"swipe-end":true,"swipe-move":true,"swipe-start":true,"tap":true,"two-finger-tap":true},constructor:function(_a53,_a54){this.registerConnectEvents();_a45(this,{_internalLayerIds:[],_layers:[],_layerDivs:[],_layerSize:0,_clickHandles:[],_connects:[]});_a45(this,{_zoomAnimDiv:null,_zoomAnim:null,_layersDiv:null,_firstLayerId:null,_delta:null,_cursor:null,_ratioW:1,_ratioH:1,_params:null});_a45(this,{cursor:null,layerIds:[],graphicsLayerIds:[],graphics:null,loaded:false});_a45(this,{__panning:false,__zooming:false,__container:null,root:null,__LOD:null,__tileInfo:null,__visibleRect:null,__visibleDelta:null});this._rids=[];var cont=(this.container=dom.byId(_a53));var id=(this.id=_a29.get(cont,"id")||_a2e.getUniqueId(this.declaredClass));_a2a.add(cont,"map");var box=_a2c.getContentBox(cont),dac=_a2a.add,dcr=_a2b.create;this.position=new _a38(0,0);this._reposition();var _a55=(this.width=(box.w||_a46.width));var _a56=(this.height=box.h||_a46.height);if(box.w===0){ds(cont,"width",_a55+"px");}if(box.h===0){ds(cont,"height",_a56+"px");}var _a57=(this.root=dcr("div",{id:id+"_root",style:{width:_a55+"px",height:_a56+"px",direction:"ltr"}}));dac(_a57,"container");var _a58=(this.__container=dcr("div",{id:id+"_container"},_a57));ds(_a58,"position","absolute");dac(_a58,"container");cont.appendChild(_a57);var _a59=(this._params=_a45({slider:true,nav:false,zoom:-1,minZoom:-1,maxZoom:-1,scale:-1,minScale:0,maxScale:0,showInfoWindowOnClick:true,displayGraphicsOnPan:true,wrapAround180:true,fitExtent:false},_a54||{}));this.wrapAround180=_a59.wrapAround180;if(_a32.isDefined(_a59.resizeDelay)){this.resizeDelay=_a59.resizeDelay;}if(_a59.lods){_a4d({rows:512,cols:512,dpi:96,format:"JPEG",compressionQuality:75,origin:{x:-180,y:90},spatialReference:{wkid:4326},lods:_a59.lods},_a59);this.__tileInfo=_a59.tileInfo;}var ext=(this.extent=_a59.extent);this._extentUtil({mapCenter:_a59.center,targetLevel:_a59.zoom,targetScale:_a59.scale});this.__visibleRect=new Rect(0,0,_a55,_a56);this.__visibleDelta=new Rect(0,0,_a55,_a56);var _a5a=(this._layersDiv=dcr("div",{id:id+"_layers"}));dac(_a5a,"layersDiv");_a58.appendChild(_a5a);this._zoomAnimDiv=dcr("div",{style:{position:"absolute"}});if(_a59.infoWindow){this.infoWindow=_a59.infoWindow;}else{var iw=(this.infoWindow=new _a42(_a59.popupOptions,dcr("div")));iw.startup();iw._ootb=true;ds(iw.domNode,"zIndex",_a4c);}this._zoomStartHandler=dh(this,this._zoomStartHandler);this._zoomingHandler=dh(this,this._zoomingHandler);this._zoomEndHandler=dh(this,this._zoomEndHandler);this._panningHandler=dh(this,this._panningHandler);this._panEndHandler=dh(this,this._panEndHandler);this._endTranslate=dh(this,this._endTranslate);_a28.addOnWindowUnload(this,this.destroy);},_cleanUp:function(){var iw=this.infoWindow;if(iw){if(iw._ootb&&iw.destroy){iw.destroy();}else{iw.unsetMap(this);}delete this.infoWindow;}ddc(this._tsTimeExtentChange_connect);this.setInfoWindowOnClick(false);_a2b.destroy(this.root);this.root=null;},_addLayer:function(_a5b,_a5c,_a5d){var id=(_a5b.id=_a5b.id||(_a5b instanceof _a3e?_a46.graphicsLayerNamePrefix:_a46.layerNamePrefix)+(uid++));this._layers[id]=_a5b;var i,lyr;if(_a5c===this.layerIds||_a5c===this.graphicsLayerIds){i=this._layerSize;this._layerSize++;}_a5b._isRefLayer=(_a5d==="top");_a5d=(!_a32.isDefined(_a5d)||_a5d<0||_a5d>_a5c.length||_a5d==="top")?_a5c.length:_a5d;if(i===0){this._firstLayerId=id;}if(!_a5b._isRefLayer){while((lyr=this.getLayer(_a5c[_a5d-1]))&&lyr._isRefLayer){_a5d--;}}_a5c.splice(_a5d,0,id);var _a5e=dh(this,this._addLayerHandler),self=this,_a5f=this._connects,_a60=function(){if(_a5b.loaded){if(self._onLoadFix){self._onLoadFix=false;setTimeout(function(){_a5e(_a5b);},0);}else{_a5e(_a5b);}}else{self[id+"_addtoken_load"]=dc(_a5b,"onLoad",self,"_addLayerHandler");self[id+"_addtoken_err"]=dc(_a5b,"onError",self,function(_a61){_a5e(_a5b,_a61,_a5c);});}};if(this.loaded||i===0||(_a5b.loaded&&iOf(this.graphicsLayerIds,id)===-1)){_a60();}else{_a5f.push(dc(this,"onLoad",_a60));}return _a5b;},_addLayerHandler:function(_a62,_a63,_a64){var id=this.id,_a65=_a62.id,_a66=iOf(_a62 instanceof _a3e?this.graphicsLayerIds:this.layerIds,_a65),_a67=_a66,_a68=false,_a69=this._params,_a6a,_a6b,_a6c,lods;ddc(this[_a65+"_addtoken_load"]);ddc(this[_a65+"_addtoken_err"]);if(_a63){delete this._layers[_a65];if(_a66!==-1){_a64.splice(_a66,1);this.onLayerAddResult(_a62,_a63);}return;}if(_a66===-1){_a66=iOf(this._internalLayerIds,_a65);_a67=_a4b+_a66;_a68=true;}if(_a65===this._firstLayerId){_a6b=_a62.spatialReference;_a6c=(this.extent&&this.extent.spatialReference);if(_a6c&&!_a6c.equals(_a6b)&&(_a62.tileInfo||!_a62.url)){_a6c=null;}_a6a=(this.spatialReference=(_a6c||_a6b));this.wrapAround180=(this.wrapAround180&&_a6a&&_a6a._isWrappable())?true:false;if(_a62.tileInfo){if(!this.__tileInfo){_a4d(_a45({},_a62.tileInfo),_a69);this.__tileInfo=_a69.tileInfo;}else{lods=this.__tileInfo.lods;this.__tileInfo=_a45({},_a62.tileInfo);this.__tileInfo.lods=lods;}}if(this.wrapAround180){var _a6d=this.__tileInfo,info=_a6a._getInfo();if(!_a6d||Math.abs(info.origin[0]-_a6d.origin.x)>info.dx){this.wrapAround180=false;}if(this.wrapAround180&&_a6d){_a36._addFrameInfo(_a6d,info);}}_a69.units=_a62.units;lods=this.__tileInfo&&this.__tileInfo.lods;if(lods&&lods.length){var _a6e=_a69.minScale,_a6f=_a69.maxScale,_a70=-1,_a71=-1,_a72=false,_a73=false,i;for(i=0;i<lods.length;i++){if(_a6e>0&&!_a72&&_a6e>=lods[i].scale){_a70=lods[i].level;_a72=true;}if(_a6f>0&&!_a73&&_a6f>=lods[i].scale){_a71=(i>0)?lods[i-1].level:-1;_a73=true;}}if(_a69.minZoom===-1){_a69.minZoom=(_a6e===0)?lods[0].level:_a70;}if(_a69.maxZoom===-1){_a69.maxZoom=(_a6f===0)?lods[lods.length-1].level:_a71;}for(i=0;i<lods.length;i++){if(_a69.minZoom===lods[i].level){_a69.minScale=lods[i].scale;}if(_a69.maxZoom===lods[i].level){_a69.maxScale=lods[i].scale;}}}else{_a69.minZoom=_a69.maxZoom=_a69.zoom=-1;}}if(_a62 instanceof _a3e){if(!this._gc){this._gc=new _a3e._GraphicsContainer();var gc=this._gc._setMap(this,this._layersDiv);gc.id=id+"_gc";}var _a74=_a62._setMap(this,this._gc._surface);_a74.id=id+"_"+_a65;this._layerDivs[_a65]=_a74;this._reorderLayers(this.graphicsLayerIds);if(_a69.showInfoWindowOnClick){this._clickHandles.push(dc(_a62,"onClick",this,"_gClickHandler"));}}else{var _a75=_a62._setMap(this,this._layersDiv,_a67,this.__LOD);_a75.id=id+"_"+_a65;this._layerDivs[_a65]=_a75;this._reorderLayers(this.layerIds);if(!_a68&&_a62.declaredClass.indexOf("VETiledLayer")!==-1){this._onBingLayerAdd(_a62);}}if(_a65===this._firstLayerId){this.graphics=new _a3e({id:id+"_graphics",displayOnPan:_a69.displayGraphicsOnPan});this._addLayer(this.graphics,this._internalLayerIds,_a4b);}if(_a62===this.graphics){var _a76,_a77=this._layers[this._firstLayerId],_a78,zoom=_a69.zoom,_a79=_a69.scale,_a7a=_a69.center,_a7b=_a77.initialExtent||_a77.fullExtent;this._firstLayerId=null;if(this.extent){this.extent=this._convertGeometry(this,this.extent);}if(!this.extent&&_a7b){if(_a7a){_a7a=this._convertGeometry(_a7b,_a7a);}if(_a7a){_a7b=_a7b.centerAt(_a7a);_a7a=null;}}_a78=this.extent||(_a7b&&new _a39(_a7b.toJson()));if(_a78){if(zoom>-1){_a78=this.__getExtentForLevel(zoom,null,_a78).extent;}else{if(_a79>0){_a78=_a3b.getExtentForScale(this,_a79,_a78);}}}if(!_a78){console.log("Map: "+this.invalidExtent);return;}_a76=this._fixExtent(_a78,_a69.fitExtent);this.extent=_a76.extent;this.__LOD=_a76.lod;this.__setExtent(this.extent,null,null,_a69.fitExtent);this.loaded=true;this.infoWindow.setMap(this);this.onLoad(this);}if(!_a68){this.onLayerAdd(_a62);this.onLayerAddResult(_a62);}ddc(this[_a65+"_addLayerHandler_connect"]);},_convertGeometry:function(host,_a7c){var _a7d=host&&host.spatialReference,inSR=_a7c&&_a7c.spatialReference;if(_a7d&&inSR&&!_a7d.equals(inSR)){if(_a7d._canProject(inSR)){if(_a7d.isWebMercator()){_a7c=_a3d.geographicToWebMercator(_a7c);}else{if(_a7d.wkid===4326){_a7c=_a3d.webMercatorToGeographic(_a7c,true);}}}else{console.log("Map: "+_a32.substitute({geometry:inSR.wkid||inSR.wkt,map:_a7d.wkid||_a7d.wkt},this.invalidGeometry));_a7c=null;}}return _a7c;},_reorderLayers:function(_a7e){var _a7f=this.onLayerReorder,djp=_a2b.place,_a80=this._layerDivs,_a81=this._layers,gcES=this._gc?this._gc._surface.getEventSource():null;if(_a7e===this.graphicsLayerIds){_a26.forEach(_a7e,function(id,i){var _a82=_a80[id];if(_a82){djp(_a82.getEventSource(),gcES,i);_a7f(_a81[id],i);}});}else{var g=this.graphics,gId=g?g.id:null,_a83=this._layersDiv,_a84;_a26.forEach(_a7e,function(id,i){_a84=_a80[id];if(id!==gId&&_a84){djp(_a84,_a83,i);_a7f(_a81[id],i);}});if(gcES){gcES=(has("ie")<9)?gcES.parentNode:gcES;djp(gcES,gcES.parentNode,_a7e.length);}}this.onLayersReordered([].concat(_a7e));},_zoomStartHandler:function(){this.__zoomStart(this._zoomAnimDiv.startingExtent,this._zoomAnimDiv.anchor);},_zoomingHandler:function(rect){var rl=parseFloat(rect.left),rt=parseFloat(rect.top),_a85=new _a39(rl,rt-parseFloat(rect.height),rl+parseFloat(rect.width),rt,this.spatialReference),_a86=this.extent.getWidth()/_a85.getWidth();this.__zoom(_a85,_a86,this._zoomAnimDiv.anchor);},_zoomEndHandler:function(){var _a87=this._zoomAnimDiv,_a88=_a87.extent,_a89=this.extent.getWidth()/_a88.getWidth();var _a8a=_a87.anchor,_a8b=_a87.newLod,_a8c=_a87.levelChange;_a87.extent=_a87.anchor=_a87.levelChange=_a87.startingExtent=_a87.newLod=this._delta=this._zoomAnim=null;this.__zoomEnd(_a88,_a89,_a8a,_a8b,_a8c);},_panningHandler:function(_a8d){if(isNaN(parseFloat(_a8d.left))||isNaN(parseFloat(_a8d.top))){var _a8e=Math.round,node=this._panAnim.node;_a8d.left=(-1*(this._delta.x-_a8e(this.width/2)))+"px";_a8d.top=(-1*(this._delta.y-_a8e(this.height/2)))+"px";_a2d.set(node,"left",_a8d.left);_a2d.set(node,"top",_a8d.top);}var d=new _a38(parseFloat(_a8d.left),parseFloat(_a8d.top)),dm=this.toMap(d);this.onPan(this.extent.offset(dm.x,dm.y),d);},_panEndHandler:function(node){this.__panning=false;var _a8f=Math.round,_a90=new _a38(-_a8f(parseFloat(node.style.left)),-_a8f(parseFloat(node.style.top))),dx=_a90.x,dy=_a90.y,_a91=this.__visibleRect,_a92=this.__visibleDelta;_a91.x+=-dx;_a91.y+=-dy;_a92.x+=-dx;_a92.y+=-dy;ds(this._zoomAnimDiv,{left:"0px",top:"0px"});var _a93=this.extent,rw=this._ratioW,rh=this._ratioH;_a93=new _a39(_a93.xmin+(dx/rw),_a93.ymin-(dy/rh),_a93.xmax+(dx/rw),_a93.ymax-(dy/rh),this.spatialReference);_a90.setX(-_a90.x);_a90.setY(-_a90.y);this._delta=this._panAnim=null;this._updateExtent(_a93);this.onPanEnd(_a93,_a90);this._fireExtChg([_a93,_a90,false,this.__LOD]);},_fixExtent:function(_a94,fit){var _a95=this._reshapeExtent(_a94),_a96=1+_a49;while(fit===true&&(_a95.extent.getWidth()<_a94.getWidth()||_a95.extent.getHeight()<_a94.getHeight())&&_a95.lod.level>0&&_a96<=_a4a){_a95=this._reshapeExtent(_a94.expand(_a96));_a96+=_a49;}return _a95;},_getFrameWidth:function(){var _a97=-1,info=this.spatialReference._getInfo();if(this.__LOD){var _a98=this.__LOD._frameInfo;if(_a98){_a97=_a98[3];}}else{if(info){_a97=Math.round((2*info.valid[1])/(this.extent.getWidth()/this.width));}}return _a97;},_reshapeExtent:function(_a99){var w=_a99.getWidth(),h=_a99.getHeight(),r=w/h,_a9a=this.width/this.height,dw=0,dh=0;if(this.width>this.height){if(w>h){if(_a9a>r){dw=(h*_a9a)-w;}else{dh=(w/_a9a)-h;}}else{if(w<h){dw=(h*_a9a)-w;}else{dw=(h*_a9a)-w;}}}else{if(this.width<this.height){if(w>h){dh=(w/_a9a)-h;}else{if(w<h){if(_a9a>r){dw=(h*_a9a)-w;}else{dh=(w/_a9a)-h;}}else{dh=(w/_a9a)-h;}}}else{if(w<h){dw=h-w;}else{if(w>h){dh=(w/_a9a)-h;}}}}if(dw){_a99.xmin-=dw/2;_a99.xmax+=dw/2;}if(dh){_a99.ymin-=dh/2;_a99.ymax+=dh/2;}return this._getAdjustedExtent(_a99);},_getAdjustedExtent:function(_a9b){if(this.__tileInfo){return _a36.getCandidateTileInfo(this,this.__tileInfo,_a9b);}else{var _a9c=_a3b.getScale(this,_a9b),_a9d=this.getMinScale(),_a9e=this.getMaxScale(),_a9f=!_a9d||(_a9c<=_a9d),_aa0=!_a9e||(_a9c>=_a9e);if(!_a9f){_a9b=_a3b.getExtentForScale(this,_a9d,_a9b);}else{if(!_aa0){_a9b=_a3b.getExtentForScale(this,_a9e,_a9b);}}return {extent:_a9b};}},_gClickHandler:function(evt){var _aa1=evt.graphic,iw=this.infoWindow;if(_aa1._getEffInfoTemplate()&&iw){_a27.stop(evt);var _aa2=_aa1.geometry,_aa3=(_aa2&&_aa2.type==="point")?_aa2:evt.mapPoint,_aa4,_aa5;if(iw.setFeatures){iw.setFeatures([_aa1]);}else{iw.setTitle(_aa1.getTitle());_aa4=_aa1.getContent();if(_aa4&&lang.isString(_aa4.id)){_aa5=_a2e.byId(_aa4.id);if(_aa5&&_aa5.set&&/_PopupRenderer/.test(_aa5.declaredClass)){_aa5.set("showTitle",false);}}iw.setContent(_aa4);}iw.show(_aa3);}},_onBingLayerAdd:function(_aa6){this["__"+_aa6.id+"_vis_connect"]=_a24.connect(_aa6,"onVisibilityChange",this,"_toggleBingLogo");this._toggleBingLogo(_aa6.visible);},_onBingLayerRemove:function(_aa7){_a24.disconnect(this["__"+_aa7.id+"_vis_connect"]);delete this["__"+_aa7.id+"_vis_connect"];var _aa8=this.layerIds;var _aa9=_a26.some(_aa8,function(_aaa){var _aab=this._layers[_aaa];return _aab&&_aab.visible&&_aab.declaredClass.indexOf("VETiledLayer")!==-1;},this);this._toggleBingLogo(_aa9);},_toggleBingLogo:function(_aac){if(_aac&&!this._bingLogo){var _aad={left:(this._mapParams&&this._mapParams.nav?"25px":"")};if(has("ie")===6){_aad.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', sizingMethod='crop', src='"+_a21.toUrl("esri")+"/images/map/bing-logo-lg.png"+"')";}var _aae=this._bingLogo=_a2b.create("div",{style:_aad},this.root);_a2a.add(_aae,"bingLogo-lg");}else{if(!_aac&&this._bingLogo){_a2b.destroy(this._bingLogo);delete this._bingLogo;}}},__panStart:function(x,y){var _aaf=this._zoomAnim,_ab0=this._panAnim;if(_aaf&&_aaf._active){_aaf.stop();_aaf._fire("onEnd",[_aaf.node]);}else{if(_ab0&&_ab0._active){_ab0.stop();this._panAnim=null;var rect=_ab0.curve.getValue(_ab0._getStep()),rl=Math.round(parseFloat(rect.left)),rt=Math.round(parseFloat(rect.top)),drag=this.navigationManager._dragOrigin;this.__pan(rl,rt);if(drag){drag.x-=rl;drag.y-=rt;}return;}}this.__panning=true;this.onPanStart(this.extent,new _a38(x,y));},__pan:function(dx,dy){var _ab1=this.extent,rw=this._ratioW,rh=this._ratioH;this.onPan(new _a39(_ab1.xmin-(dx/rw),_ab1.ymin+(dy/rh),_ab1.xmax-(dx/rw),_ab1.ymax+(dy/rh),this.spatialReference),new _a38(dx,dy));},__panEnd:function(dx,dy){var _ab2=this.__visibleRect,_ab3=this.__visibleDelta;_ab2.x+=dx;_ab2.y+=dy;_ab3.x+=dx;_ab3.y+=dy;var d=new _a38(dx,dy),_ab4=this.extent,rw=this._ratioW,rh=this._ratioH;_ab4=new _a39(_ab4.xmin-(dx/rw),_ab4.ymin+(dy/rh),_ab4.xmax-(dx/rw),_ab4.ymax+(dy/rh),this.spatialReference);this.__panning=false;this._updateExtent(_ab4);this.onPanEnd(_ab4,d);this._fireExtChg([_ab4,d,false,this.__LOD]);},__zoomStart:function(_ab5,_ab6){this.__zooming=true;this.onZoomStart(_ab5,1,_ab6,this.__LOD?this.__LOD.level:null);},__zoom:function(_ab7,_ab8,_ab9){this.onZoom(_ab7,_ab8,_ab9);},__zoomEnd:function(_aba,_abb,_abc,lod,_abd){ds(this._layersDiv,{left:"0px",top:"0px"});this._delta=new _a38(0,0);this.__visibleRect.x=(this.__visibleRect.y=0);_aba=new _a39(_aba);this.__LOD=lod;this._ratioW=this.width/_aba.getWidth();this._ratioH=this.height/_aba.getHeight();var _abe=this._delta;this._delta=null;this.__zooming=false;this._updateExtent(_aba,_abd);this.onZoomEnd(_aba,_abb,_abc,lod?lod.level:null);this._fireExtChg([_aba,_abe,_abd,lod]);},_extentUtil:function(zoom,pan,_abf,fit,_ac0){var dfd=new _a25(),_ac1,_ac2,_ac3,_ac4,_ac5,_ac6,_ac7,_ac8,dx,dy,_ac9=this.width,_aca=this.height,_acb,_acc,_acd;if(zoom){_ac1=zoom.numLevels;_ac2=zoom.targetLevel;_acb=_a32.isDefined(_ac2);_ac3=zoom.factor;_ac4=zoom.mapAnchor;_ac5=zoom.screenAnchor;_ac6=zoom.mapCenter;_acc=zoom.levelOrFactor;_ac7=zoom.targetScale;_ac8=_a32.isDefined(_ac7)&&_ac7>0;}if(pan){dx=pan.dx;dy=pan.dy;_ac6=pan.mapCenter;}if(lang.isArray(_ac6)){_ac6=new _a37(_ac6);}var _ace=this._panAnim,_acf=this._stopAnim(),_ad0=_acf?_acf.divExtent:this.extent,_ad1=this.__tileInfo,xmin,ymin,ewd,eht,_ad2=this._params;if(!this.loaded){if(_abf){if(_ad0){_abf=this._convertGeometry(_ad0,_abf);}if(_abf){this.extent=_abf;_ad2.zoom=_ad2.scale=-1;_ad2.center=null;}}else{if(_ac6||_acb||_ac8){if(_ac6){if(_ad0){_ac6=this._convertGeometry(_ad0,_ac6);if(_ac6){this.extent=_ad0.centerAt(_ac6);_ad2.center=null;}}else{_ad2.center=_ac6;}}if(_acb&&_ac2>-1){_ad2.zoom=_ac2;_ad2.scale=-1;}else{if(_ac8){_ad2.scale=_ac7;_ad2.zoom=-1;}}}}dfd.resolve();return dfd;}if(_ac6){_ac6=this._convertGeometry(this,_ac6);if(!_ac6){dfd.reject();return dfd;}}if(_ac4){_ac4=this._convertGeometry(this,_ac4);if(!_ac4){dfd.reject();return dfd;}}if(_abf){_abf=this._convertGeometry(this,_abf);if(!_abf){dfd.reject();return dfd;}}if(_ace&&_ac4&&_ac5){_ac4=_a43(this.extent,_ac9,_aca,_ac5);}if(_acf&&_ac4&&_ac5){_ac4=_a43(_acf.divExtent,_ac9,_aca,_ac5);}if(_acb){if(_ad1){var _ad3=this.getMinZoom(),_ad4=this.getMaxZoom();if(_ac2<_ad3){_ac2=_ad3;}else{if(_ac2>_ad4){_ac2=_ad4;}}_ac1=_ac2-(_acf?_acf.level:this.getLevel());}else{_ac1=_ac2>0?-1:1;_acd=_acc?_ac2:null;}}if(_abf){}else{if(_a32.isDefined(_ac1)){var size;if(_ad1){var _ad5=_acf?_acf.level:this.getLevel();size=this.__getExtentForLevel(_ad5+_ac1,_ac6,_ad0).extent;}else{var temp=_acf?_acf.end:this.extent;size=temp.expand(_acd||(_ac1>0?0.5*_ac1:2*-_ac1));if(_acd&&_ac6){size=size.centerAt(_ac6);}}if(size){if(_ac6){_abf=size;}else{var _ad6=_ac4||_ad0.getCenter(),ymax=_ad0.ymax-((size.getHeight()-_ad0.getHeight())*(_ad6.y-_ad0.ymax)/_ad0.getHeight());xmin=_ad0.xmin-((size.getWidth()-_ad0.getWidth())*(_ad6.x-_ad0.xmin)/_ad0.getWidth());_abf=new _a39(xmin,ymax-size.getHeight(),xmin+size.getWidth(),ymax,this.spatialReference);}}}else{if(_ac8){_abf=_a3b.getExtentForScale(this,_ac7,_ad0);}else{if(_a32.isDefined(_ac3)){_abf=_ad0.expand(_ac3);}else{if(dx||dy){if(_acf){var end=_acf.end,c1=end.getCenter(),c2=_a44(end,_ac9,_aca,c1);c2.x+=dx;c2.y+=dy;c2=_a43(end,_ac9,_aca,c2);_abf=end.offset(c2.x-c1.x,c2.y-c1.y);}else{var _ad7=new _a38((_ac9/2)+dx,(_aca/2)+dy),_ad8=_a43(_ad0,_ac9,_aca,_ad7);ewd=_ad0.getWidth();eht=_ad0.getHeight();xmin=_ad8.x-(ewd/2);ymin=_ad8.y-(eht/2);_abf=new _a39(xmin,ymin,xmin+ewd,ymin+eht,this.spatialReference);}}}}}}if(!_abf){if(_ac6){var ext=_acf?_acf.end:_ad0;ewd=ext.getWidth();eht=ext.getHeight();xmin=_ac6.x-(ewd/2);ymin=_ac6.y-(eht/2);_abf=new _a39(xmin,ymin,xmin+ewd,ymin+eht,this.spatialReference);}else{if(_acf){_abf=_acf.end;}}}if(_abf){if(this._extentDfd&&this._extentDfd.fired===-1){this._extentDfd.reject();}this._extentDfd=dfd;this.__setExtent(_abf,null,_ac5,fit,_acf,_ac0);}else{dfd.reject();}return dfd;},__setExtent:function(_ad9,_ada,_adb,fit,_adc,_add){try{if(this._firstLayerId){this.extent=_ad9;return;}var _ade=true,sr=this.spatialReference,ext=_adc?_adc.divExtent:this.extent,_adf=this._fixExtent(_ad9,fit||false);_ad9=_adf.extent;var _ae0=_ad9.getWidth(),_ae1=_ad9.getHeight(),_ae2=Math.round;if(ext){var tw=_ae2(ext.getWidth()*_a47),w=_ae2(_ae0*_a47),th=_ae2(ext.getHeight()*_a47),h=_ae2(_ae1*_a47);_ade=(tw!==w)||(th!==h);}var _ae3,end,_ae4,_ae5,_ae6=_adc&&_adc.rect,_ae7=_adc&&_adc.divExtent;if(_a46.zoomDuration&&_ade&&ext){_ae7=_ae7||new _a39(ext);_ae6=_ae6||{left:ext.xmin,top:ext.ymax,width:ext.getWidth(),height:ext.getHeight()};end={left:_ad9.xmin,top:_ad9.ymax,width:_ae0,height:_ae1};_ae4=_ae6.width/end.width;_ae5=_ae6.height/end.height;var mtl=new _a37(_ad9.xmin,_ad9.ymax,sr),mbl=new _a37(_ad9.xmin,_ad9.ymin,sr),etl=new _a37(this.extent.xmin,this.extent.ymax,sr),ebl=new _a37(this.extent.xmin,this.extent.ymin,sr);_ae3=_a3a.getLineIntersection(etl,mtl,ebl,mbl,sr);if(!_ae3&&!_adc){_ade=false;}}this._ratioW=this.width/_ae0;this._ratioH=this.height/_ae1;var _ae8=this._zoomAnimDiv;if(_ade){ds(this._layersDiv,{left:"0px",top:"0px"});_ada=new _a38(0,0);this.__visibleRect.x=(this.__visibleRect.y=0);if(_ae6&&end){this._delta=_ada;_ae8.id="_zAD";_ae8.startingExtent=_ae7;_ae8.extent=_ad9;_ae8.levelChange=_ade;_ae8.newLod=_adf.lod;if(_adb){_ae8.anchor=_adb;}else{if(!_ae3&&_adc){_ae8.anchor=_adc.anchor;}else{_ae8.anchor=_a44(this.extent,this.width,this.height,_ae3);}}this._zoomAnim=_a34.resize({node:_ae8,start:_ae6,end:end,duration:_a46.zoomDuration,rate:_a46.zoomRate,beforeBegin:!_adc?this._zoomStartHandler:null,onAnimate:this._zoomingHandler,onEnd:this._zoomEndHandler}).play();this._fireOnScale(this.extent.getWidth()/_ad9.getWidth(),_ae8.anchor);}else{this._updateExtent(_ad9,_ade);this._fireExtChg([this.extent,_ada,_ade,(this.__LOD=_adf.lod)]);}}else{if(!this.__panning){if(this.loaded===false||_add){this._updateExtent(_ad9,_ade);this._fireExtChg([this.extent,_ada,_ade,(this.__LOD=_adf.lod)]);}else{this.__panning=true;_ae6=new Rect(0,0,this.width,this.height,this.spatialReference).getCenter();_ae6.x=_ae2(_ae6.x);_ae6.y=_ae2(_ae6.y);this.onPanStart(this.extent,new _a38(0,0));var _ae9=(this._delta=this.toScreen(_ad9.getCenter()));this._panAnim=_a34.slideTo({node:_ae8,left:_ae6.x-_ae9.x,top:_ae6.y-_ae9.y,duration:_a46.panDuration,rate:_a46.panRate,onAnimate:this._panningHandler,onEnd:this._panEndHandler});this._panAnim.play();}}}}catch(e){console.log(e.stack);console.error(e);}},_fireOnScale:function(_aea,_aeb,_aec){if(this.navigationMode==="css-transforms"){var vd=this.__visibleDelta;this.onScale(_a2f.scaleAt(_aea,{x:-1*((this.width/2)-(_aeb.x-vd.x)),y:-1*((this.height/2)-(_aeb.y-vd.y))}),_aec);}},_stopAnim:function(){var _aed=this._zoomAnim,_aee=this._panAnim;if(_aed&&_aed._active){_aed.stop();var rect=_aed.curve.getValue(_aed._getStep()),rl=parseFloat(rect.left),rt=parseFloat(rect.top),node=_aed.node;return {anchor:node.anchor,start:node.startingExtent,end:node.extent,level:node.newLod&&node.newLod.level,rect:rect,divExtent:new _a39(rl,rt-parseFloat(rect.height),rl+parseFloat(rect.width),rt,this.spatialReference)};}else{if(_aee&&_aee._active){_aee.stop();_aee._fire("onEnd",[_aee.node]);}}},__getExtentForLevel:function(_aef,_af0,_af1){var ti=this.__tileInfo,lods=ti&&ti.lods;_aef=_a32.isDefined(_aef)?_aef:0;_af1=_af1||this.extent;_af0=_af0||(_af1&&_af1.getCenter());if(lods){if(!_af0){console.log("Map: "+this.invalidExtent);return;}var _af2=this.getMinZoom(),_af3=this.getMaxZoom();if(_aef>_af3){_aef=_af3;}if(_aef<_af2){_aef=_af2;}var lod=lods[_aef],_af4=this.width*lod.resolution/2,_af5=this.height*lod.resolution/2;return {extent:new _a39(_af0.x-_af4,_af0.y-_af5,_af0.x+_af4,_af0.y+_af5,_af0.spatialReference),lod:lod};}else{if(!_af1){console.log("Map: "+this.invalidExtent);return;}_aef=(!_aef||_aef<1)?1:_aef;return {extent:_af1.expand(_aef).centerAt(_af0)};}},_jobs:0,_incr:function(){if((++this._jobs)===1){this.updating=true;this.onUpdateStart();}},_decr:function(){var _af6=--this._jobs;if(!_af6){this.updating=false;this.onUpdateEnd();}else{if(_af6<0){this._jobs=0;}}},_fireEvent:function(_af7,args){if(this[_af7]){this[_af7].apply(this,args);}},_updateExtent:function(_af8,_af9){this.extent=_af8;if(_af9){this._setClipRect();}var _afa=this.spatialReference;if(_afa){if(_afa.isWebMercator()){this.geographicExtent=_a3d.webMercatorToGeographic(this._getAvailExtent(),true);}else{if(_afa.wkid===4326){this.geographicExtent=new _a39(this._getAvailExtent().toJson());}}}},_fireExtChg:function(args){this._fireEvent("onExtentChange",args);var dfd=this._extentDfd;if(dfd){delete this._extentDfd;dfd.resolve();}},onUpdateStart:function(){},onUpdateEnd:function(){},onLoad:function(){this._setClipRect();},onUnload:function(){},onExtentChange:function(a,b,_afb){},onTimeExtentChange:function(){},onLayerAdd:function(){},onLayerAddResult:function(){},onLayersAddResult:function(){},onLayerRemove:function(){},onLayersRemoved:function(){},onLayerReorder:function(){},onLayersReordered:function(){},onLayerSuspend:function(){},onLayerResume:function(){},onPanStart:function(){},onPan:function(){},onPanEnd:function(){},onScale:function(){},onZoomStart:function(){},onZoom:function(){},onZoomEnd:function(){},onResize:function(){this._setClipRect();},onReposition:function(){},destroy:function(){if(!this._destroyed){this.removeAllLayers();this._cleanUp();if(this._gc){this._gc._cleanUp();}this._destroyed=true;this.onUnload(this);}},setCursor:function(_afc){ds(this.__container,"cursor",(this.cursor=_afc));},setMapCursor:function(c){this.setCursor((this._cursor=c));},resetMapCursor:function(){this.setCursor(this._cursor);},setInfoWindow:function(_afd){var iw=this.infoWindow;if(iw){iw.unsetMap(this);}this.infoWindow=_afd;if(this.loaded&&_afd){_afd.setMap(this);}},setInfoWindowOnClick:function(_afe){var _aff=this._params;if(_afe){if(!_aff.showInfoWindowOnClick){var _b00=[this.graphics].concat(_a26.map(this.graphicsLayerIds,this.getLayer,this));_a26.map(_b00,function(_b01){if(_b01&&_b01.loaded){this._clickHandles.push(dc(_b01,"onClick",this,"_gClickHandler"));}},this);}}else{_a26.forEach(this._clickHandles,ddc);this._clickHandles=[];}_aff.showInfoWindowOnClick=_afe;},getInfoWindowAnchor:function(pt){return (this.infoWindow&&this.infoWindow._getAnchor&&this.infoWindow._getAnchor(pt))||"upperright";},toScreen:function(pt,_b02){return _a44(this.extent,this.width,this.height,pt,_b02);},toMap:function(pt){return _a43(this.extent,this.width,this.height,pt);},addLayer:function(_b03,_b04){if(_b03&&!this.getLayer(_b03.id)){this._addLayer(_b03,_b03 instanceof _a3e?this.graphicsLayerIds:this.layerIds,_b04);}return _b03;},addLayers:function(_b05){var _b06=[],_b07=_b05.length,_b08,i,len=_b05.length;var _b09=function(_b0a,_b0b){if(_a26.indexOf(_b05,_b0a)!==-1){_b07--;_b06.push({"layer":_b0a,"success":!_b0b,"error":_b0b});if(!_b07){_a24.disconnect(_b08);this.onLayersAddResult(_b06);}}};_b08=_a24.connect(this,"onLayerAddResult",_b09);for(i=0;i<len;i++){this.addLayer(_b05[i]);}return this;},removeLayer:function(_b0c,_b0d){var id=_b0c.id,ids=_b0c instanceof _a3e?this.graphicsLayerIds:this.layerIds,i=iOf(ids,id);if(i>=0){ids.splice(i,1);if(_b0c instanceof _a3e){ddc(this["_gl_"+_b0c.id+"_click_connect"]);if(_b0c.loaded){_b0c._unsetMap(this,this._gc._surface);}}else{if(_b0c.loaded){_b0c._unsetMap(this,this._layersDiv);if(_b0c.declaredClass.indexOf("VETiledLayer")!==-1){this._onBingLayerRemove(_b0c);}}}delete this._layers[id];delete this._layerDivs[id];if(!_b0d){this._reorderLayers(ids);}this.onLayerRemove(_b0c);}},removeAllLayers:function(){var ids=this.layerIds,i;for(i=ids.length-1;i>=0;i--){this.removeLayer(this._layers[ids[i]],1);}ids=this.graphicsLayerIds;for(i=ids.length-1;i>=0;i--){this.removeLayer(this._layers[ids[i]],1);}this.onLayersRemoved();},reorderLayer:function(_b0e,_b0f){if(lang.isString(_b0e)){_a22.deprecated(this.declaredClass+": "+"Map.reorderLayer(/*String*/ id, /*Number*/ index) deprecated. Use Map.reorderLayer(/*Layer*/ layer, /*Number*/ index).",null,"v2.0");_b0e=this.getLayer(_b0e);}var id=_b0e.id,i,ids=_b0e instanceof _a3e?this.graphicsLayerIds:this.layerIds;if(_b0f<0){_b0f=0;}else{if(_b0f>=ids.length){_b0f=ids.length-1;}}i=iOf(ids,id);if(i===-1||i===_b0f){return;}ids.splice(i,1);ids.splice(_b0f,0,id);this._reorderLayers(ids);},getLayer:function(id){return this._layers[id];},setExtent:function(_b10,fit){_b10=new _a39(_b10.toJson());var _b11=_b10.getWidth(),_b12=_b10.getHeight(),dfd;if(_b11===0&&_b12===0){dfd=this.centerAt(new _a37({x:_b10.xmin,y:_b10.ymin,spatialReference:_b10.spatialReference&&_b10.spatialReference.toJson()}));}else{dfd=this._extentUtil(null,null,_b10,fit);}return dfd;},centerAt:function(_b13){return this._extentUtil(null,{mapCenter:_b13});},centerAndZoom:function(_b14,_b15){return this._extentUtil({targetLevel:_b15,mapCenter:_b14,levelOrFactor:true});},getScale:function(){return this.__LOD?this.__LOD.scale:_a3b.getScale(this);},getMinScale:function(){return this._params.minScale;},getMaxScale:function(){return this._params.maxScale;},setScale:function(_b16){return this._extentUtil({targetScale:_b16});},getLayersVisibleAtScale:function(_b17){var _b18=[];_b17=_b17||this.getScale();if(_b17){_a26.forEach(this.layerIds.concat(this.graphicsLayerIds),function(_b19){_b19=this.getLayer(_b19);if(_b19.isVisibleAtScale(_b17)){_b18.push(_b19);}},this);}return _b18;},getNumLevels:function(){var _b1a=this.getMinZoom(),_b1b=this.getMaxZoom();return ((_b1a===_b1b)&&_b1a<0)?0:(_b1b-_b1a+1);},getLevel:function(){return this.__LOD?this.__LOD.level:-1;},setLevel:function(_b1c){if(_b1c>-1){return this._extentUtil({targetLevel:_b1c});}},getZoom:function(){return this.getLevel();},setZoom:function(zoom){return this.setLevel(zoom);},getMinZoom:function(){return this._params.minZoom;},getMaxZoom:function(){return this._params.maxZoom;},setBasemap:function(_b1d){var _b1e,_b1f="Map.setBasemap: ";if(lang.isObject(_b1d)){_b1e=_b1d;_b1d=_b1e.title;}else{_b1e=_a46.basemaps&&_a46.basemaps[_b1d];}if(_b1e){if(this._basemapDfd&&this._basemapDfd.fired===-1){this._basemapDfd.cancel();}var _b20=[],_b21=[],_b22=0;_a26.forEach(_b1e.baseMapLayers||_b1e.layers,function(_b23){var _b24,_b25={id:_b23.id,displayLevels:_b23.displayLevels,opacity:_a32.isDefined(_b23.opacity)?_b23.opacity:null,visible:_a32.isDefined(_b23.visibility)?_b23.visibility:null};if(_b23.type){switch(_b23.type){case "OpenStreetMap":_b24=new _a41(_b25);break;default:console.log(_b1f+_a32.substitute({basemapName:_b1d,type:_b23.type},this.unknownLayerType));break;}}else{var url=_b23.url;if(window.location.protocol==="https:"&&((url.search(/^http\:\/\/server\.arcgisonline\.com/i)!==-1)||(url.search(/^http\:\/\/services\.arcgisonline\.com/i)!==-1)||(url.search(/^http\:\/\/.+\.arcgis\.com/i)!==-1))){url=url.replace(/http:/i,"https:");}_b24=new _a40(url,_b25);}if(_b24){_b20.push(_b24);_b21.push(_b23);if(!_b23.isReference){_b22++;}}},this);if(!_b20.length||!_b22){console.log(_b1f+_a32.substitute({basemapName:_b1d},this.invalidBasemap));return;}var _b26={basemapName:_b1d,infos:_b21,layers:_b20};if(!this.loaded){this._basemapLoaded(_b26);return;}var self=this,dfd=new _a25(_a35._dfdCanceller),_b27=function(_b28){dfd._pendingLayers--;var idx=_a26.indexOf(_b26.layers,this);if(idx>-1){var _b29=dfd._layerEvents[idx];if(_b29){_a24.disconnect(_b29[0]);_a24.disconnect(_b29[1]);}}if(dfd._pendingLayers<=0){delete dfd._layerEvents;delete self._basemapDfd;dfd.callback(_b26);}};this._basemapDfd=dfd;dfd._pendingLayers=0;dfd._layerEvents={};_a26.forEach(_b20,function(_b2a,i){if(_b2a){dfd._pendingLayers++;if(_b2a.loaded){_b27(_b2a);}else{dfd._layerEvents[i]=[_a24.connect(_b2a,"onLoad",_b2a,_b27),_a24.connect(_b2a,"onError",_b2a,_b27)];}}});dfd.addCallback(lang.hitch(this,this._basemapLoaded));}else{var _b2b=[],_b2c;for(_b2c in _a46.basemaps){_b2b.push(_b2c);}console.log(_b1f+_a32.substitute({basemapName:_b1d,list:_b2b.join(",")},this.unknownBasemap));}},_basemapLoaded:function(_b2d){var _b2e=_b2d.layers,_b2f=_b2d.infos,_b30=0,_b31=true;if(this.loaded){_a26.forEach(_b2e,function(_b32,i){if(_b32.loaded){if(!_b2f[i].isReference){_b30++;}}});_b31=_b30;}if(_b31){this._removeBasemap();this._basemap=_b2d.basemapName;this.basemapLayerIds=this._addBasemap(_b2e,_b2f);this._fireEvent("onBasemapChange");}},_addBasemap:function(_b33,_b34){var _b35=[],ids=[],_b36=0;_a26.forEach(_b33,function(_b37,i){if(_b34[i].isReference){_b35.push(_b37);}else{this.addLayer(_b37,_b36++);ids.push(_b37.id);}},this);if(_b35.length){_a26.forEach(_b35,function(_b38){this.addLayer(_b38,"top");ids.push(_b38.id);},this);}return ids;},_removeBasemap:function(){var ids=this.basemapLayerIds,_b39;if(ids&&ids.length){_a26.forEach(ids,function(id){_b39=this.getLayer(id);if(_b39){this.removeLayer(_b39);}},this);}},getBasemap:function(){return this._basemap||"";},translate:function(dx,dy){dx=dx||0;dy=dy||0;if(!this._txTimer){this._tx=this._ty=0;var _b3a=this.toScreen(this.extent.getCenter());this.__panStart(_b3a.x,_b3a.y);}this._tx+=dx;this._ty+=dy;this.__pan(this._tx,this._ty);clearTimeout(this._txTimer);this._txTimer=setTimeout(this._endTranslate,150);},_endTranslate:function(){clearTimeout(this._txTimer);this._txTimer=null;var dx=this._tx,dy=this._ty;this._tx=this._ty=0;this.__panEnd(dx,dy);},setTimeExtent:function(_b3b){this.timeExtent=_b3b;var arg=_b3b?new _b3b.constructor(_b3b.toJson()):null;this.onTimeExtentChange(arg);},setTimeSlider:function(_b3c){if(this.timeSlider){ddc(this._tsTimeExtentChange_connect);this._tsTimeExtentChange_connect=null;this.timeSlider=null;}if(_b3c){this.timeSlider=_b3c;this.setTimeExtent(_b3c.getCurrentTimeExtent());this._tsTimeExtentChange_connect=dc(_b3c,"onTimeExtentChange",this,"setTimeExtent");}},setVisibility:function(_b3d){if(this.visible!==_b3d){this.visible=_b3d;if(!_b3d){this._display=this.container.style.display;}this.container.style.display=_b3d?this._display:"none";if(this.autoResize){var _b3e=_b3d?"resume":"pause";this._rszSignal[_b3e]();this._oriSignal[_b3e]();}if(_b3d){this.resize();}}},resize:function(_b3f){var self=this,_b40=function(){clearTimeout(self._resizeT);self.reposition();self._resize();};clearTimeout(self._resizeT);if(_b3f===true){_b40();}else{self._resizeT=setTimeout(_b40,self.resizeDelay);}},_resize:function(){var w=this.width,h=this.height,box=_a2c.getContentBox(this.container);if(w===box.w&&h===box.h){return;}var _b41=this._zoomAnim||this._panAnim;if(_b41){_b41.stop();_b41._fire("onEnd",[_b41.node]);}ds(this.root,{width:(this.width=box.w)+"px",height:(this.height=box.h)+"px"});var wd=this.width,ht=this.height;if(this.attribution&&this.attribution.domNode){_a2d.set(this.attribution.domNode,"width",Math.floor(wd*this._mapParams.attributionWidth)+"px");}this.__visibleRect.update(this.__visibleRect.x,this.__visibleRect.y,wd,ht);this.__visibleDelta.update(this.__visibleDelta.x,this.__visibleDelta.y,wd,ht);var r=new Rect(this.extent),ne=(new Rect(r.x,r.y,r.width*(wd/w),r.height*(ht/h),this.spatialReference)).getExtent();this.onResize(ne,wd,ht);this._extentUtil(null,null,ne,null,true);},reposition:function(){this._reposition();this.onReposition(this.position.x,this.position.y);},_reposition:function(){var pos=_a2c.position(this.container,true),brdr=_a2c.getPadBorderExtents(this.container);this.position.update(pos.x+brdr.l,pos.y+brdr.t);},_setClipRect:function(){delete this._clip;var _b42=has("ie")?"rect(auto,auto,auto,auto)":null;if(this.wrapAround180){var _b43=this.width,_b44=this.height,_b45=this._getFrameWidth(),diff=_b43-_b45;if(diff>0){var left=diff/2;_b42="rect(0px,"+(left+_b45)+"px,"+_b44+"px,"+left+"px)";var _b46=this.extent.getWidth(),_b47=_b46*(_b45/_b43);this._clip=[(_b46-_b47)/2,_b47];}}ds(this.__container,"clip",_b42);},_getAvailExtent:function(){var _b48=this.extent,clip=this._clip;if(clip){if(!_b48._clip){var rect=new Rect(_b48);rect.width=clip[1];rect.x=rect.x+clip[0];_b48._clip=rect.getExtent();}return _b48._clip;}return _b48;},_fixedPan:function(dx,dy){return this._extentUtil(null,{dx:dx,dy:dy});},panUp:function(){return this._fixedPan(0,this.height*-_a48);},panUpperRight:function(){return this._fixedPan(this.width*_a48,this.height*-_a48);},panRight:function(){return this._fixedPan(this.width*_a48,0);},panLowerRight:function(){return this._fixedPan(this.width*_a48,this.height*_a48);},panDown:function(){return this._fixedPan(0,this.height*_a48);},panLowerLeft:function(){return this._fixedPan(this.width*-_a48,this.height*_a48);},panLeft:function(){return this._fixedPan(this.width*-_a48,0);},panUpperLeft:function(){return this._fixedPan(this.width*-_a48,this.height*-_a48);},enableSnapping:function(_b49){_b49=_b49||{};if(_b49.declaredClass==="esri.SnappingManager"){this.snappingManager=_b49;}else{var _b4a=["esri/SnappingManager"],rid=uid++,self=this;this._rids&&this._rids.push(rid);_a21(_b4a,function(_b4b){var idx=self._rids?_a26.indexOf(self._rids,rid):-1;if(idx!==-1){self._rids.splice(idx,1);self.snappingManager=new _b4b(lang.mixin({map:self},_b49));}});}return this.snappingManager;},disableSnapping:function(){if(this.snappingManager){this.snappingManager.destroy();}this.snappingManager=null;}});if(has("extend-esri")){_a30._CoreMap=_a52;}return _a52;});},"esri/geometry/Polyline":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent"],function(_b4c,_b4d,lang,has,_b4e,_b4f,_b50,_b51,_b52,_b53){var _b54={type:"polyline",paths:null};var _b55=_b4c(_b51,{declaredClass:"esri.geometry.Polyline",constructor:function(obj){lang.mixin(this,_b54);this.paths=[];this._path=0;if(obj){if(obj.paths){lang.mixin(this,obj);}else{this.spatialReference=obj;}if(this.spatialReference){this.spatialReference=new _b50(this.spatialReference);}}this.verifySR();},_extent:null,addPath:function(_b56){this._extent=null;this._path=this.paths.length;this.paths[this._path]=[];if(lang.isArray(_b56[0])){_b4d.forEach(_b56,this._addPointArr,this);}else{_b4d.forEach(_b56,this._addPoint,this);}return this;},_addPointArr:function(_b57){this.paths[this._path].push(_b57);},_addPoint:function(_b58){this.paths[this._path].push([_b58.x,_b58.y]);},_insertPoints:function(_b59,_b5a){this._extent=null;this._path=_b5a;if(!this.paths[this._path]){this.paths[this._path]=[];}_b4d.forEach(_b59,this._addPoint,this);},_validateInputs:function(_b5b,_b5c){if((_b5b!==null&&_b5b!==undefined)&&(_b5b<0||_b5b>=this.paths.length)){return false;}if((_b5c!==null&&_b5b!==undefined)&&(_b5c<0||_b5c>=this.paths[_b5b].length)){return false;}return true;},getPoint:function(_b5d,_b5e){if(this._validateInputs(_b5d,_b5e)){return new _b52(this.paths[_b5d][_b5e],this.spatialReference);}},setPoint:function(_b5f,_b60,_b61){if(this._validateInputs(_b5f,_b60)){this._extent=null;this.paths[_b5f][_b60]=[_b61.x,_b61.y];return this;}},insertPoint:function(_b62,_b63,_b64){if(this._validateInputs(_b62)&&_b4f.isDefined(_b63)&&(_b63>=0&&_b63<=this.paths[_b62].length)){this._extent=null;this.paths[_b62].splice(_b63,0,[_b64.x,_b64.y]);return this;}},removePath:function(_b65){if(this._validateInputs(_b65,null)){this._extent=null;var arr=this.paths.splice(_b65,1)[0],i,il=arr.length,sr=this.spatialReference;for(i=0;i<il;i++){arr[i]=new _b52(arr[i],sr);}return arr;}},removePoint:function(_b66,_b67){if(this._validateInputs(_b66,_b67)){this._extent=null;return new _b52(this.paths[_b66].splice(_b67,1)[0],this.spatialReference);}},getExtent:function(){var _b68;if(this._extent){_b68=new _b53(this._extent);_b68._partwise=this._partwise;return _b68;}var _b69=this.paths,pal=_b69.length;if(!pal||!_b69[0].length){return;}var path,_b6a,x,y,xmax,ymax,pa,pt,ptl,xmin=(xmax=_b69[0][0][0]),ymin=(ymax=_b69[0][0][1]),min=Math.min,max=Math.max,sr=this.spatialReference,_b6b=[],_b6c,_b6d,_b6e,_b6f;for(pa=0;pa<pal;pa++){path=_b69[pa];_b6c=(_b6d=path[0]&&path[0][0]);_b6e=(_b6f=path[0]&&path[0][1]);ptl=path.length;for(pt=0;pt<ptl;pt++){_b6a=path[pt];x=_b6a[0];y=_b6a[1];xmin=min(xmin,x);ymin=min(ymin,y);xmax=max(xmax,x);ymax=max(ymax,y);_b6c=min(_b6c,x);_b6e=min(_b6e,y);_b6d=max(_b6d,x);_b6f=max(_b6f,y);}_b6b.push(new _b53({xmin:_b6c,ymin:_b6e,xmax:_b6d,ymax:_b6f,spatialReference:(sr?sr.toJson():null)}));}this._extent={xmin:xmin,ymin:ymin,xmax:xmax,ymax:ymax,spatialReference:sr?sr.toJson():null};this._partwise=_b6b.length>1?_b6b:null;_b68=new _b53(this._extent);_b68._partwise=this._partwise;return _b68;},toJson:function(){var json={paths:lang.clone(this.paths)},sr=this.spatialReference;if(sr){json.spatialReference=sr.toJson();}return json;}});_b55.defaultProps=_b54;if(has("extend-esri")){lang.setObject("geometry.Polyline",_b55,_b4e);_b4e.geometry.defaultPolyline=_b54;}return _b55;});},"esri/layers/LayerTimeOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang"],function(_b70,lang,has,_b71,_b72){var _b73=_b70(null,{declaredClass:"esri.layers.LayerTimeOptions",constructor:function(json){if(json){lang.mixin(this,json);}},toJson:function(){var json={timeDataCumulative:this.timeDataCumulative,timeOffset:this.timeOffset,timeOffsetUnits:this.timeOffsetUnits,useTime:this.useTime};return _b72.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.LayerTimeOptions",_b73,_b71);}return _b73;});},"dojox/gfx/renderer":function(){define("dojox/gfx/renderer",["./_base","dojo/_base/lang","dojo/_base/sniff","dojo/_base/window","dojo/_base/config"],function(g,lang,has,win,_b74){var _b75=null;return {load:function(id,_b76,load){if(_b75&&id!="force"){load(_b75);return;}var _b77=_b74.forceGfxRenderer,_b78=!_b77&&(lang.isString(_b74.gfxRenderer)?_b74.gfxRenderer:"svg,vml,canvas,silverlight").split(","),_b79,_b7a;while(!_b77&&_b78.length){switch(_b78.shift()){case "svg":if("SVGAngle" in win.global){_b77="svg";}break;case "vml":if(has("ie")){_b77="vml";}break;case "silverlight":try{if(has("ie")){_b79=new ActiveXObject("AgControl.AgControl");if(_b79&&_b79.IsVersionSupported("1.0")){_b7a=true;}}else{if(navigator.plugins["Silverlight Plug-In"]){_b7a=true;}}}catch(e){_b7a=false;}finally{_b79=null;}if(_b7a){_b77="silverlight";}break;case "canvas":if(win.global.CanvasRenderingContext2D){_b77="canvas";}break;}}if(_b77==="canvas"&&_b74.canvasEvents!==false){_b77="canvasWithEvents";}if(_b74.isDebug){console.log("gfx renderer = "+_b77);}function _b7b(){_b76(["dojox/gfx/"+_b77],function(_b7c){g.renderer=_b77;_b75=_b7c;load(_b7c);});};if(_b77=="svg"&&typeof window.svgweb!="undefined"){window.svgweb.addOnLoad(_b7b);}else{_b7b();}}};});},"esri/geometry/screenUtils":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/sniff","esri/kernel","esri/geometry/Point","esri/geometry/ScreenPoint","esri/geometry/Polyline","esri/geometry/Polygon","esri/geometry/Multipoint","esri/geometry/Extent"],function(_b7d,lang,has,_b7e,_b7f,_b80,_b81,_b82,_b83,_b84){function _b85(ext,wd,ht,pt,_b86){var _b87=ext.spatialReference,ptSR=pt.spatialReference,x=pt.x,y=pt.y,_b88;if(_b87&&ptSR&&!_b87.equals(ptSR)&&_b87._canProject(ptSR)){_b88=_b87.isWebMercator()?_b7f.lngLatToXY(x,y):_b7f.xyToLngLat(x,y,true);x=_b88[0];y=_b88[1];}x=(x-ext.xmin)*(wd/ext.getWidth());y=(ext.ymax-y)*(ht/ext.getHeight());if(!_b86){x=Math.round(x);y=Math.round(y);}return new _b80(x,y);};function _b89(ext,wd,ht,g){var x=ext.xmin,y=ext.ymax,rwd=wd/ext.getWidth(),rht=ht/ext.getHeight(),_b8a=_b7d.forEach,_b8b=Math.round;if(g instanceof _b7f){return new _b7f(_b8b((g.x-x)*rwd),_b8b((y-g.y)*rht));}else{if(g instanceof _b83){var mp=new _b83(),mpp=mp.points;_b8a(g.points,function(pt,i){mpp[i]=[_b8b((pt[0]-x)*rwd),_b8b((y-pt[1])*rht)];});return mp;}else{if(g instanceof _b84){return new _b84(_b8b((g.xmin-x)*rwd),_b8b((y-g.ymin)*rht),_b8b((g.xmax-x)*rwd),_b8b((y-g.ymax)*rwd));}else{if(g instanceof _b81){var _b8c=new _b81(),_b8d=_b8c.paths,_b8e;_b8a(g.paths,function(path,i){_b8e=(_b8d[i]=[]);_b8a(path,function(pt,j){_b8e[j]=[_b8b((pt[0]-x)*rwd),_b8b((y-pt[1])*rht)];});});return _b8c;}else{if(g instanceof _b82){var pgon=new _b82(),_b8f=pgon.rings,_b90;_b8a(g.rings,function(ring,i){_b90=(_b8f[i]=[]);_b8a(ring,function(pt,j){_b90[j]=[_b8b((pt[0]-x)*rwd),_b8b((y-pt[1])*rht)];});});return pgon;}}}}}};var _b91=(function(){if(has("ie")<9){return function(x,y,rwd,rht,dx,dy,_b92,_b93,_b94){var _b95=[],_b96=Math.round,p,pl=_b92.length,path,_b97,_b98,pt,x1,y1,x2,y2;for(p=0;p<pl;p++){path=_b92[p];pt=_b93?_b93(path[0][0],path[0][1],_b94):path[0];if((_b98=path.length)>1){x1=_b96(((pt[0]-x)*rwd)+dx);y1=_b96(((y-pt[1])*rht)+dy);pt=_b93?_b93(path[1][0],path[1][1],_b94):path[1];x2=_b96(((pt[0]-x)*rwd)+dx);y2=_b96(((y-pt[1])*rht)+dy);_b95.push("M",x1+","+y1,"L",x2+","+y2);for(_b97=2;_b97<_b98;_b97++){pt=_b93?_b93(path[_b97][0],path[_b97][1],_b94):path[_b97];x1=_b96(((pt[0]-x)*rwd)+dx);y1=_b96(((y-pt[1])*rht)+dy);_b95.push(x1+","+y1);}}else{x1=_b96(((pt[0]-x)*rwd)+dx);y1=_b96(((y-pt[1])*rht)+dy);_b95.push("M",x1+","+y1);}}return _b95;};}else{return function(x,y,rwd,rht,dx,dy,_b99,_b9a,_b9b){var _b9c=[],i,j,il,jl,path,pt,_b9d=Math.round;for(i=0,il=_b99?_b99.length:0;i<il;i++){path=_b99[i];_b9c.push("M");for(j=0,jl=path?path.length:0;j<jl;j++){pt=_b9a?_b9a(path[j][0],path[j][1],_b9b):path[j];_b9c.push(_b9d(((pt[0]-x)*rwd)+dx)+","+_b9d(((y-pt[1])*rht)+dy));}}return _b9c;};}}());function _b9e(ext,wd,ht,g,dx,dy){var _b9f=g instanceof _b81,_ba0=ext.spatialReference,_ba1=g.spatialReference,_ba2,_ba3;if(_ba0&&_ba1&&!_ba0.equals(_ba1)&&_ba0._canProject(_ba1)){if(_ba0.isWebMercator()){_ba2=_b7f.lngLatToXY;}else{_ba2=_b7f.xyToLngLat;_ba3=true;}}return _b91(ext.xmin,ext.ymax,wd/ext.getWidth(),ht/ext.getHeight(),dx,dy,_b9f?g.paths:g.rings,_ba2,_ba3);};function _ba4(ext,wd,ht,pt){return new _b7f(ext.xmin+(pt.x/(wd/ext.getWidth())),ext.ymax-(pt.y/(ht/ext.getHeight())),ext.spatialReference);};function _ba5(ext,wd,ht,g){var x=ext.xmin,y=ext.ymax,sr=ext.spatialReference,rwd=wd/ext.getWidth(),rht=ht/ext.getHeight(),_ba6=_b7d.forEach;if(g instanceof _b7f){return new _b7f(x+(g.x/rwd),y-(g.y/rht),sr);}else{if(g instanceof _b83){var mp=new _b83(sr),mpp=mp.points;_ba6(g.points,function(pt,i){mpp[i]=[x+(pt[0]/rwd),y-(pt[1]/rht)];});return mp;}else{if(g instanceof _b84){return new _b84(x+(g.xmin/rwd),y-(g.ymin/rht),x+(g.xmax/rwd),y-(g.ymax/rht),sr);}else{if(g instanceof _b81){var _ba7=new _b81(sr),_ba8=_ba7.paths,_ba9;_ba6(g.paths,function(path,i){_ba9=(_ba8[i]=[]);_ba6(path,function(pt,j){_ba9[j]=[x+(pt[0]/rwd),y-(pt[1]/rht)];});});return _ba7;}else{if(g instanceof _b82){var pgon=new _b82(sr),_baa=pgon.rings,_bab;_ba6(g.rings,function(ring,i){_bab=(_baa[i]=[]);_ba6(ring,function(pt,j){_bab[j]=[x+(pt[0]/rwd),y-(pt[1]/rht)];});});return pgon;}}}}}};var _bac={toScreenPoint:_b85,toScreenGeometry:_b89,_toScreenPath:_b9e,toMapPoint:_ba4,toMapGeometry:_ba5};if(has("extend-esri")){lang.mixin(lang.getObject("geometry",true,_b7e),_bac);}return _bac;});},"esri/geometry/Point":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/SpatialReference","esri/geometry/Geometry"],function(_bad,lang,has,_bae,_baf,_bb0,_bb1){var _bb2=6378137,PI=3.141592653589793,_bb3=57.29577951308232,_bb4=0.017453292519943;function _bb5(rad){return rad*_bb3;};function _bb6(deg){return deg*_bb4;};function _bb7(lng,lat){if(lat>89.99999){lat=89.99999;}else{if(lat<-89.99999){lat=-89.99999;}}var _bb8=_bb6(lat);return [_bb6(lng)*_bb2,_bb2/2*Math.log((1+Math.sin(_bb8))/(1-Math.sin(_bb8)))];};function _bb9(x,y,_bba){var _bbb=_bb5(x/_bb2);if(_bba){return [_bbb,_bb5((PI/2)-(2*Math.atan(Math.exp(-1*y/_bb2))))];}return [_bbb-(Math.floor((_bbb+180)/360)*360),_bb5((PI/2)-(2*Math.atan(Math.exp(-1*y/_bb2))))];};var _bbc={type:"point",x:0,y:0};var _bbd=_bad(_bb1,{declaredClass:"esri.geometry.Point",constructor:function(x,y,_bbe){lang.mixin(this,_bbc);if(lang.isArray(x)){this.x=x[0];this.y=x[1];this.spatialReference=y;}else{if(lang.isObject(x)){lang.mixin(this,x);if(_baf.isDefined(this.latitude)){this.y=this.latitude;}if(_baf.isDefined(this.longitude)){this.x=this.longitude;}if(this.spatialReference){this.spatialReference=new _bb0(this.spatialReference);}}else{this.x=x;this.y=y;this.spatialReference=_bbe;}}this.verifySR();},offset:function(x,y){return new this.constructor(this.x+x,this.y+y,this.spatialReference);},setX:function(x){this.x=x;return this;},setY:function(y){this.y=y;return this;},setLongitude:function(_bbf){var sr=this.spatialReference;if(sr){if(sr._isWebMercator()){this.x=_bb7(_bbf,this.y)[0];}else{if(sr.wkid===4326){this.x=_bbf;}}}return this;},setLatitude:function(_bc0){var sr=this.spatialReference;if(sr){if(sr._isWebMercator()){this.y=_bb7(this.x,_bc0)[1];}else{if(sr.wkid===4326){this.y=_bc0;}}}return this;},getLongitude:function(){var sr=this.spatialReference,_bc1;if(sr){if(sr._isWebMercator()){_bc1=_bb9(this.x,this.y)[0];}else{if(sr.wkid===4326){_bc1=this.x;}}}return _bc1;},getLatitude:function(){var sr=this.spatialReference,_bc2;if(sr){if(sr._isWebMercator()){_bc2=_bb9(this.x,this.y)[1];}else{if(sr.wkid===4326){_bc2=this.y;}}}return _bc2;},update:function(x,y){this.x=x;this.y=y;return this;},normalize:function(){var x=this.x,sr=this.spatialReference;if(sr){var info=sr._getInfo();if(info){var _bc3=info.valid[0],_bc4=info.valid[1],_bc5=2*_bc4,_bc6;if(x>_bc4){_bc6=Math.ceil(Math.abs(x-_bc4)/_bc5);x-=(_bc6*_bc5);}else{if(x<_bc3){_bc6=Math.ceil(Math.abs(x-_bc3)/_bc5);x+=(_bc6*_bc5);}}}}return new this.constructor(x,this.y,sr);},toJson:function(){var json={x:this.x,y:this.y},sr=this.spatialReference;if(sr){json.spatialReference=sr.toJson();}return json;}});_bbd.lngLatToXY=_bb7;_bbd.xyToLngLat=_bb9;_bbd.defaultProps=_bbc;if(has("extend-esri")){lang.setObject("geometry.Point",_bbd,_bae);_bae.geometry.defaultPoint=_bbc;}return _bbd;});},"esri/symbols/LineSymbol":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","dojox/gfx/_base","esri/kernel","esri/symbols/Symbol"],function(_bc7,lang,has,_bc8,_bc9,_bca){var _bcb=_bc7(_bca,{declaredClass:"esri.symbol.LineSymbol",constructor:function(json){if(lang.isObject(json)){this.width=_bc8.pt2px(this.width);}else{this.width=12;}},setWidth:function(_bcc){this.width=_bcc;return this;},toJson:function(){var _bcd=_bc8.px2pt(this.width);_bcd=isNaN(_bcd)?undefined:_bcd;return lang.mixin(this.inherited("toJson",arguments),{width:_bcd});}});if(has("extend-esri")){lang.setObject("symbol.LineSymbol",_bcb,_bc9);}return _bcb;});},"esri/layers/graphics":function(){define(["esri/layers/GraphicsLayer","esri/graphic","esri/renderer"],function(){return {};});},"dojo/window":function(){define(["./_base/lang","./sniff","./_base/window","./dom","./dom-geometry","./dom-style"],function(lang,has,_bce,dom,geom,_bcf){var _bd0={getBox:function(doc){doc=doc||_bce.doc;var _bd1=(doc.compatMode=="BackCompat")?_bce.body(doc):doc.documentElement,_bd2=geom.docScroll(doc),w,h;if(has("touch")){var _bd3=_bd0.get(doc);w=_bd3.innerWidth||_bd1.clientWidth;h=_bd3.innerHeight||_bd1.clientHeight;}else{w=_bd1.clientWidth;h=_bd1.clientHeight;}return {l:_bd2.x,t:_bd2.y,w:w,h:h};},get:function(doc){if(has("ie")&&_bd0!==document.parentWindow){doc.parentWindow.execScript("document._parentWindow = window;","Javascript");var win=doc._parentWindow;doc._parentWindow=null;return win;}return doc.parentWindow||doc.defaultView;},scrollIntoView:function(node,pos){try{node=dom.byId(node);var doc=node.ownerDocument||_bce.doc,body=_bce.body(doc),html=doc.documentElement||body.parentNode,isIE=has("ie"),isWK=has("webkit");if((!(has("mozilla")||isIE||isWK||has("opera"))||node==body||node==html)&&(typeof node.scrollIntoView!="undefined")){node.scrollIntoView(false);return;}var _bd4=doc.compatMode=="BackCompat",_bd5=(isIE>=9&&"frameElement" in node.ownerDocument.parentWindow)?((html.clientHeight>0&&html.clientWidth>0&&(body.clientHeight==0||body.clientWidth==0||body.clientHeight>html.clientHeight||body.clientWidth>html.clientWidth))?html:body):(_bd4?body:html),_bd6=isWK?body:_bd5,_bd7=_bd5.clientWidth,_bd8=_bd5.clientHeight,rtl=!geom.isBodyLtr(doc),_bd9=pos||geom.position(node),el=node.parentNode,_bda=function(el){return ((isIE<=6||(isIE&&_bd4))?false:(_bcf.get(el,"position").toLowerCase()=="fixed"));};if(_bda(node)){return;}while(el){if(el==body){el=_bd6;}var _bdb=geom.position(el),_bdc=_bda(el);if(el==_bd6){_bdb.w=_bd7;_bdb.h=_bd8;if(_bd6==html&&isIE&&rtl){_bdb.x+=_bd6.offsetWidth-_bdb.w;}if(_bdb.x<0||!isIE){_bdb.x=0;}if(_bdb.y<0||!isIE){_bdb.y=0;}}else{var pb=geom.getPadBorderExtents(el);_bdb.w-=pb.w;_bdb.h-=pb.h;_bdb.x+=pb.l;_bdb.y+=pb.t;var _bdd=el.clientWidth,_bde=_bdb.w-_bdd;if(_bdd>0&&_bde>0){_bdb.w=_bdd;_bdb.x+=(rtl&&(isIE||el.clientLeft>pb.l))?_bde:0;}_bdd=el.clientHeight;_bde=_bdb.h-_bdd;if(_bdd>0&&_bde>0){_bdb.h=_bdd;}}if(_bdc){if(_bdb.y<0){_bdb.h+=_bdb.y;_bdb.y=0;}if(_bdb.x<0){_bdb.w+=_bdb.x;_bdb.x=0;}if(_bdb.y+_bdb.h>_bd8){_bdb.h=_bd8-_bdb.y;}if(_bdb.x+_bdb.w>_bd7){_bdb.w=_bd7-_bdb.x;}}var l=_bd9.x-_bdb.x,t=_bd9.y-Math.max(_bdb.y,0),r=l+_bd9.w-_bdb.w,bot=t+_bd9.h-_bdb.h;if(r*l>0){var s=Math[l<0?"max":"min"](l,r);if(rtl&&((isIE==8&&!_bd4)||isIE>=9)){s=-s;}_bd9.x+=el.scrollLeft;el.scrollLeft+=s;_bd9.x-=el.scrollLeft;}if(bot*t>0){_bd9.y+=el.scrollTop;el.scrollTop+=Math[t<0?"max":"min"](t,bot);_bd9.y-=el.scrollTop;}el=(el!=_bd6)&&!_bdc&&el.parentNode;}}catch(error){console.error("scrollIntoView: "+error);node.scrollIntoView(false);}}};1&&lang.setObject("dojo.window",_bd0);return _bd0;});},"esri/TouchEvents":function(){define(["dojo/_base/declare","dojo/_base/html","dojo/_base/lang","dojo/_base/sniff","dojo/dom","esri/kernel","esri/Evented","esri/geometry/Point","esri/geometry/ScreenPoint"],function(_bdf,html,lang,has,dom,_be0,_be1,_be2,_be3){var _be4=_bdf([_be1],{declaredClass:"esri.TouchEvents",tapRadius:8,doubleTapRadius:10,tapStartTolerance:50,doubleTapDuration:300,map:null,constructor:function(node,_be5){this.node=node;lang.mixin(this,_be5);html.setSelectable(node,false);this._touchStart=lang.hitch(this,this._touchStart);this._touchMove=lang.hitch(this,this._touchMove);this._touchEnd=lang.hitch(this,this._touchEnd);this._touchCancel=lang.hitch(this,this._touchCancel);node.addEventListener("touchstart",this._touchStart,false);node.addEventListener("touchmove",this._touchMove,false);node.addEventListener("touchend",this._touchEnd,false);node.addEventListener("touchcancel",this._touchCancel,false);if(this.map){this._mouseOver=lang.hitch(this,this._mouseOver);this._mouseOut=lang.hitch(this,this._mouseOut);this._mouseDown=lang.hitch(this,this._mouseDown);this._mouseUp=lang.hitch(this,this._mouseUp);this._mouseClick=lang.hitch(this,this._mouseClick);node.addEventListener("mouseover",this._mouseOver,false);node.addEventListener("mouseout",this._mouseOut,false);node.addEventListener("mousedown",this._mouseDown,false);node.addEventListener("mouseup",this._mouseUp,false);node.addEventListener("click",this._mouseClick,false);}this._numTouches=0;this._nodeTouches=[];this._touches={};this._touchIds=[];this._taps=[];this._immediate=false;},_touchStart:function(_be6){var _be7=this._touches,i,len=_be6.changedTouches.length,_be8,info,_be9,_bea,ts=(new Date()).getTime();if(has("android")&&has("safari")&&_be6.targetTouches.length===1&&_be6.touches.length===_be6.targetTouches.length&&_be6.targetTouches.length===_be6.changedTouches.length&&_be6.changedTouches[0].identifier===0&&_be7[_be6.changedTouches[0].identifier]){return;}this._addTouch(_be6);for(i=0;i<len;i++){_be8=_be6.changedTouches[i];info=(_be7[_be8.identifier]={});info.startX=_be8.pageX;info.startY=_be8.pageY;info.startTS=ts;if(this._touchIds.indexOf(_be8.identifier)===-1){this._touchIds.push(_be8.identifier);}}if(this._swipeActive){_be9=this._nodeTouches[0];}if(this._pinchActive){_bea=this._nodeTouches[1];}if(this._numTouches===1){if(this._swipeActive){this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_be6,_be9));}else{if(this._pinchActive){this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_be6,[_be9,_bea]));}}}else{if(this._numTouches===2){if(this._swipeActive){if(_be9){info=_be7[this._touchIds[0]];info.startX=_be9.pageX;info.startY=_be9.pageY;info.moved=false;}this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_be6,_be9));}}else{if(this._swipeActive){this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_be6,_be9));}else{if(this._pinchActive){this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_be6,[_be9,_bea]));}}}}},_touchMove:function(_beb){_beb.preventDefault();this._updateTouch(_beb);var _bec=this._touches,i,len=_beb.changedTouches.length,_bed,info,dx,dy,_bee;if(has("android")&&has("safari")&&_beb.targetTouches.length===1&&_beb.touches.length===_beb.targetTouches.length&&_beb.targetTouches.length===_beb.changedTouches.length&&_beb.changedTouches[0].identifier===0&&_bec[_beb.changedTouches[0].identifier]&&this._touchIds.length>1){return;}for(i=0;i<len;i++){_bed=_beb.changedTouches[i];info=_bec[_bed.identifier];if(!info){continue;}dx=Math.abs(_bed.pageX-info.startX);dy=Math.abs(_bed.pageY-info.startY);if(!info.moved&&((dx>=this.tapRadius)||(dy>=this.tapRadius))){info.moved=info.absMoved=true;}_bee=_bee?_bee:info.moved;}if(this._numTouches===1){var _bef=_beb.changedTouches[0];if(!this._swipeActive){if(_bee){this._swipeActive=true;this._fire("onSwipeStart",this._processTouchEvent(_beb,_bef));}}else{this._fire("onSwipeMove",this._processTouchEvent(_beb,_bef));}}else{if(this._numTouches===2){var _bf0=this._nodeTouches[0],_bf1=this._nodeTouches[1];if(!this._pinchActive){if(_bee){var _bf2=_bec[_bf0.identifier],_bf3=_bec[_bf1.identifier],_bf4=Math.abs(_bf2.startX-_bf3.startX),_bf5=Math.abs(_bf2.startY-_bf3.startY),_bf6=Math.sqrt((_bf4*_bf4)+(_bf5*_bf5)),_bf7=Math.abs(_bf0.pageX-_bf1.pageX),_bf8=Math.abs(_bf0.pageY-_bf1.pageY),_bf9=Math.sqrt((_bf7*_bf7)+(_bf8*_bf8));if(Math.abs(_bf9-_bf6)>=(2*this.tapRadius)){this._pinchActive=true;this._fire("onPinchStart",this._processTouchEvent(_beb,[_bf0,_bf1]));}}}else{this._fire("onPinchMove",this._processTouchEvent(_beb,[_bf0,_bf1]));}}}},_touchEnd:function(_bfa){this._removeTouch(_bfa);var _bfb=this._touches,_bfc=_bfa.changedTouches,i,len=_bfc.length,_bfd,info,ts=(new Date()).getTime(),ids=this._touchIds;for(i=0;i<len;i++){info=_bfb[_bfc[i].identifier];if(!info){continue;}if(info.absMoved){_bfd=true;}info.pageX=_bfc[i].pageX;info.pageY=_bfc[i].pageY;info.endTS=ts;}if(this._numTouches===0){this._touches={};this._touchIds=[];if(this._swipeActive){this._swipeActive=false;this._fire("onSwipeEnd",this._processTouchEvent(_bfa,_bfc[0]));}else{if(this._pinchActive){this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_bfa,_bfc));}else{if(!_bfd){var _bfe=Infinity,_bff=-Infinity,_c00=Infinity,_c01=-Infinity,_c02=this.tapStartTolerance,_c03=[],_c04=true;for(i=0;i<ids.length;i++){info=_bfb[ids[i]];_c03.push(info);if(info.startTS<_bfe){_bfe=info.startTS;}if(info.startTS>_bff){_bff=info.startTS;}if(info.endTS<_c00){_c00=info.endTS;}if(info.endTS>_c01){_c01=info.endTS;}delete _bfb[ids[i]];}if(_c03.length===1&&_bfc[0]){var dx=Math.abs(_bfc[0].pageX-_c03[0].startX),dy=Math.abs(_bfc[0].pageY-_c03[0].startY);if((dx>=this.tapRadius)||(dy>=this.tapRadius)){_c04=false;}}if(_c04&&Math.abs(_bff-_bfe)<=_c02&&Math.abs(_c01-_c00)<=_c02){this._basicTap(_bfa,_c03);}}}}}else{if(this._numTouches===1){if(this._pinchActive){var _c05=this._nodeTouches[0];info=_bfb[_c05.identifier];info.startX=_c05.pageX;info.startY=_c05.pageY;info.moved=false;this._pinchActive=false;this._fire("onPinchEnd",this._processTouchEvent(_bfa,[_bfc[0],_c05]));}}}},_touchCancel:function(_c06){if(this._numTouches){this._touchEnd(_c06);}},_basicTap:function(_c07,_c08){var ts=(new Date()).getTime(),self=this;_c07=this._processTouchEvent(_c07,_c08);this._taps.push({touchInfos:_c08,ts:ts,event:_c07});if(this._taps.length>2){this._taps.shift();}this._fire("onBasicTap",_c07);clearTimeout(this._tapTimer);if(this._immediate){this._analyzeTap(true);}else{var _c09=(this._taps.length===2)?(this.doubleTapDuration/2):this.doubleTapDuration;this._tapTimer=setTimeout(function(){var that=self;self=null;clearTimeout(that._tapTimer);that._analyzeTap();},_c09);}},_analyzeTap:function(_c0a){var taps=this._taps,_c0b=taps[0],_c0c=taps[1],_c0d=_c0b.touchInfos,_c0e=_c0c&&_c0c.touchInfos;if(!taps.length){return;}if(!_c0a){this._taps=[];}if(_c0b&&_c0c){if(_c0d.length===_c0e.length){if((_c0c.ts-_c0b.ts)<=this.doubleTapDuration){var _c0f,dx,dy;if(_c0d.length===1){dx=Math.abs(_c0d[0].startX-_c0e[0].startX);dy=Math.abs(_c0d[0].startY-_c0e[0].startY);_c0f=(dx<=this.doubleTapRadius)&&(dy<=this.doubleTapRadius);}else{_c0f=true;}if(_c0f){this._processedDoubleTap(taps);}else{this._processedTap(_c0c);}}else{this._processedTap(_c0c);}}else{this._processedTap(_c0c);}}else{this._processedTap(_c0b||_c0c);}},_processedTap:function(tap){var _c10=tap.event;this._fire("onProcessedTap",_c10);if(tap.touchInfos.length===1){this._fire("onTap",this._fixEvent(_c10));}else{if(tap.touchInfos.length===2){this._fire("onTwoFingerTap",_c10);}}},_processedDoubleTap:function(taps){var _c11=(taps[1].touchInfos.length===1),_c12,evts;if(_c11){_c12=[this._fixEvent(taps[0].event),this._fixEvent(taps[1].event)];_c12[1].relatedEvents=_c12;}evts=[taps[0].event,taps[1].event];evts[1].relatedEvents=evts;this._fire("onProcessedDoubleTap",evts[1]);if(_c11){this._fire("onDoubleTap",_c12[1]);this._fire("onDblClick",_c12[1]);}},_addTouch:function(_c13){var i,_c14=_c13.changedTouches,_c15=this._nodeTouches,j,_c16,_c17;this._numTouches+=_c14.length;for(i=0;i<_c14.length;i++){_c16=_c15.length;_c17=false;for(j=0;j<_c16;j++){_c17=(_c15[j].identifier===_c14[i].identifier);if(_c17){break;}}if(_c17){this._numTouches--;}else{_c15.push(_c14[i]);}}for(i=_c15.length-1;i>=0;i--){if(!dom.isDescendant(_c15[i].target,document.body)){_c15.splice(i,1);this._numTouches--;}}if(this._numTouches<0){this._numTouches=0;}},_removeTouch:function(_c18){var i,_c19=[],_c1a=[],_c1b=_c18.changedTouches,_c1c=this._nodeTouches;this._numTouches-=_c1b.length;if(this._numTouches<0){this._numTouches=0;}for(i=0;i<_c1b.length;i++){_c19.push(_c1b[i].identifier);}for(i=_c1c.length-1;i>=0;i--){if(_c19.indexOf(_c1c[i].identifier)!==-1){_c1a.push(_c1c.splice(i,1)[0]);}}return _c1a;},_updateTouch:function(_c1d){var i,ids=[],idx,_c1e=_c1d.changedTouches,_c1f=this._nodeTouches;for(i=0;i<_c1e.length;i++){ids.push(_c1e[i].identifier);}for(i=0;i<_c1f.length;i++){idx=ids.indexOf(_c1f[i].identifier);if(idx!==-1){_c1f.splice(i,1,_c1e[idx]);}}},_mouseOver:function(_c20){this._fire("onMouseOver",this._processMouseEvent(_c20));},_mouseOut:function(_c21){this._fire("onMouseOut",this._processMouseEvent(_c21));},_mouseDown:function(_c22){this._fire("onMouseDown",this._processMouseEvent(_c22));},_mouseUp:function(_c23){this._fire("onMouseUp",this._processMouseEvent(_c23));},_mouseClick:function(_c24){this._fire("onClick",this._processMouseEvent(_c24));},_fire:function(_c25,evt){if(this[_c25]){this[_c25](evt);}if(this.map){if(this.map[_c25]){this.map[_c25](evt);}}},_fixEvent:function(_c26){var _c27={},i;for(i in _c26){_c27[i]=_c26[i];}if(this.map){_c27.screenPoint=_c27.screenPoints[0];_c27.mapPoint=_c27.mapPoints[0];}return _c27;},_processTouchEvent:function(evt,_c28){var map=this.map,pos=map&&map.position,_c29=0;if(pos&&_c28){if(lang.isArray(_c28)){var i,_c2a;evt.screenPoints=[];evt.mapPoints=[];for(i=0;i<_c28.length;i++){if(_c28[i]){_c2a=new _be3(_c28[i].pageX-pos.x,_c28[i].pageY-pos.y);evt.screenPoints.push(_c2a);evt.mapPoints.push(map.extent?map.toMap(_c2a):new _be2());}else{_c29++;}}}else{evt.screenPoint=new _be3(_c28.pageX-pos.x,_c28.pageY-pos.y);evt.mapPoint=map.extent?map.toMap(evt.screenPoint):new _be2();}}evt.numPoints=_c28?(lang.isArray(_c28)?(_c28.length-_c29):1):0;return evt;},_processMouseEvent:function(evt){var map=this.map,pos=map&&map.position;if(pos){evt.screenPoint=new _be3(evt.pageX-pos.x,evt.pageY-pos.y);evt.mapPoint=map.extent?map.toMap(evt.screenPoint):new _be2();}return evt;},setImmediateTap:function(_c2b){this._immediate=_c2b;},destroy:function(){var node=this.node;node.removeEventListener("touchstart",this._touchStart,false);node.removeEventListener("touchmove",this._touchMove,false);node.removeEventListener("touchend",this._touchEnd,false);node.removeEventListener("touchcancel",this._touchCancel,false);if(this.map){node.removeEventListener("mouseover",this._mouseOver,false);node.removeEventListener("mouseout",this._mouseOut,false);node.removeEventListener("mousedown",this._mouseDown,false);node.removeEventListener("mouseup",this._mouseUp,false);node.removeEventListener("click",this._mouseClick,false);}html.setSelectable(node,true);clearTimeout(this._tapTimer);this.node=this.map=this._numTouches=this._nodeTouches=this._touches=this._touchIds=this._taps=null;}});if(has("extend-esri")){_be0.TouchEvents=_be4;}return _be4;});},"esri/InfoWindowBase":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/_base/connect","dojo/_base/Deferred","dojo/dom-construct","dojo/has","dijit/registry","esri/kernel","esri/lang","esri/geometry/ScreenPoint"],function(_c2c,lang,_c2d,_c2e,_c2f,_c30,has,_c31,_c32,_c33,_c34){var _c35=_c2c(null,{declaredClass:"esri.InfoWindowBase",constructor:function(){var _c36=lang.hitch;this.__set_title=_c36(this,this.__set_title);this.__err_title=_c36(this,this.__err_title);this.__set_content=_c36(this,this.__set_content);this.__err_content=_c36(this,this.__err_content);},setMap:function(map){this.map=map;},unsetMap:function(map){delete this.map;},setTitle:function(){},setContent:function(){},show:function(){},hide:function(){},resize:function(){},onShow:function(){},onHide:function(){},place:function(_c37,_c38){if(_c33.isDefined(_c37)){if(lang.isObject(_c37)){_c30.place(_c37,_c38,"only");}else{_c38.innerHTML=_c37;}}else{_c38.innerHTML="";}},startupDijits:function(node){this._processDijits(node);},destroyDijits:function(node){this._processDijits(node,true);},_processDijits:function(node,_c39){if(node&&node.children.length===1){var _c3a=node.children[0];if(_c3a){var _c3b=_c31.byNode(_c3a);var _c3c=_c3b?[_c3b]:_c31.findWidgets(_c3a);_c2d.forEach(_c3c,function(_c3d){if(_c39){if(_c3d._started&&!_c3d._destroyed){try{if(_c3d.destroyRecursive){_c3d.destroyRecursive();}else{if(_c3d.destroy){_c3d.destroy();}}}catch(ex){console.debug("An error occurred when destroying a widget embedded within InfoWindow: "+ex.message);}}}else{if(!_c3d._started){try{_c3d.startup();}catch(ex2){console.debug("An error occurred when starting a widget embedded within InfoWindow: "+ex2.message);}}}});}}},__registerMapListeners:function(){this.__unregisterMapListeners();var map=this.map;this.__handles=[_c2e.connect(map,"onPan",this,this.__onMapPan),_c2e.connect(map,"onZoomStart",this,this.__onMapZmStart),_c2e.connect(map,"onExtentChange",this,this.__onMapExtChg)];},__unregisterMapListeners:function(){var _c3e=this.__handles;if(_c3e){_c2d.forEach(_c3e,_c2e.disconnect,_c2e);this.__handles=null;}},__onMapPan:function(_c3f,_c40){this.move(_c40,true);},__onMapZmStart:function(){this.__mcoords=this.mapCoords||this.map.toMap(new _c34(this.coords));this.hide(null,true);},__onMapExtChg:function(_c41,_c42,_c43){var map=this.map,_c44=this.mapCoords;if(_c44){this.show(_c44,null,true);}else{var _c45;if(_c43){_c45=map.toScreen(this.__mcoords);}else{_c45=this.coords.offset((_c42&&_c42.x)||0,(_c42&&_c42.y)||0);}this.show(_c45,null,true);}},__setValue:function(_c46,_c47){this[_c46].innerHTML="";var dfd="_dfd"+_c46,_c48=this[dfd];if(_c48&&_c48.fired===-1){_c48.cancel();this[dfd]=null;}if(_c33.isDefined(_c47)){if(_c47 instanceof _c2f){this[dfd]=_c47;_c47.addCallbacks(this["__set"+_c46],this["__err"+_c46]);}else{this.__render(_c46,_c47);}}},__set_title:function(_c49){this._dfd_title=null;this.__render("_title",_c49);},__err_title:function(_c4a){this._dfd_title=null;},__set_content:function(_c4b){this._dfd_content=null;this.__render("_content",_c4b);},__err_content:function(_c4c){this._dfd_content=null;},__render:function(_c4d,_c4e){var node=this[_c4d];this.place(_c4e,node);if(this.isShowing){this.startupDijits(node);if(_c4d==="_title"&&this._adjustContentArea){this._adjustContentArea();}}}});if(has("extend-esri")){_c32.InfoWindowBase=_c35;}return _c35;});},"esri/TimeExtent":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel"],function(_c4f,lang,has,_c50){var _c51=_c4f(null,{declaredClass:"esri.TimeExtent",constructor:function(json){if(arguments.length>1){this._create(arguments[0],arguments[1]);}else{if(json){if(lang.isArray(json)){var _c52=json[0],end=json[1];this.startTime=(_c52===null||_c52==="null")?null:new Date(_c52);this.endTime=(end===null||end==="null")?null:new Date(end);}else{if(json instanceof Date){this._create(json,null);}}}}},offset:function(_c53,_c54){var _c55=new _c51();var _c56=this.startTime,end=this.endTime;if(_c56){_c55.startTime=this._getOffsettedDate(_c56,_c53,_c54);}if(end){_c55.endTime=this._getOffsettedDate(end,_c53,_c54);}return _c55;},intersection:function(_c57){return this._intersection(this,_c57);},toJson:function(){var _c58=[];var _c59=this.startTime;_c58.push(_c59?_c59.getTime():"null");var end=this.endTime;_c58.push(end?end.getTime():"null");return _c58;},_create:function(_c5a,end){this.startTime=_c5a?new Date(_c5a.getTime()):null;this.endTime=end?new Date(end.getTime()):null;},_refData:{"esriTimeUnitsMilliseconds":{getter:"getUTCMilliseconds",setter:"setUTCMilliseconds",multiplier:1},"esriTimeUnitsSeconds":{getter:"getUTCSeconds",setter:"setUTCSeconds",multiplier:1},"esriTimeUnitsMinutes":{getter:"getUTCMinutes",setter:"setUTCMinutes",multiplier:1},"esriTimeUnitsHours":{getter:"getUTCHours",setter:"setUTCHours",multiplier:1},"esriTimeUnitsDays":{getter:"getUTCDate",setter:"setUTCDate",multiplier:1},"esriTimeUnitsWeeks":{getter:"getUTCDate",setter:"setUTCDate",multiplier:7},"esriTimeUnitsMonths":{getter:"getUTCMonth",setter:"setUTCMonth",multiplier:1},"esriTimeUnitsYears":{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:1},"esriTimeUnitsDecades":{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:10},"esriTimeUnitsCenturies":{getter:"getUTCFullYear",setter:"setUTCFullYear",multiplier:100}},_intersection:function(_c5b,_c5c){if(_c5b&&_c5c){var _c5d=_c5b.startTime,end1=_c5b.endTime;var _c5e=_c5c.startTime,end2=_c5c.endTime;_c5d=_c5d?_c5d.getTime():-Infinity;_c5e=_c5e?_c5e.getTime():-Infinity;end1=end1?end1.getTime():Infinity;end2=end2?end2.getTime():Infinity;var _c5f,end;if(_c5e>=_c5d&&_c5e<=end1){_c5f=_c5e;}else{if(_c5d>=_c5e&&_c5d<=end2){_c5f=_c5d;}}if(end1>=_c5e&&end1<=end2){end=end1;}else{if(end2>=_c5d&&end2<=end1){end=end2;}}if(!isNaN(_c5f)&&!isNaN(end)){var _c60=new _c51();_c60.startTime=(_c5f===-Infinity)?null:new Date(_c5f);_c60.endTime=(end===Infinity)?null:new Date(end);return _c60;}else{return null;}}else{return null;}},_getOffsettedDate:function(_c61,_c62,_c63){var data=this._refData;var _c64=new Date(_c61.getTime());if(_c62&&_c63){data=data[_c63];_c64[data.setter](_c64[data.getter]()+(_c62*data.multiplier));}return _c64;}});if(has("extend-esri")){_c50.TimeExtent=_c51;}return _c51;});},"esri/layers/LayerMapSource":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/LayerSource"],function(_c65,lang,has,_c66,_c67,_c68){var _c69=_c65(_c68,{declaredClass:"esri.layers.LayerMapSource",type:"mapLayer",toJson:function(){var json={type:"mapLayer",mapLayerId:this.mapLayerId,gdbVersion:this.gdbVersion};return _c67.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.LayerMapSource",_c69,_c66);}return _c69;});},"esri/geometry/geodesicUtils":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference","esri/geometry/Point","esri/geometry/Polyline","esri/geometry/Polygon"],function(_c6a,lang,has,_c6b,_c6c,_c6d,_c6e,_c6f){var _c70={"esriMiles":1,"esriKilometers":1.609344,"esriFeet":5280,"esriMeters":1609.34,"esriYards":1760,"esriNauticalMiles":0.869,"esriCentimeters":160934,"esriDecimeters":16093.4,"esriInches":63360,"esriMillimeters":1609340,"esriAcres":1,"esriAres":40.4685642,"esriSquareKilometers":0.00404685642,"esriSquareMiles":0.0015625,"esriSquareFeet":43560,"esriSquareMeters":4046.85642,"esriHectares":0.404685642,"esriSquareYards":4840,"esriSquareInches":6272640,"esriSquareMillimeters":4046856420,"esriSquareCentimeters":40468564.2,"esriSquareDecimeters":404685.642};function _c71(pt){var _c72=Math.PI/180;var a=6378137;var eSq=0.006694379990197414,e=0.0818191908429643;var sinY=Math.sin(pt.y*_c72);var q=(1-eSq)*((sinY/(1-eSq*(sinY*sinY))-(1/(2*e))*Math.log((1-e*sinY)/(1+e*sinY))));var x=a*pt.x*_c72;var y=a*q*0.5;var _c73=new _c6d(x,y);return _c73;};function _c74(lat1,lon1,_c75,s){var a=6378137,b=6356752.31424518,f=1/298.257223563;var _c76=Math.sin(_c75);var _c77=Math.cos(_c75);var _c78=(1-f)*Math.tan(lat1);var _c79=1/Math.sqrt((1+_c78*_c78)),_c7a=_c78*_c79;var _c7b=Math.atan2(_c78,_c77);var _c7c=_c79*_c76;var _c7d=1-_c7c*_c7c;var uSq=_c7d*(a*a-b*b)/(b*b);var A=1+uSq/16384*(4096+uSq*(-768+uSq*(320-175*uSq)));var B=uSq/1024*(256+uSq*(-128+uSq*(74-47*uSq)));var _c7e=s/(b*A),_c7f=2*Math.PI;var _c80,_c81,_c82;while(Math.abs(_c7e-_c7f)>1e-12){_c82=Math.cos(2*_c7b+_c7e);_c80=Math.sin(_c7e);_c81=Math.cos(_c7e);var _c83=B*_c80*(_c82+B/4*(_c81*(-1+2*_c82*_c82)-B/6*_c82*(-3+4*_c80*_c80)*(-3+4*_c82*_c82)));_c7f=_c7e;_c7e=s/(b*A)+_c83;}var tmp=_c7a*_c80-_c79*_c81*_c77;var lat2=Math.atan2(_c7a*_c81+_c79*_c80*_c77,(1-f)*Math.sqrt(_c7c*_c7c+tmp*tmp));var _c84=Math.atan2(_c80*_c76,_c79*_c81-_c7a*_c80*_c77);var C=f/16*_c7d*(4+f*(4-3*_c7d));var L=_c84-(1-C)*f*_c7c*(_c7e+C*_c80*(_c82+C*_c81*(-1+2*_c82*_c82)));var _c85=lat2/(Math.PI/180);var _c86=(lon1+L)/(Math.PI/180);var pt=new _c6d(_c86,_c85,new _c6c({wkid:4326}));return pt;};function _c87(lat1,lon1,lat2,lon2){var a=6378137,b=6356752.31424518,f=1/298.257223563;var L=(lon2-lon1);var U1=Math.atan((1-f)*Math.tan(lat1));var U2=Math.atan((1-f)*Math.tan(lat2));var _c88=Math.sin(U1),_c89=Math.cos(U1);var _c8a=Math.sin(U2),_c8b=Math.cos(U2);var _c8c=L,_c8d,_c8e=1000;var _c8f,_c90,_c91,_c92,_c93;do{var _c94=Math.sin(_c8c),_c95=Math.cos(_c8c);_c90=Math.sqrt((_c8b*_c94)*(_c8b*_c94)+(_c89*_c8a-_c88*_c8b*_c95)*(_c89*_c8a-_c88*_c8b*_c95));if(_c90===0){return 0;}_c92=_c88*_c8a+_c89*_c8b*_c95;_c93=Math.atan2(_c90,_c92);var _c96=_c89*_c8b*_c94/_c90;_c8f=1-_c96*_c96;_c91=_c92-2*_c88*_c8a/_c8f;if(isNaN(_c91)){_c91=0;}var C=f/16*_c8f*(4+f*(4-3*_c8f));_c8d=_c8c;_c8c=L+(1-C)*f*_c96*(_c93+C*_c90*(_c91+C*_c92*(-1+2*_c91*_c91)));}while(Math.abs(_c8c-_c8d)>1e-12&&--_c8e>0);if(_c8e===0){var _c97=6371009;var _c98=Math.acos(Math.sin(lat1)*Math.sin(lat2)+Math.cos(lat1)*Math.cos(lat2)*Math.cos(lon2-lon1))*_c97;var dLon=lon2-lon1;var y=Math.sin(dLon)*Math.cos(lat2);var x=Math.cos(lat1)*Math.sin(lat2)-Math.sin(lat1)*Math.cos(lat2)*Math.cos(dLon);var brng=Math.atan2(y,x);return {"azimuth":brng,"geodesicDistance":_c98};}var uSq=_c8f*(a*a-b*b)/(b*b);var A=1+uSq/16384*(4096+uSq*(-768+uSq*(320-175*uSq)));var B=uSq/1024*(256+uSq*(-128+uSq*(74-47*uSq)));var _c99=B*_c90*(_c91+B/4*(_c92*(-1+2*_c91*_c91)-B/6*_c91*(-3+4*_c90*_c90)*(-3+4*_c91*_c91)));var s=b*A*(_c93-_c99);var _c9a=Math.atan2(_c8b*Math.sin(_c8c),_c89*_c8a-_c88*_c8b*Math.cos(_c8c));var _c9b=Math.atan2(_c89*Math.sin(_c8c),_c89*_c8a*Math.cos(_c8c)-_c88*_c8b);var _c9c={azimuth:_c9a,geodesicDistance:s,reverseAzimuth:_c9b};return _c9c;};function _c9d(geom,_c9e){var _c9f=Math.PI/180;var _ca0=6371008.771515059;if(_c9e<_ca0/10000){_c9e=_ca0/10000;}if(!(geom instanceof _c6e||geom instanceof _c6f)){var msg="_geodesicDensify: the input geometry is neither polyline nor polygon";console.error(msg);throw new Error(msg);}var _ca1=geom instanceof _c6e,_ca2=_ca1?geom.paths:geom.rings,_ca3=[],_ca4;_c6a.forEach(_ca2,function(ring){_ca3.push(_ca4=[]);_ca4.push([ring[0][0],ring[0][1]]);var lon1,lat1,lon2,lat2,i,j;lon1=ring[0][0]*_c9f;lat1=ring[0][1]*_c9f;for(i=0;i<ring.length-1;i++){lon2=ring[i+1][0]*_c9f;lat2=ring[i+1][1]*_c9f;var _ca5=_c87(lat1,lon1,lat2,lon2);var _ca6=_ca5.azimuth;var _ca7=_ca5.geodesicDistance;var _ca8=_ca7/_c9e;if(_ca8>1){for(j=1;j<=_ca8-1;j++){var _ca9=j*_c9e;var pt=_c74(lat1,lon1,_ca6,_ca9);_ca4.push([pt.x,pt.y]);}var _caa=(_ca7+Math.floor(_ca8-1)*_c9e)/2;var _cab=_c74(lat1,lon1,_ca6,_caa);_ca4.push([_cab.x,_cab.y]);}var _cac=_c74(lat1,lon1,_ca6,_ca7);_ca4.push([_cac.x,_cac.y]);lon1=_cac.x*_c9f;lat1=_cac.y*_c9f;}});if(_ca1){return new _c6e({paths:_ca3,spatialReference:geom.spatialReference});}else{return new _c6f({rings:_ca3,spatialReference:geom.spatialReference});}};function _cad(_cae,_caf){var _cb0=Math.PI/180;var _cb1=[];_c6a.forEach(_cae,function(_cb2,idx){var _cb3=0;_c6a.forEach(_cb2.paths,function(path,idx){var _cb4=0;var i,lon1,lon2,lat1,lat2,_cb5;for(i=1;i<path.length;i++){lon1=path[i-1][0]*_cb0;lon2=path[i][0]*_cb0;lat1=path[i-1][1]*_cb0;lat2=path[i][1]*_cb0;_cb5=_c87(lat1,lon1,lat2,lon2);_cb4+=_cb5.geodesicDistance/1609.344;}_cb3+=_cb4;});_cb3*=_c70[_caf];_cb1.push(_cb3);});return _cb1;};function _cb6(_cb7,_cb8){var _cb9=[];_c6a.forEach(_cb7,function(_cba,idx){var _cbb=_c9d(_cba,10000);_cb9.push(_cbb);});var _cbc=[];var _cbd,_cbe;_c6a.forEach(_cb9,function(_cbf,idx){var area=0;_c6a.forEach(_cbf.rings,function(ring,idx){_cbd=_c71(new _c6d(ring[0][0],ring[0][1]));_cbe=_c71(new _c6d(ring[ring.length-1][0],ring[ring.length-1][1]));var _cc0=_cbe.x*_cbd.y-_cbd.x*_cbe.y;var i;for(i=0;i<ring.length-1;i++){_cbd=_c71(new _c6d(ring[i+1][0],ring[i+1][1]));_cbe=_c71(new _c6d(ring[i][0],ring[i][1]));_cc0+=_cbe.x*_cbd.y-_cbd.x*_cbe.y;}_cc0/=4046.87;area+=_cc0;});area*=_c70[_cb8];_cbc.push(area/(-2));});return _cbc;};var _cc1={geodesicDensify:_c9d,geodesicLengths:_cad,geodesicAreas:_cb6,_unitsDictionary:_c70,_toEqualAreaPoint:_c71,_directGeodeticSolver:_c74,_inverseGeodeticSolver:_c87};if(has("extend-esri")){lang.mixin(lang.getObject("geometry",true,_c6b),_cc1);}return _cc1;});},"esri/WKIDUnitConversion":function(){define(["dojo/has","esri/kernel"],function(has,_cc2){var obj={values:[1,0.2011661949,0.3047997101815088,0.3048006096012192,0.3048,0.304797265,0.9143985307444408,20.11678249437587,0.9143984146160287,20.11676512155263,0.3047994715386762,0.91439523,50000,150000],2000:0,2001:0,2002:0,2003:0,2004:0,2005:0,2006:0,2007:0,2008:0,2009:0,2010:0,2011:0,2012:0,2013:0,2014:0,2015:0,2016:0,2017:0,2018:0,2019:0,2020:0,2021:0,2022:0,2023:0,2024:0,2025:0,2026:0,2027:0,2028:0,2029:0,2030:0,2031:0,2032:0,2033:0,2034:0,2035:0,2036:0,2037:0,2038:0,2039:0,2040:0,2041:0,2042:0,2043:0,2044:0,2045:0,2056:0,2057:0,2058:0,2059:0,2060:0,2061:0,2062:0,2063:0,2064:0,2065:0,2066:1,2067:0,2068:0,2069:0,2070:0,2071:0,2072:0,2073:0,2074:0,2075:0,2076:0,2077:0,2078:0,2079:0,2080:0,2081:0,2082:0,2083:0,2084:0,2085:0,2086:0,2087:0,2088:0,2089:0,2090:0,2091:0,2092:0,2093:0,2094:0,2095:0,2096:0,2097:0,2098:0,2099:0,2100:0,2101:0,2102:0,2103:0,2104:0,2105:0,2106:0,2107:0,2108:0,2109:0,2110:0,2111:0,2112:0,2113:0,2114:0,2115:0,2116:0,2117:0,2118:0,2119:0,2120:0,2121:0,2122:0,2123:0,2124:0,2125:0,2126:0,2127:0,2128:0,2129:0,2130:0,2131:0,2132:0,2133:0,2134:0,2135:0,2136:2,2137:0,2138:0,2139:0,2140:0,2141:0,2142:0,2143:0,2144:0,2145:0,2146:0,2147:0,2148:0,2149:0,2150:0,2151:0,2152:0,2153:0,2154:0,2155:3,2157:0,2158:0,2159:2,2160:2,2161:0,2162:0,2163:0,2164:0,2165:0,2166:0,2167:0,2168:0,2169:0,2170:0,2172:0,2173:0,2174:0,2175:0,2176:0,2177:0,2178:0,2179:0,2180:0,2181:0,2182:0,2183:0,2184:0,2185:0,2186:0,2187:0,2188:0,2189:0,2190:0,2192:0,2193:0,2195:0,2196:0,2197:0,2198:0,2200:0,2201:0,2202:0,2203:0,2204:3,2205:0,2206:0,2207:0,2208:0,2209:0,2210:0,2211:0,2212:0,2213:0,2214:0,2215:0,2216:0,2217:0,2219:0,2220:0,2222:4,2223:4,2224:4,2225:3,2226:3,2227:3,2228:3,2229:3,2230:3,2231:3,2232:3,2233:3,2234:3,2235:3,2236:3,2237:3,2238:3,2239:3,2240:3,2241:3,2242:3,2243:3,2244:3,2245:3,2246:3,2247:3,2248:3,2249:3,2250:3,2251:4,2252:4,2253:4,2254:3,2255:3,2256:4,2257:3,2258:3,2259:3,2260:3,2261:3,2262:3,2263:3,2264:3,2265:4,2266:4,2267:3,2268:3,2269:4,2270:4,2271:3,2272:3,2273:4,2274:3,2275:3,2276:3,2277:3,2278:3,2279:3,2280:4,2281:4,2282:4,2283:3,2284:3,2285:3,2286:3,2287:3,2288:3,2289:3,2290:0,2291:0,2292:0,2294:0,2295:0,2308:0,2309:0,2310:0,2311:0,2312:0,2313:0,2314:5,2315:0,2316:0,2317:0,2318:0,2319:0,2320:0,2321:0,2322:0,2323:0,2324:0,2325:0,2326:0,2327:0,2328:0,2329:0,2330:0,2331:0,2332:0,2333:0,2334:0,2335:0,2336:0,2337:0,2338:0,2339:0,2340:0,2341:0,2342:0,2343:0,2344:0,2345:0,2346:0,2347:0,2348:0,2349:0,2350:0,2351:0,2352:0,2353:0,2354:0,2355:0,2356:0,2357:0,2358:0,2359:0,2360:0,2361:0,2362:0,2363:0,2364:0,2365:0,2366:0,2367:0,2368:0,2369:0,2370:0,2371:0,2372:0,2373:0,2374:0,2375:0,2376:0,2377:0,2378:0,2379:0,2380:0,2381:0,2382:0,2383:0,2384:0,2385:0,2386:0,2387:0,2388:0,2389:0,2390:0,2391:0,2392:0,2393:0,2394:0,2395:0,2396:0,2397:0,2398:0,2399:0,2400:0,2401:0,2402:0,2403:0,2404:0,2405:0,2406:0,2407:0,2408:0,2409:0,2410:0,2411:0,2412:0,2413:0,2414:0,2415:0,2416:0,2417:0,2418:0,2419:0,2420:0,2421:0,2422:0,2423:0,2424:0,2425:0,2426:0,2427:0,2428:0,2429:0,2430:0,2431:0,2432:0,2433:0,2434:0,2435:0,2436:0,2437:0,2438:0,2439:0,2440:0,2441:0,2442:0,2443:0,2444:0,2445:0,2446:0,2447:0,2448:0,2449:0,2450:0,2451:0,2452:0,2453:0,2454:0,2455:0,2456:0,2457:0,2458:0,2459:0,2460:0,2461:0,2462:0,2523:0,2524:0,2525:0,2526:0,2527:0,2528:0,2529:0,2530:0,2531:0,2532:0,2533:0,2534:0,2535:0,2536:0,2537:0,2538:0,2539:0,2540:0,2541:0,2542:0,2543:0,2544:0,2545:0,2546:0,2547:0,2548:0,2549:0,2550:0,2551:0,2552:0,2553:0,2554:0,2555:0,2556:0,2557:0,2558:0,2559:0,2560:0,2561:0,2562:0,2563:0,2564:0,2565:0,2566:0,2567:0,2568:0,2569:0,2570:0,2571:0,2572:0,2573:0,2574:0,2575:0,2576:0,2577:0,2578:0,2579:0,2580:0,2581:0,2582:0,2583:0,2584:0,2585:0,2586:0,2587:0,2588:0,2589:0,2590:0,2591:0,2592:0,2593:0,2594:0,2595:0,2596:0,2597:0,2598:0,2599:0,2600:0,2601:0,2602:0,2603:0,2604:0,2605:0,2606:0,2607:0,2608:0,2609:0,2610:0,2611:0,2612:0,2613:0,2614:0,2615:0,2616:0,2617:0,2618:0,2619:0,2620:0,2621:0,2622:0,2623:0,2624:0,2625:0,2626:0,2627:0,2628:0,2629:0,2630:0,2631:0,2632:0,2633:0,2634:0,2635:0,2636:0,2637:0,2638:0,2639:0,2640:0,2641:0,2642:0,2643:0,2644:0,2645:0,2646:0,2647:0,2648:0,2649:0,2650:0,2651:0,2652:0,2653:0,2654:0,2655:0,2656:0,2657:0,2658:0,2659:0,2660:0,2661:0,2662:0,2663:0,2664:0,2665:0,2666:0,2667:0,2668:0,2669:0,2670:0,2671:0,2672:0,2673:0,2674:0,2675:0,2676:0,2677:0,2678:0,2679:0,2680:0,2681:0,2682:0,2683:0,2684:0,2685:0,2686:0,2687:0,2688:0,2689:0,2690:0,2691:0,2692:0,2693:0,2694:0,2695:0,2696:0,2697:0,2698:0,2699:0,2700:0,2701:0,2702:0,2703:0,2704:0,2705:0,2706:0,2707:0,2708:0,2709:0,2710:0,2711:0,2712:0,2713:0,2714:0,2715:0,2716:0,2717:0,2718:0,2719:0,2720:0,2721:0,2722:0,2723:0,2724:0,2725:0,2726:0,2727:0,2728:0,2729:0,2730:0,2731:0,2732:0,2733:0,2734:0,2735:0,2736:0,2737:0,2738:0,2739:0,2740:0,2741:0,2742:0,2743:0,2744:0,2745:0,2746:0,2747:0,2748:0,2749:0,2750:0,2751:0,2752:0,2753:0,2754:0,2755:0,2756:0,2757:0,2758:0,2759:0,2760:0,2761:0,2762:0,2763:0,2764:0,2765:0,2766:0,2767:0,2768:0,2769:0,2770:0,2771:0,2772:0,2773:0,2774:0,2775:0,2776:0,2777:0,2778:0,2779:0,2780:0,2781:0,2782:0,2783:0,2784:0,2785:0,2786:0,2787:0,2788:0,2789:0,2790:0,2791:0,2792:0,2793:0,2794:0,2795:0,2796:0,2797:0,2798:0,2799:0,2800:0,2801:0,2802:0,2803:0,2804:0,2805:0,2806:0,2807:0,2808:0,2809:0,2810:0,2811:0,2812:0,2813:0,2814:0,2815:0,2816:0,2817:0,2818:0,2819:0,2820:0,2821:0,2822:0,2823:0,2824:0,2825:0,2826:0,2827:0,2828:0,2829:0,2830:0,2831:0,2832:0,2833:0,2834:0,2835:0,2836:0,2837:0,2838:0,2839:0,2840:0,2841:0,2842:0,2843:0,2844:0,2845:0,2846:0,2847:0,2848:0,2849:0,2850:0,2851:0,2852:0,2853:0,2854:0,2855:0,2856:0,2857:0,2858:0,2859:0,2860:0,2861:0,2862:0,2863:0,2864:0,2865:0,2866:0,2867:4,2868:4,2869:4,2870:3,2871:3,2872:3,2873:3,2874:3,2875:3,2876:3,2877:3,2878:3,2879:3,2880:3,2881:3,2882:3,2883:3,2884:3,2885:3,2886:3,2887:3,2888:3,2891:3,2892:3,2893:3,2894:3,2895:3,2896:4,2897:4,2898:4,2899:3,2900:3,2901:4,2902:3,2903:3,2904:3,2905:3,2906:3,2907:3,2908:3,2909:4,2910:4,2911:3,2912:3,2913:4,2914:4,2915:3,2916:3,2917:3,2918:3,2919:3,2920:3,2921:4,2922:4,2923:4,2924:3,2925:3,2926:3,2927:3,2928:3,2929:3,2930:3,2931:0,2932:0,2933:0,2935:0,2936:0,2937:0,2938:0,2939:0,2940:0,2941:0,2942:0,2943:0,2944:0,2945:0,2946:0,2947:0,2948:0,2949:0,2950:0,2951:0,2952:0,2953:0,2954:0,2955:0,2956:0,2957:0,2958:0,2959:0,2960:0,2961:0,2962:0,2964:3,2965:3,2966:3,2967:3,2968:3,2969:0,2970:0,2971:0,2972:0,2973:0,2975:0,2976:0,2977:0,2978:0,2979:0,2980:0,2981:0,2982:0,2984:0,2985:0,2986:0,2987:0,2988:0,2989:0,2991:0,2992:4,2993:0,2994:4,2995:0,2996:0,2997:0,2998:0,2999:0,3000:0,3001:0,3002:0,3003:0,3004:0,3005:0,3006:0,3007:0,3008:0,3009:0,3010:0,3011:0,3012:0,3013:0,3014:0,3015:0,3016:0,3017:0,3018:0,3019:0,3020:0,3021:0,3022:0,3023:0,3024:0,3025:0,3026:0,3027:0,3028:0,3029:0,3030:0,3031:0,3032:0,3033:0,3034:0,3035:0,3036:0,3037:0,3054:0,3055:0,3056:0,3057:0,3058:0,3059:0,3060:0,3061:0,3062:0,3063:0,3064:0,3065:0,3066:0,3067:0,3068:0,3069:0,3070:0,3071:0,3072:0,3073:0,3074:0,3075:0,3076:0,3077:0,3078:0,3079:0,3080:4,3081:0,3082:0,3083:0,3084:0,3085:0,3086:0,3087:0,3088:0,3089:3,3090:0,3091:3,3092:0,3093:0,3094:0,3095:0,3096:0,3097:0,3098:0,3099:0,3100:0,3101:0,3102:3,3106:0,3107:0,3108:0,3109:0,3110:0,3111:0,3112:0,3113:0,3114:0,3115:0,3116:0,3117:0,3118:0,3119:0,3120:0,3121:0,3122:0,3123:0,3124:0,3125:0,3126:0,3127:0,3128:0,3129:0,3130:0,3131:0,3132:0,3133:0,3134:0,3135:0,3136:0,3137:0,3138:0,3141:0,3142:0,3148:0,3149:0,3153:0,3154:0,3155:0,3156:0,3157:0,3158:0,3159:0,3160:0,3161:0,3162:0,3163:0,3164:0,3165:0,3166:0,3169:0,3170:0,3171:0,3172:0,3174:0,3175:0,3176:0,3177:0,3178:0,3179:0,3180:0,3181:0,3182:0,3183:0,3184:0,3185:0,3186:0,3187:0,3188:0,3189:0,3190:0,3191:0,3192:0,3193:0,3194:0,3195:0,3196:0,3197:0,3198:0,3199:0,3200:0,3201:0,3202:0,3203:0,3294:0,3296:0,3297:0,3298:0,3299:0,3300:0,3301:0,3302:0,3303:0,3304:0,3305:0,3306:0,3307:0,3308:0,3309:0,3310:0,3311:0,3312:0,3313:0,3314:0,3315:0,3316:0,3317:0,3318:0,3319:0,3320:0,3321:0,3322:0,3323:0,3324:0,3325:0,3326:0,3327:0,3328:0,3329:0,3330:0,3331:0,3332:0,3333:0,3334:0,3335:0,3336:0,3337:0,3338:0,3339:0,3340:0,3341:0,3342:0,3343:0,3344:0,3345:0,3346:0,3347:0,3348:0,3349:0,3350:0,3351:0,3352:0,3353:0,3354:0,3355:0,3356:0,3357:0,3358:0,3359:3,3360:0,3361:4,3362:0,3363:3,3364:0,3365:3,3366:5,3367:0,3368:0,3369:0,3370:0,3371:0,3372:0,3373:0,3374:0,3375:0,3376:0,3377:0,3378:0,3379:0,3380:0,3381:0,3382:0,3383:0,3384:0,3385:0,3386:0,3387:0,3388:0,3391:0,3392:0,3393:0,3394:0,3395:0,3396:0,3397:0,3398:0,3399:0,3400:0,3401:0,3402:0,3403:0,3404:3,3405:0,3406:0,3407:5,3408:0,3409:0,3410:0,3411:0,3412:0,3413:0,3414:0,3415:0,3416:0,3417:3,3418:3,3419:3,3420:3,3421:3,3422:3,3423:3,3424:3,3425:3,3426:3,3427:3,3428:3,3429:3,3430:3,3431:3,3432:3,3433:3,3434:3,3435:3,3436:3,3437:3,3438:3,3439:0,3440:0,3441:3,3442:3,3443:3,3444:3,3445:3,3446:3,3447:0,3448:0,3449:0,3450:0,3453:3,3456:3,3457:3,3458:3,3459:3,3460:0,3461:0,3462:0,3463:0,3464:0,3560:3,3561:3,3562:3,3563:3,3564:3,3565:3,3566:3,3567:3,3568:3,3569:3,3570:3,3571:0,3572:0,3573:0,3574:0,3575:0,3576:0,3577:0,3578:0,3579:0,3580:0,3581:0,3582:3,3583:0,3584:3,3585:0,3586:3,3587:0,3588:4,3589:0,3590:4,3591:0,3592:0,3593:4,3594:0,3595:0,3596:0,3597:0,3598:3,3599:0,3600:3,3601:0,3602:0,3603:0,3604:0,3605:4,3606:0,3607:0,3608:3,3609:0,3610:3,3611:0,3612:3,3613:0,3614:3,3615:0,3616:3,3617:0,3618:3,3619:0,3620:3,3621:0,3622:3,3623:0,3624:3,3625:0,3626:3,3627:0,3628:3,3629:0,3630:3,3631:0,3632:3,3633:0,3634:4,3635:0,3636:4,3637:0,3638:0,3639:0,3640:3,3641:0,3642:3,3643:0,3644:4,3645:0,3646:4,3647:0,3648:4,3649:0,3650:3,3651:0,3652:3,3653:0,3654:3,3655:0,3656:4,3657:0,3658:3,3659:0,3660:3,3661:0,3662:3,3663:0,3664:3,3665:0,3666:0,3667:0,3668:3,3669:0,3670:3,3671:0,3672:3,3673:0,3674:3,3675:0,3676:4,3677:3,3678:0,3679:4,3680:3,3681:0,3682:4,3683:3,3684:0,3685:0,3686:3,3687:0,3688:3,3689:0,3690:3,3691:0,3692:3,3693:0,3694:0,3695:0,3696:3,3697:0,3698:3,3699:0,3700:3,3701:0,3702:0,3703:0,3704:0,3705:0,3706:0,3707:0,3708:0,3709:0,3710:0,3711:0,3712:0,3713:0,3714:0,3715:0,3716:0,3717:0,3718:0,3719:0,3720:0,3721:0,3722:0,3723:0,3724:0,3725:0,3726:0,3727:0,3728:3,3729:3,3730:3,3731:3,3732:3,3733:3,3734:3,3735:3,3736:3,3737:3,3738:3,3739:3,3753:3,3754:3,3755:3,3756:3,3757:3,3758:3,3759:3,3760:3,3761:0,3762:0,3763:0,3764:0,3765:0,3766:0,3767:0,3768:0,3769:0,3770:0,3771:0,3772:0,3773:0,3775:0,3776:0,3777:0,3779:0,3780:0,3781:0,3783:0,3784:0,3788:0,3789:0,3790:0,3791:0,3793:0,3794:0,3797:0,3798:0,3799:0,3800:0,3801:0,3802:0,3812:0,3814:0,3815:0,3816:0,3832:0,3833:0,3834:0,3835:0,3836:0,3837:0,3838:0,3839:0,3840:0,3841:0,3851:0,3852:0,3857:0,3890:0,3891:0,3892:0,3893:0,3912:0,3920:0,3942:0,3943:0,3944:0,3945:0,3946:0,3947:0,3948:0,3949:0,3950:0,3968:0,3969:0,3970:0,3973:0,3974:0,3975:0,3976:0,3978:0,3979:0,3986:0,3987:0,3988:0,3989:0,3991:3,3992:3,3994:0,3995:0,3996:0,3997:0,20002:0,20003:0,20004:0,20005:0,20006:0,20007:0,20008:0,20009:0,20010:0,20011:0,20012:0,20013:0,20014:0,20015:0,20016:0,20017:0,20018:0,20019:0,20020:0,20021:0,20022:0,20023:0,20024:0,20025:0,20026:0,20027:0,20028:0,20029:0,20030:0,20031:0,20032:0,20062:0,20063:0,20064:0,20065:0,20066:0,20067:0,20068:0,20069:0,20070:0,20071:0,20072:0,20073:0,20074:0,20075:0,20076:0,20077:0,20078:0,20079:0,20080:0,20081:0,20082:0,20083:0,20084:0,20085:0,20086:0,20087:0,20088:0,20089:0,20090:0,20091:0,20092:0,20135:0,20136:0,20137:0,20138:0,20248:0,20249:0,20250:0,20251:0,20252:0,20253:0,20254:0,20255:0,20256:0,20257:0,20258:0,20348:0,20349:0,20350:0,20351:0,20352:0,20353:0,20354:0,20355:0,20356:0,20357:0,20358:0,20436:0,20437:0,20438:0,20439:0,20440:0,20499:0,20538:0,20539:0,20790:0,20822:0,20823:0,20824:0,20934:0,20935:0,20936:0,21035:0,21036:0,21037:0,21095:0,21096:0,21097:0,21148:0,21149:0,21150:0,21291:0,21292:0,21413:0,21414:0,21415:0,21416:0,21417:0,21418:0,21419:0,21420:0,21421:0,21422:0,21423:0,21473:0,21474:0,21475:0,21476:0,21477:0,21478:0,21479:0,21480:0,21481:0,21482:0,21483:0,21500:0,21780:0,21781:0,21817:0,21818:0,21891:0,21892:0,21893:0,21894:0,21896:0,21897:0,21898:0,21899:0,22032:0,22033:0,22091:0,22092:0,22171:0,22172:0,22173:0,22174:0,22175:0,22176:0,22177:0,22181:0,22182:0,22183:0,22184:0,22185:0,22186:0,22187:0,22191:0,22192:0,22193:0,22194:0,22195:0,22196:0,22197:0,22234:0,22235:0,22236:0,22332:0,22391:0,22392:0,22521:0,22522:0,22523:0,22524:0,22525:0,22700:0,22770:0,22780:0,22832:0,22991:0,22992:0,22993:0,22994:0,23028:0,23029:0,23030:0,23031:0,23032:0,23033:0,23034:0,23035:0,23036:0,23037:0,23038:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,23830:0,23831:0,23832:0,23833:0,23834:0,23835:0,23836:0,23837:0,23838:0,23839:0,23840:0,23841:0,23842:0,23843:0,23844:0,23845:0,23846:0,23847:0,23848:0,23849:0,23850:0,23851:0,23852:0,23853:0,23866:0,23867:0,23868:0,23869:0,23870:0,23871:0,23872:0,23877:0,23878:0,23879:0,23880:0,23881:0,23882:0,23883:0,23884:0,23886:0,23887:0,23888:0,23889:0,23890:0,23891:0,23892:0,23893:0,23894:0,23946:0,23947:0,23948:0,24047:0,24048:0,24100:0,24200:0,24305:0,24306:0,24311:0,24312:0,24313:0,24342:0,24343:0,24344:0,24345:0,24346:0,24347:0,24370:6,24371:6,24372:6,24373:6,24374:6,24375:0,24376:0,24377:0,24378:0,24379:0,24380:0,24381:0,24382:6,24383:0,24500:0,24547:0,24548:0,24571:7,24600:0,24718:0,24719:0,24720:0,24721:0,24817:0,24818:0,24819:0,24820:0,24821:0,24877:0,24878:0,24879:0,24880:0,24881:0,24882:0,24891:0,24892:0,24893:0,25000:0,25231:0,25391:0,25392:0,25393:0,25394:0,25395:0,25828:0,25829:0,25830:0,25831:0,25832:0,25833:0,25834:0,25835:0,25836:0,25837:0,25838:0,25884:0,25932:0,26191:0,26192:0,26193:0,26194:0,26195:0,26237:0,26331:0,26332:0,26391:0,26392:0,26393:0,26432:0,26591:0,26592:0,26632:0,26692:0,26701:0,26702:0,26703:0,26704:0,26705:0,26706:0,26707:0,26708:0,26709:0,26710:0,26711:0,26712:0,26713:0,26714:0,26715:0,26716:0,26717:0,26718:0,26719:0,26720:0,26721:0,26722:0,26729:3,26730:3,26731:3,26732:3,26733:3,26734:3,26735:3,26736:3,26737:3,26738:3,26739:3,26740:3,26741:3,26742:3,26743:3,26744:3,26745:3,26746:3,26747:3,26748:3,26749:3,26750:3,26751:3,26752:3,26753:3,26754:3,26755:3,26756:3,26757:3,26758:3,26759:3,26760:3,26761:3,26762:3,26763:3,26764:3,26765:3,26766:3,26767:3,26768:3,26769:3,26770:3,26771:3,26772:3,26773:3,26774:3,26775:3,26776:3,26777:3,26778:3,26779:3,26780:3,26781:3,26782:3,26783:3,26784:3,26785:3,26786:3,26787:3,26788:3,26789:3,26790:3,26791:3,26792:3,26793:3,26794:3,26795:3,26796:3,26797:3,26798:3,26799:3,26801:3,26802:3,26803:3,26811:3,26812:3,26813:3,26901:0,26902:0,26903:0,26904:0,26905:0,26906:0,26907:0,26908:0,26909:0,26910:0,26911:0,26912:0,26913:0,26914:0,26915:0,26916:0,26917:0,26918:0,26919:0,26920:0,26921:0,26922:0,26923:0,26929:0,26930:0,26931:0,26932:0,26933:0,26934:0,26935:0,26936:0,26937:0,26938:0,26939:0,26940:0,26941:0,26942:0,26943:0,26944:0,26945:0,26946:0,26948:0,26949:0,26950:0,26951:0,26952:0,26953:0,26954:0,26955:0,26956:0,26957:0,26958:0,26959:0,26960:0,26961:0,26962:0,26963:0,26964:0,26965:0,26966:0,26967:0,26968:0,26969:0,26970:0,26971:0,26972:0,26973:0,26974:0,26975:0,26976:0,26977:0,26978:0,26979:0,26980:0,26981:0,26982:0,26983:0,26984:0,26985:0,26986:0,26987:0,26988:0,26989:0,26990:0,26991:0,26992:0,26993:0,26994:0,26995:0,26996:0,26997:0,26998:0,27037:0,27038:0,27039:0,27040:0,27120:0,27200:0,27205:0,27206:0,27207:0,27208:0,27209:0,27210:0,27211:0,27212:0,27213:0,27214:0,27215:0,27216:0,27217:0,27218:0,27219:0,27220:0,27221:0,27222:0,27223:0,27224:0,27225:0,27226:0,27227:0,27228:0,27229:0,27230:0,27231:0,27232:0,27258:0,27259:0,27260:0,27291:8,27292:8,27391:0,27392:0,27393:0,27394:0,27395:0,27396:0,27397:0,27398:0,27429:0,27492:0,27500:0,27561:0,27562:0,27563:0,27564:0,27571:0,27572:0,27573:0,27574:0,27581:0,27582:0,27583:0,27584:0,27591:0,27592:0,27593:0,27594:0,27700:0,28191:0,28192:0,28193:0,28232:0,28348:0,28349:0,28350:0,28351:0,28352:0,28353:0,28354:0,28355:0,28356:0,28357:0,28358:0,28402:0,28403:0,28404:0,28405:0,28406:0,28407:0,28408:0,28409:0,28410:0,28411:0,28412:0,28413:0,28414:0,28415:0,28416:0,28417:0,28418:0,28419:0,28420:0,28421:0,28422:0,28423:0,28424:0,28425:0,28426:0,28427:0,28428:0,28429:0,28430:0,28431:0,28432:0,28462:0,28463:0,28464:0,28465:0,28466:0,28467:0,28468:0,28469:0,28470:0,28471:0,28472:0,28473:0,28474:0,28475:0,28476:0,28477:0,28478:0,28479:0,28480:0,28481:0,28482:0,28483:0,28484:0,28485:0,28486:0,28487:0,28488:0,28489:0,28490:0,28491:0,28492:0,28600:0,28991:0,28992:0,29100:0,29101:0,29118:0,29119:0,29120:0,29121:0,29122:0,29168:0,29169:0,29170:0,29171:0,29172:0,29177:0,29178:0,29179:0,29180:0,29181:0,29182:0,29183:0,29184:0,29185:0,29187:0,29188:0,29189:0,29190:0,29191:0,29192:0,29193:0,29194:0,29195:0,29220:0,29221:0,29333:0,29635:0,29636:0,29738:0,29739:0,29849:0,29850:0,29871:9,29872:10,29873:0,29900:0,29901:0,29902:0,29903:0,30161:0,30162:0,30163:0,30164:0,30165:0,30166:0,30167:0,30168:0,30169:0,30170:0,30171:0,30172:0,30173:0,30174:0,30175:0,30176:0,30177:0,30178:0,30179:0,30200:1,30339:0,30340:0,30491:0,30492:0,30493:0,30494:0,30591:0,30592:0,30729:0,30730:0,30731:0,30732:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31251:0,31252:0,31253:0,31254:0,31255:0,31256:0,31257:0,31258:0,31259:0,31265:0,31266:0,31267:0,31268:0,31275:0,31276:0,31277:0,31278:0,31279:0,31281:0,31282:0,31283:0,31284:0,31285:0,31286:0,31287:0,31288:0,31289:0,31290:0,31291:0,31292:0,31293:0,31294:0,31295:0,31296:0,31297:0,31370:0,31461:0,31462:0,31463:0,31464:0,31465:0,31466:0,31467:0,31468:0,31469:0,31491:0,31492:0,31493:0,31494:0,31495:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31901:0,31917:0,31918:0,31919:0,31920:0,31921:0,31922:0,31971:0,31972:0,31973:0,31974:0,31975:0,31976:0,31977:0,31978:0,31979:0,31980:0,31981:0,31982:0,31983:0,31984:0,31985:0,31986:0,31987:0,31988:0,31989:0,31990:0,31991:0,31992:0,31993:0,31994:0,31995:0,31996:0,31997:0,31998:0,31999:0,32000:0,32001:3,32002:3,32003:3,32005:3,32006:3,32007:3,32008:3,32009:3,32010:3,32011:3,32012:3,32013:3,32014:3,32015:3,32016:3,32017:3,32018:3,32019:3,32020:3,32021:3,32022:3,32023:3,32024:3,32025:3,32026:3,32027:3,32028:3,32029:3,32030:3,32031:3,32033:3,32034:3,32035:3,32036:3,32037:3,32038:3,32039:3,32040:3,32041:3,32042:3,32043:3,32044:3,32045:3,32046:3,32047:3,32048:3,32049:3,32050:3,32051:3,32052:3,32053:3,32054:3,32055:3,32056:3,32057:3,32058:3,32059:3,32060:3,32061:0,32062:0,32064:3,32065:3,32066:3,32067:3,32074:3,32075:3,32076:3,32077:3,32081:0,32082:0,32083:0,32084:0,32085:0,32086:0,32098:0,32099:3,32100:0,32104:0,32107:0,32108:0,32109:0,32110:0,32111:0,32112:0,32113:0,32114:0,32115:0,32116:0,32117:0,32118:0,32119:0,32120:0,32121:0,32122:0,32123:0,32124:0,32125:0,32126:0,32127:0,32128:0,32129:0,32130:0,32133:0,32134:0,32135:0,32136:0,32137:0,32138:0,32139:0,32140:0,32141:0,32142:0,32143:0,32144:0,32145:0,32146:0,32147:0,32148:0,32149:0,32150:0,32151:0,32152:0,32153:0,32154:0,32155:0,32156:0,32157:0,32158:0,32161:0,32164:3,32165:3,32166:3,32167:3,32180:0,32181:0,32182:0,32183:0,32184:0,32185:0,32186:0,32187:0,32188:0,32189:0,32190:0,32191:0,32192:0,32193:0,32194:0,32195:0,32196:0,32197:0,32198:0,32199:0,32201:0,32202:0,32203:0,32204:0,32205:0,32206:0,32207:0,32208:0,32209:0,32210:0,32211:0,32212:0,32213:0,32214:0,32215:0,32216:0,32217:0,32218:0,32219:0,32220:0,32221:0,32222:0,32223:0,32224:0,32225:0,32226:0,32227:0,32228:0,32229:0,32230:0,32231:0,32232:0,32233:0,32234:0,32235:0,32236:0,32237:0,32238:0,32239:0,32240:0,32241:0,32242:0,32243:0,32244:0,32245:0,32246:0,32247:0,32248:0,32249:0,32250:0,32251:0,32252:0,32253:0,32254:0,32255:0,32256:0,32257:0,32258:0,32259:0,32260:0,32301:0,32302:0,32303:0,32304:0,32305:0,32306:0,32307:0,32308:0,32309:0,32310:0,32311:0,32312:0,32313:0,32314:0,32315:0,32316:0,32317:0,32318:0,32319:0,32320:0,32321:0,32322:0,32323:0,32324:0,32325:0,32326:0,32327:0,32328:0,32329:0,32330:0,32331:0,32332:0,32333:0,32334:0,32335:0,32336:0,32337:0,32338:0,32339:0,32340:0,32341:0,32342:0,32343:0,32344:0,32345:0,32346:0,32347:0,32348:0,32349:0,32350:0,32351:0,32352:0,32353:0,32354:0,32355:0,32356:0,32357:0,32358:0,32359:0,32360:0,32601:0,32602:0,32603:0,32604:0,32605:0,32606:0,32607:0,32608:0,32609:0,32610:0,32611:0,32612:0,32613:0,32614:0,32615:0,32616:0,32617:0,32618:0,32619:0,32620:0,32621:0,32622:0,32623:0,32624:0,32625:0,32626:0,32627:0,32628:0,32629:0,32630:0,32631:0,32632:0,32633:0,32634:0,32635:0,32636:0,32637:0,32638:0,32639:0,32640:0,32641:0,32642:0,32643:0,32644:0,32645:0,32646:0,32647:0,32648:0,32649:0,32650:0,32651:0,32652:0,32653:0,32654:0,32655:0,32656:0,32657:0,32658:0,32659:0,32660:0,32661:0,32662:0,32664:3,32665:3,32666:3,32667:3,32701:0,32702:0,32703:0,32704:0,32705:0,32706:0,32707:0,32708:0,32709:0,32710:0,32711:0,32712:0,32713:0,32714:0,32715:0,32716:0,32717:0,32718:0,32719:0,32720:0,32721:0,32722:0,32723:0,32724:0,32725:0,32726:0,32727:0,32728:0,32729:0,32730:0,32731:0,32732:0,32733:0,32734:0,32735:0,32736:0,32737:0,32738:0,32739:0,32740:0,32741:0,32742:0,32743:0,32744:0,32745:0,32746:0,32747:0,32748:0,32749:0,32750:0,32751:0,32752:0,32753:0,32754:0,32755:0,32756:0,32757:0,32758:0,32759:0,32760:0,32761:0,32766:0,53001:0,53002:0,53003:0,53004:0,53008:0,53009:0,53010:0,53011:0,53012:0,53013:0,53014:0,53015:0,53016:0,53017:0,53018:0,53019:0,53021:0,53022:0,53023:0,53024:0,53025:0,53026:0,53027:0,53028:0,53029:0,53030:0,53031:0,53032:0,53034:0,53042:0,53043:0,53044:0,53045:0,53046:0,53048:0,53049:0,54001:0,54002:0,54003:0,54004:0,54008:0,54009:0,54010:0,54011:0,54012:0,54013:0,54014:0,54015:0,54016:0,54017:0,54018:0,54019:0,54021:0,54022:0,54023:0,54024:0,54025:0,54026:0,54027:0,54028:0,54029:0,54030:0,54031:0,54032:0,54034:0,54042:0,54043:0,54044:0,54045:0,54046:0,54048:0,54049:0,54050:0,54051:0,54052:0,54053:0,65061:3,65062:3,65161:0,65163:0,102001:0,102002:0,102003:0,102004:0,102005:0,102006:0,102007:0,102008:0,102009:0,102010:0,102011:0,102012:0,102013:0,102014:0,102015:0,102016:0,102017:0,102018:0,102019:0,102020:0,102021:0,102022:0,102023:0,102024:0,102025:0,102026:0,102027:0,102028:0,102029:0,102030:0,102031:0,102032:0,102033:0,102034:0,102035:0,102036:0,102037:0,102038:0,102039:0,102060:0,102061:0,102062:0,102063:0,102064:11,102065:0,102066:0,102067:0,102068:12,102069:13,102070:0,102071:0,102072:0,102073:0,102074:0,102075:0,102076:0,102077:0,102078:0,102079:0,102090:0,102091:0,102092:0,102093:0,102094:0,102095:0,102096:0,102097:0,102098:0,102099:0,102100:0,102101:0,102102:0,102103:0,102104:0,102105:0,102106:0,102107:0,102108:0,102109:0,102110:0,102111:0,102112:0,102113:0,102114:0,102115:0,102116:0,102117:0,102118:3,102119:4,102120:3,102121:3,102122:0,102123:0,102124:0,102125:0,102126:0,102127:0,102128:0,102129:0,102130:0,102131:0,102132:0,102133:0,102134:0,102135:0,102136:0,102137:0,102138:0,102139:0,102140:0,102141:0,102142:0,102143:0,102144:0,102145:0,102146:0,102147:0,102148:0,102149:0,102150:0,102151:0,102152:0,102153:0,102154:0,102155:0,102156:0,102157:0,102158:0,102159:0,102160:0,102161:0,102162:0,102163:0,102164:0,102165:0,102166:0,102167:0,102168:0,102169:0,102170:0,102171:0,102172:0,102173:0,102174:0,102175:0,102176:0,102177:0,102178:0,102179:0,102180:0,102181:0,102182:0,102183:0,102184:0,102185:0,102186:0,102187:0,102188:0,102189:0,102190:0,102191:0,102192:0,102193:0,102194:0,102195:0,102196:0,102197:0,102198:0,102199:0,102200:0,102201:0,102202:0,102203:0,102205:0,102206:0,102207:0,102208:0,102209:0,102210:0,102211:0,102218:0,102219:3,102220:3,102221:0,102222:0,102223:0,102224:0,102225:0,102226:0,102227:0,102228:0,102229:0,102230:0,102231:0,102232:0,102233:0,102234:0,102235:0,102236:0,102237:0,102238:0,102239:0,102240:0,102241:0,102242:0,102243:0,102244:0,102245:0,102246:0,102248:0,102249:0,102250:0,102251:0,102252:0,102253:0,102254:0,102255:0,102256:0,102257:0,102258:0,102259:0,102260:0,102261:0,102262:0,102263:0,102264:0,102265:0,102266:0,102267:0,102268:0,102269:0,102270:0,102271:0,102272:0,102273:0,102274:0,102275:0,102276:0,102277:0,102278:0,102279:0,102280:0,102281:0,102282:0,102283:0,102284:0,102285:0,102286:0,102287:0,102288:0,102289:0,102290:0,102291:0,102292:0,102293:0,102294:0,102295:0,102296:0,102297:0,102298:0,102300:0,102304:0,102307:0,102308:0,102309:0,102310:0,102311:0,102312:0,102313:0,102314:0,102315:0,102316:0,102317:0,102318:0,102320:0,102321:0,102322:0,102323:0,102324:0,102325:0,102326:0,102327:0,102330:0,102334:0,102335:0,102336:0,102337:0,102338:0,102339:0,102340:0,102341:0,102342:0,102343:0,102344:0,102345:0,102346:0,102347:0,102348:0,102349:0,102350:0,102351:0,102352:0,102353:0,102354:0,102355:0,102356:0,102357:0,102358:0,102361:0,102363:0,102421:0,102422:0,102423:0,102424:0,102425:0,102426:0,102427:0,102428:0,102429:0,102430:0,102431:0,102432:0,102433:0,102434:0,102435:0,102436:0,102437:0,102438:0,102440:0,102441:0,102442:0,102443:0,102444:0,102461:3,102462:3,102463:3,102464:3,102465:3,102466:3,102467:3,102468:3,102469:0,102491:0,102492:0,102570:0,102571:0,102572:0,102573:0,102574:0,102575:0,102576:0,102577:0,102578:0,102579:0,102580:0,102581:0,102582:0,102583:0,102584:0,102591:0,102592:0,102601:0,102602:0,102603:0,102604:3,102605:0,102606:0,102607:0,102608:0,102609:0,102629:3,102630:3,102631:3,102632:3,102633:3,102634:3,102635:3,102636:3,102637:3,102638:3,102639:3,102640:3,102641:3,102642:3,102643:3,102644:3,102645:3,102646:3,102648:3,102649:3,102650:3,102651:3,102652:3,102653:3,102654:3,102655:3,102656:3,102657:3,102658:3,102659:3,102660:3,102661:3,102662:3,102663:3,102664:3,102665:3,102666:3,102667:3,102668:3,102669:3,102670:3,102671:3,102672:3,102673:3,102674:3,102675:3,102676:3,102677:3,102678:3,102679:3,102680:3,102681:3,102682:3,102683:3,102684:3,102685:3,102686:3,102687:3,102688:3,102689:3,102690:3,102691:3,102692:3,102693:3,102694:3,102695:3,102696:3,102697:3,102698:3,102700:3,102704:3,102707:3,102708:3,102709:3,102710:3,102711:3,102712:3,102713:3,102714:3,102715:3,102716:3,102717:3,102718:3,102719:3,102720:3,102721:3,102722:3,102723:3,102724:3,102725:3,102726:3,102727:3,102728:3,102729:3,102730:3,102733:3,102734:3,102735:3,102736:3,102737:3,102738:3,102739:3,102740:3,102741:3,102742:3,102743:3,102744:3,102745:3,102746:3,102747:3,102748:3,102749:3,102750:3,102751:3,102752:3,102753:3,102754:3,102755:3,102756:3,102757:3,102758:3,102761:3,102763:3,102766:3,103300:0,103301:0,103302:0,103303:0,103304:0,103305:0,103306:0,103307:0,103308:0,103309:0,103310:0,103311:0,103312:0,103313:0,103314:0,103315:0,103316:0,103317:0,103318:0,103319:0,103320:0,103321:0,103322:0,103323:0,103324:0,103325:0,103326:0,103327:0,103328:0,103329:0,103330:0,103331:0,103332:0,103333:0,103334:0,103335:0,103336:0,103337:0,103338:0,103339:0,103340:0,103341:0,103342:0,103343:0,103344:0,103345:0,103346:0,103347:0,103348:0,103349:0,103350:0,103351:0,103352:0,103353:0,103354:0,103355:0,103356:0,103357:0,103358:0,103359:0,103360:0,103361:0,103362:0,103363:0,103364:0,103365:0,103366:0,103367:0,103368:0,103369:0,103370:0,103371:0,103400:3,103401:3,103402:3,103403:3,103404:3,103405:3,103406:3,103407:3,103408:3,103409:3,103410:3,103411:3,103412:3,103413:3,103414:3,103415:3,103416:3,103417:3,103418:3,103419:3,103420:3,103421:3,103422:3,103423:3,103424:3,103425:3,103426:3,103427:3,103428:3,103429:3,103430:3,103431:3,103432:3,103433:3,103434:3,103435:3,103436:3,103437:3,103438:3,103439:3,103440:3,103441:3,103442:3,103443:3,103444:3,103445:3,103446:3,103447:3,103448:3,103449:3,103450:3,103451:3,103452:3,103453:3,103454:3,103455:3,103456:3,103457:3,103458:3,103459:3,103460:3,103461:3,103462:3,103463:3,103464:3,103465:3,103466:3,103467:3,103468:3,103469:3,103470:3,103471:3,103528:0,103529:0,103530:0,103531:0,103532:0,103533:0,103534:0,103535:0,103536:0,103537:0,103538:0,103584:0,103600:0,103601:0,103602:0,103603:0,103604:0,103605:0,103606:0,103607:0,103608:0,103609:0,103610:0,103611:0,103612:0,103613:0,103614:0,103615:0,103616:0,103617:0,103618:0,103619:0,103620:0,103621:0,103622:0,103623:0,103624:0,103625:0,103626:0,103627:0,103628:0,103629:0,103630:0,103631:0,103632:0,103633:0,103634:0,103635:0,103636:0,103637:0,103638:0,103639:0,103640:0,103641:0,103642:0,103643:0,103644:0,103645:0,103646:0,103647:0,103648:0,103649:0,103650:0,103651:0,103652:0,103653:0,103654:0,103655:0,103656:0,103657:0,103658:0,103659:0,103660:0,103661:0,103662:0,103663:0,103664:0,103665:0,103666:0,103667:0,103668:0,103669:0,103670:0,103671:0,103672:0,103673:0,103674:0,103675:0,103676:0,103677:0,103678:0,103679:0,103680:0,103681:0,103682:0,103683:0,103684:0,103685:0,103686:0,103687:0,103688:0,103689:0,103690:0,103691:0,103692:0,103693:0,103700:3,103701:3,103702:3,103703:3,103704:3,103705:3,103706:3,103707:3,103708:3,103709:3,103710:3,103711:3,103712:3,103713:3,103714:3,103715:3,103716:3,103717:3,103718:3,103719:3,103720:3,103721:3,103722:3,103723:3,103724:3,103725:3,103726:3,103727:3,103728:3,103729:3,103730:3,103731:3,103732:3,103733:3,103734:3,103735:3,103736:3,103737:3,103738:3,103739:3,103740:3,103741:3,103742:3,103743:3,103744:3,103745:3,103746:3,103747:3,103748:3,103749:3,103750:3,103751:3,103752:3,103753:3,103754:3,103755:3,103756:3,103757:3,103758:3,103759:3,103760:3,103761:3,103762:3,103763:3,103764:3,103765:3,103766:3,103767:3,103768:3,103769:3,103770:3,103771:3,103772:3,103773:3,103774:3,103775:3,103776:3,103777:3,103778:3,103779:3,103780:3,103781:3,103782:3,103783:3,103784:3,103785:3,103786:3,103787:3,103788:3,103789:3,103790:3,103791:3,103792:3,103793:3,103800:0,103801:0,103802:0,103803:0,103804:0,103805:0,103806:0,103807:0,103808:0,103809:0,103810:0,103811:0,103812:0,103813:0,103814:0,103815:0,103816:0,103817:0,103818:0,103819:0,103820:0,103821:0,103822:0,103823:0,103824:0,103825:0,103826:0,103827:0,103828:0,103829:0,103830:0,103831:0,103832:0,103833:0,103834:0,103835:0,103836:0,103837:0,103838:0,103839:0,103840:0,103841:0,103842:0,103843:0,103844:0,103845:0,103846:0,103847:0,103848:0,103849:0,103850:0,103851:0,103852:0,103853:0,103854:0,103855:0,103856:0,103857:0,103858:0,103859:0,103860:0,103861:0,103862:0,103863:0,103864:0,103865:0,103866:0,103867:0,103868:0,103869:0,103870:0,103871:0,103900:3,103901:3,103902:3,103903:3,103904:3,103905:3,103906:3,103907:3,103908:3,103909:3,103910:3,103911:3,103912:3,103913:3,103914:3,103915:3,103916:3,103917:3,103918:3,103919:3,103920:3,103921:3,103922:3,103923:3,103924:3,103925:3,103926:3,103927:3,103928:3,103929:3,103930:3,103931:3,103932:3,103933:3,103934:3,103935:3,103936:3,103937:3,103938:3,103939:3,103940:3,103941:3,103942:3,103943:3,103944:3,103945:3,103946:3,103947:3,103948:3,103949:3,103950:3,103951:3,103952:3,103953:3,103954:3,103955:3,103956:3,103957:3,103958:3,103959:3,103960:3,103961:3,103962:3,103963:3,103964:3,103965:3,103966:3,103967:3,103968:3,103969:3,103970:3,103971:3};if(has("extend-esri")){_cc2.WKIDUnitConversion=obj;}return obj;});},"esri/geometry/Multipoint":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/SpatialReference","esri/geometry/Geometry","esri/geometry/Point","esri/geometry/Extent"],function(_cc3,lang,has,_cc4,_cc5,_cc6,_cc7,_cc8){var _cc9={type:"multipoint",points:null};var _cca=_cc3(_cc6,{declaredClass:"esri.geometry.Multipoint",constructor:function(obj){lang.mixin(this,_cc9);this.points=[];if(obj){if(obj.points){lang.mixin(this,obj);}else{this.spatialReference=obj;}if(this.spatialReference){this.spatialReference=new _cc5(this.spatialReference);}}this.verifySR();},_extent:null,addPoint:function(_ccb){this._extent=null;if(lang.isArray(_ccb)){this.points.push(_ccb);}else{this.points.push([_ccb.x,_ccb.y]);}return this;},removePoint:function(_ccc){if(this._validateInputs(_ccc)){this._extent=null;return new _cc7(this.points.splice(_ccc,1)[0],this.spatialReference);}},getExtent:function(){if(this._extent){return new _cc8(this._extent);}var _ccd=this.points,il=_ccd.length;if(!il){return;}var _cce=_ccd[0],xmax,ymax,xmin=(xmax=_cce[0]),ymin=(ymax=_cce[1]),min=Math.min,max=Math.max,sr=this.spatialReference,x,y,i;for(i=0;i<il;i++){_cce=_ccd[i];x=_cce[0];y=_cce[1];xmin=min(xmin,x);ymin=min(ymin,y);xmax=max(xmax,x);ymax=max(ymax,y);}this._extent={xmin:xmin,ymin:ymin,xmax:xmax,ymax:ymax,spatialReference:sr?sr.toJson():null};return new _cc8(this._extent);},_validateInputs:function(_ccf){if(_ccf===null||_ccf<0||_ccf>=this.points.length){return false;}return true;},getPoint:function(_cd0){if(this._validateInputs(_cd0)){var _cd1=this.points[_cd0];return new _cc7(_cd1[0],_cd1[1],this.spatialReference);}},setPoint:function(_cd2,_cd3){if(this._validateInputs(_cd2)){this._extent=null;this.points[_cd2]=[_cd3.x,_cd3.y];return this;}},toJson:function(){var json={points:lang.clone(this.points)},sr=this.spatialReference;if(sr){json.spatialReference=sr.toJson();}return json;}});_cca.defaultProps=_cc9;if(has("extend-esri")){lang.setObject("geometry.Multipoint",_cca,_cc4);_cc4.geometry.defaultMultipoint=_cc9;}return _cca;});},"esri/symbol":function(){define(["esri/symbols/Symbol","esri/symbols/MarkerSymbol","esri/symbols/SimpleMarkerSymbol","esri/symbols/PictureMarkerSymbol","esri/symbols/LineSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/CartographicLineSymbol","esri/symbols/FillSymbol","esri/symbols/SimpleFillSymbol","esri/symbols/PictureFillSymbol","esri/symbols/Font","esri/symbols/TextSymbol","esri/symbols/jsonUtils"],function(_cd4,_cd5,_cd6,_cd7,_cd8,_cd9,_cda,_cdb,_cdc,_cdd,Font,_cde,_cdf){return {Symbol:_cd4,MarkerSymbol:_cd5,SimpleMarkerSymbol:_cd6,PictureMarkerSymbol:_cd7,LineSymbol:_cd8,SimpleLineSymbol:_cd9,CartographicLineSymbol:_cda,FillSymbol:_cdb,SimpleFillSymbol:_cdc,PictureFillSymbol:_cdd,Font:Font,TextSymbol:_cde,jsonUtils:_cdf};});},"esri/renderers/ClassBreaksRenderer":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/symbols/jsonUtils","esri/renderers/Renderer"],function(_ce0,_ce1,lang,has,_ce2,_ce3,_ce4,_ce5){var _ce6=_ce0(_ce5,{declaredClass:"esri.renderer.ClassBreaksRenderer",constructor:function(sym,attr){this.breaks=[];this._symbols={};this.infos=[];if(sym&&!sym.declaredClass){var json=sym;this.attributeField=json.field;sym=json.defaultSymbol;if(sym){this.defaultSymbol=_ce4.fromJson(sym);}this._copy(["defaultLabel","classificationMethod:rest","normalizationType:rest","normalizationField","normalizationTotal"],json,this);var min=json.minValue,_ce7=json.classBreakInfos;if(_ce7&&_ce7[0]&&_ce3.isDefined(_ce7[0].classMaxValue)){_ce1.forEach(_ce7,function(info){var _ce8=info.classMaxValue;info.minValue=min;info.maxValue=_ce8;min=_ce8;},this);}_ce1.forEach(_ce7,this._addBreakInfo,this);}else{this.defaultSymbol=sym;this.attributeField=attr;}},addBreak:function(min,max,_ce9){var info=lang.isObject(min)?min:{minValue:min,maxValue:max,symbol:_ce9};this._addBreakInfo(info);},removeBreak:function(min,max){var _cea,_ceb=this.breaks,i,il=_ceb.length,_cec=this._symbols;for(i=0;i<il;i++){_cea=_ceb[i];if(_cea[0]==min&&_cea[1]==max){_ceb.splice(i,1);delete _cec[min+"-"+max];this.infos.splice(i,1);break;}}},clearBreaks:function(){this.breaks=[];this._symbols={};this.infos=[];},getSymbol:function(_ced){var attr=this.attributeField,_cee=_ced.attributes,val,rs=this.breaks,i,il=rs.length,_cef=this._symbols,_cf0,incl=this.isMaxInclusive;if(lang.isFunction(attr)){val=attr(_ced);}else{val=parseFloat(_cee[attr]);var _cf1=this.normalizationType,_cf2,_cf3;if(_cf1){_cf2=parseFloat(this.normalizationTotal);_cf3=parseFloat(_cee[this.normalizationField]);if(_cf1==="log"){val=Math.log(val)*Math.LOG10E;}else{if(_cf1==="percent-of-total"&&!isNaN(_cf2)){val=(val/_cf2)*100;}else{if(_cf1==="field"&&!isNaN(_cf3)){val=val/_cf3;}}}}}for(i=0;i<il;i++){_cf0=rs[i];if(_cf0[0]<=val&&(incl?(val<=_cf0[1]):(val<_cf0[1]))){return _cef[_cf0[0]+"-"+_cf0[1]];}}return this.defaultSymbol;},setMaxInclusive:function(_cf4){this.isMaxInclusive=_cf4;},_normalizationTypeEnums:[["field","esriNormalizeByField"],["log","esriNormalizeByLog"],["percent-of-total","esriNormalizeByPercentOfTotal"]],_classificationMethodEnums:[["natural-breaks","esriClassifyNaturalBreaks"],["equal-interval","esriClassifyEqualInterval"],["quantile","esriClassifyQuantile"],["standard-deviation","esriClassifyStandardDeviation"],["geometrical-interval","esriClassifyGeometricalInterval"]],_copy:function(keys,_cf5,_cf6){_ce1.forEach(keys,function(key){var _cf7=key.split(":"),_cf8,_cf9,_cfa,_cfb;if(_cf7.length>1){key=_cf7[0];_cf8=this["_"+key+"Enums"];if(_cf7[1]==="rest"){_cf9="1";_cfa="0";}else{if(_cf7[1]==="sdk"){_cf9="0";_cfa="1";}}}_cfb=_cf5[key];if(_cfb!==undefined){_cf6[key]=_cfb;if(_cf8&&_cf9){var i,len=_cf8.length;for(i=0;i<len;i++){if(_cf8[i][_cf9]===_cfb){_cf6[key]=_cf8[i][_cfa];break;}}}}},this);},_addBreakInfo:function(info){var min=info.minValue,max=info.maxValue;this.breaks.push([min,max]);this.infos.push(info);var _cfc=info.symbol;if(_cfc){if(!_cfc.declaredClass){info.symbol=_ce4.fromJson(_cfc);}}this._symbols[min+"-"+max]=info.symbol;},toJson:function(){var _cfd=this.infos||[],_cfe=_ce3.fixJson,_cff=_cfd[0]&&_cfd[0].minValue,json={type:"classBreaks",field:this.attributeField,defaultSymbol:this.defaultSymbol&&this.defaultSymbol.toJson(),minValue:(_cff===-Infinity)?-Number.MAX_VALUE:_cff,classBreakInfos:_ce1.map(_cfd,function(info){info=lang.mixin({},info);info.symbol=info.symbol&&info.symbol.toJson();info.classMaxValue=(info.maxValue===Infinity)?Number.MAX_VALUE:info.maxValue;delete info.minValue;delete info.maxValue;return _cfe(info);})};this._copy(["defaultLabel","classificationMethod:sdk","normalizationType:sdk","normalizationField","normalizationTotal"],this,json);return _cfe(json);}});if(has("extend-esri")){lang.setObject("renderer.ClassBreaksRenderer",_ce6,_ce2);}return _ce6;});},"esri/layers/RangeDomain":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/has","esri/kernel","esri/lang","esri/layers/Domain"],function(_d00,lang,has,_d01,_d02,_d03){var _d04=_d00([_d03],{declaredClass:"esri.layers.RangeDomain",constructor:function(json){if(json&&lang.isObject(json)){this.minValue=json.range[0];this.maxValue=json.range[1];}},toJson:function(){var json=this.inherited(arguments);json.range=[this.minValue,this.maxValue];return _d02.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.RangeDomain",_d04,_d01);}return _d04;});},"esri/map":function(){define(["require","dojo/_base/kernel","dojo/_base/declare","dojo/_base/connect","dojo/_base/lang","dojo/_base/array","dojo/_base/event","dojo/on","dojo/aspect","dojo/dom","dojo/dom-class","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dijit/registry","esri/kernel","esri/config","esri/sniff","esri/lang","esri/_coremap","esri/MapNavigationManager"],function(_d05,_d06,_d07,_d08,lang,_d09,_d0a,on,_d0b,dom,_d0c,_d0d,_d0e,_d0f,_d10,_d11,_d12,has,_d13,_d14,_d15){var _d16=30,_d17=30,_d18={up:"panUp",right:"panRight",down:"panDown",left:"panLeft"},_d19={upperRight:"panUpperRight",lowerRight:"panLowerRight",lowerLeft:"panLowerLeft",upperLeft:"panUpperLeft"},dc=_d08.connect,ddc=_d08.disconnect,dcr=_d0d.create,ds=_d0f.set,dh=lang.hitch,_d1a=_d0e.getMarginBox,_d1b=_d06.deprecated,_d1c=lang.mixin,_d1d="Map.(enable/disable)ShiftDoubleClickZoom deprecated. Shift-Double-Click zoom behavior will not be supported.",_d1e=0;var Map=_d07(_d14,{declaredClass:"esri.Map",constructor:function(_d1f,_d20){_d1c(this,{_slider:null,_navDiv:null,_mapParams:_d1c({attributionWidth:0.45,slider:true,nav:false,logo:true,sliderStyle:"small",sliderPosition:"top-left",sliderOrientation:"vertical",autoResize:true},_d20||{})});_d1c(this,{isDoubleClickZoom:false,isShiftDoubleClickZoom:false,isClickRecenter:false,isScrollWheelZoom:false,isPan:false,isRubberBandZoom:false,isKeyboardNavigation:false,isPanArrows:false,isZoomSlider:false});if(lang.isFunction(_d11._css)){_d11._css=_d11._css(this._mapParams.force3DTransforms);this.force3DTransforms=this._mapParams.force3DTransforms;}var _d21=(has("esri-transforms")&&has("esri-transitions"));this.navigationMode=this._mapParams.navigationMode||(_d21&&"css-transforms")||"classic";if(this.navigationMode==="css-transforms"&&!_d21){this.navigationMode="classic";}this.fadeOnZoom=_d13.isDefined(this._mapParams.fadeOnZoom)?this._mapParams.fadeOnZoom:(this.navigationMode==="css-transforms");if(this.navigationMode!=="css-transforms"){this.fadeOnZoom=false;}this.setMapCursor("default");this.smartNavigation=_d20&&_d20.smartNavigation;if(!_d13.isDefined(this.smartNavigation)&&has("mac")&&!has("esri-touch")&&!has("esri-pointer")&&!(has("ff")<=3.5)){var _d22=navigator.userAgent.match(/Mac\s+OS\s+X\s+([\d]+)(\.|\_)([\d]+)\D/i);if(_d22&&_d13.isDefined(_d22[1])&&_d13.isDefined(_d22[3])){var _d23=parseInt(_d22[1],10),_d24=parseInt(_d22[3],10);this.smartNavigation=((_d23>10)||(_d23===10&&_d24>=6));}}var _d25=true;_d25=false;this.showAttribution=_d13.isDefined(this._mapParams.showAttribution)?this._mapParams.showAttribution:_d25;this._onLoadHandler_connect=dc(this,"onLoad",this,"_onLoadInitNavsHandler");var _d26=dcr("div",{"class":"esriControlsBR"+(this._mapParams.nav?" withPanArrows":"")},this.root);if(this.showAttribution){var _d27=lang.getObject("esri.dijit.Attribution",false);if(_d27){this._initAttribution(_d27,_d26);}else{var _d28=["esri/dijit/Attribution"],rid=_d1e++,self=this;this._rids&&this._rids.push(rid);_d05(_d28,function(_d29){var idx=self._rids?_d09.indexOf(self._rids,rid):-1;if(idx!==-1){self._rids.splice(idx,1);self._initAttribution(_d29,_d26);}});}}if(this._mapParams.logo){var _d2a={};if(has("ie")===6){_d2a.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(enabled='true', sizingMethod='crop', src='"+_d05.toUrl("esri")+"/images/map/logo-med.png"+"')";}var logo=this._ogol=dcr("div",{style:_d2a},_d26);if((this.root.clientWidth*this.root.clientHeight)<250000){_d0c.add(logo,"logo-sm");}else{_d0c.add(logo,"logo-med");}if(!has("esri-touch")&&!has("esri-pointer")){this._ogol_connect=dc(logo,"onclick",this,"_openLogoLink");}}var _d2b=(this.navigationManager=new _d15(this)),_d2c=_d2b.mouseEvents||_d2b.touchEvents||_d2b.pointerEvents;if(_d20&&_d20.basemap){this._onLoadFix=true;this.setBasemap(_d20.basemap);this._onLoadFix=false;}this.autoResize=this._mapParams.autoResize;if(this.autoResize){var _d2d=_d10.getEnclosingWidget(this.container),_d2e=(_d2d&&_d2d.resize)?_d2d:window,_d2f=dh(this,this.resize);this._rszSignal=on.pausable(_d2e,"resize",_d2f);this._oriSignal=on.pausable(window,"orientationchange",_d2f);_d0b.after(_d2e,"resize",_d2f,true);}},_initAttribution:function(_d30,_d31){var _d32=dcr("span",{"class":"esriAttribution"},_d31,"first");ds(_d32,"width",Math.floor(this.width*this._mapParams.attributionWidth)+"px");this._connects.push(dc(_d32,"onclick",function(){var _d33="esriAttributionOpen";if(_d0c.contains(this,_d33)){_d0c.remove(this,_d33);}else{if(this.scrollWidth>this.clientWidth){_d0c.add(this,_d33);}}}));this.attribution=new _d30({map:this},_d32);},_cleanUp:function(){this.disableMapNavigation();this.navigationManager.destroy();var _d34=this._slider;if(_d34&&_d34.destroy&&!_d34._destroyed){_d34.destroy();}var _d35=this._navDiv,_d36=this.attribution;if(_d35){_d0d.destroy(_d35);}if(_d36){_d36.destroy();}this._connects.push(this._slider_connect,this._ogol_connect,this._rszSignal,this._oriSignal);_d09.forEach(this._connects,ddc);this.attribution=this.navigationManager=this._rids=this._connects=this._slider_connect=this._ogol_connect=this._rszSignal=this._oriSignal=null;this.inherited("_cleanUp",arguments);},_isPanningOrZooming:function(){return this.__panning||this.__zooming;},_canZoom:function(_d37){var _d38=this.getLevel();return !this.__tileInfo||!((_d38===this.getMinZoom()&&_d37<0)||(_d38===this.getMaxZoom()&&_d37>0));},_onLoadInitNavsHandler:function(){this.enableMapNavigation();this._createNav();if(this._mapParams.sliderStyle==="small"||!this._createSlider){this._createSimpleSlider();}else{if(this._mapParams.slider){var _d39=this._getSliderClass(true),_d3a=(_d39.indexOf("Horizontal")!==-1),_d3b=_d3a?"dijit.form.HorizontalSlider":"dijit.form.VerticalSlider",_d3c=_d3a?"dijit.form.HorizontalRule":"dijit.form.VerticalRule",_d3d=_d3a?"dijit.form.HorizontalRuleLabels":"dijit.form.VerticalRuleLabels",_d3e=[_d3b,_d3c,_d3d],_d3f=_d09.some(_d3e,function(_d40){return !lang.getObject(_d40,false);});if(_d3f){_d3e=_d09.map(_d3e,function(_d41){return _d41.replace(/\./g,"/");});var rid=_d1e++,self=this;this._rids&&this._rids.push(rid);_d05(_d3e,function(){var idx=self._rids?_d09.indexOf(self._rids,rid):-1;if(idx!==-1){self._rids.splice(idx,1);self._createSlider.apply(self,arguments);}});}else{_d3e=_d09.map(_d3e,function(_d42){return lang.getObject(_d42,false);});this._createSlider.apply(this,_d3e);}}}ddc(this._onLoadHandler_connect);},_createNav:function(){if(this._mapParams.nav){var div,v,i,_d43=_d0c.add,id=this.id;this._navDiv=dcr("div",{id:id+"_navdiv"},this.root);_d43(this._navDiv,"navDiv");var w2=this.width/2,h2=this.height/2,wh;for(i in _d18){v=_d18[i];div=dcr("div",{id:id+"_pan_"+i},this._navDiv);_d43(div,"fixedPan "+v);if(i==="up"||i==="down"){wh=parseInt(_d1a(div).w,10)/2;ds(div,{left:(w2-wh)+"px",zIndex:_d16});}else{wh=parseInt(_d1a(div).h,10)/2;ds(div,{top:(h2-wh)+"px",zIndex:_d16});}this._connects.push(dc(div,"onclick",dh(this,this[v])));}this._onMapResizeNavHandler_connect=dc(this,"onResize",this,"_onMapResizeNavHandler");for(i in _d19){v=_d19[i];div=dcr("div",{id:id+"_pan_"+i,style:{zIndex:_d16}},this._navDiv);_d43(div,"fixedPan "+v);this._connects.push(dc(div,"onclick",dh(this,this[v])));}this.isPanArrows=true;}},_onMapResizeNavHandler:function(_d44,wd,ht){var id=this.id,w2=wd/2,h2=ht/2,byId=dom.byId,i,div,wh;for(i in _d18){div=byId(id+"_pan_"+i);if(i==="up"||i==="down"){wh=parseInt(_d1a(div).w,10)/2;ds(div,"left",(w2-wh)+"px");}else{wh=parseInt(_d1a(div).h,10)/2;ds(div,"top",(h2-wh)+"px");}}},_createSimpleSlider:function(){if(this._mapParams.slider){var _d45=(this._slider=dcr("div",{id:this.id+"_zoom_slider","class":this._getSliderClass(),style:{zIndex:_d17}})),_d46=(has("esri-touch")&&!has("ff"))?"touchstart":(has("esri-pointer")?(navigator.msPointerEnabled?"MSPointerDown":"pointerdown"):"onclick"),_d47=dcr("div",{"class":"esriSimpleSliderIncrementButton"},_d45),_d48=dcr("div",{"class":"esriSimpleSliderDecrementButton"},_d45);_d47.innerHTML="+";_d48.innerHTML="&ndash;";if(has("ie")<8){_d0c.add(_d48,"dj_ie67Fix");}this._connects.push(dc(_d47,_d46,this,this._simpleSliderChangeHandler));this._connects.push(dc(_d48,_d46,this,this._simpleSliderChangeHandler));if(_d46=="touchstart"){this._connects.push(dc(_d47,"onclick",this,this._simpleSliderChangeHandler));this._connects.push(dc(_d48,"onclick",this,this._simpleSliderChangeHandler));}if(has("ie")<10){dom.setSelectable(_d45,false);}this.root.appendChild(_d45);this.isZoomSlider=true;}},_simpleSliderChangeHandler:function(evt){_d0a.stop(evt);var _d49=(evt.currentTarget.className.indexOf("IncrementButton")!==-1)?true:false;this._extentUtil({numLevels:_d49?1:-1});},_getSliderClass:function(_d4a){var _d4b="",type=(_d4a?"Large":"Simple"),_d4c=this._mapParams.sliderOrientation,_d4d=this._mapParams.sliderPosition||"";_d4c=(_d4c&&_d4c.toLowerCase()==="horizontal")?"esri"+type+"SliderHorizontal":"esri"+type+"SliderVertical";if(_d4d){switch(_d4d.toLowerCase()){case "top-left":_d4d="esri"+type+"SliderTL";break;case "top-right":_d4d="esri"+type+"SliderTR";break;case "bottom-left":_d4d="esri"+type+"SliderBL";break;case "bottom-right":_d4d="esri"+type+"SliderBR";break;default:break;}}return "esri"+type+"Slider"+" "+_d4c+" "+_d4d;},_openLogoLink:function(evt){window.open(_d12.defaults.map.logoLink,"_blank");_d0a.stop(evt);},enableMapNavigation:function(){this.navigationManager.enableNavigation();},disableMapNavigation:function(){this.navigationManager.disableNavigation();},enableDoubleClickZoom:function(){if(!this.isDoubleClickZoom){this.navigationManager.enableDoubleClickZoom();this.isDoubleClickZoom=true;}},disableDoubleClickZoom:function(){if(this.isDoubleClickZoom){this.navigationManager.disableDoubleClickZoom();this.isDoubleClickZoom=false;}},enableShiftDoubleClickZoom:function(){if(!this.isShiftDoubleClickZoom){_d1b(this.declaredClass+": "+_d1d,null,"v2.0");this.navigationManager.enableShiftDoubleClickZoom();this.isShiftDoubleClickZoom=true;}},disableShiftDoubleClickZoom:function(){if(this.isShiftDoubleClickZoom){_d1b(this.declaredClass+": "+_d1d,null,"v2.0");this.navigationManager.disableShiftDoubleClickZoom();this.isShiftDoubleClickZoom=false;}},enableClickRecenter:function(){if(!this.isClickRecenter){this.navigationManager.enableClickRecenter();this.isClickRecenter=true;}},disableClickRecenter:function(){if(this.isClickRecenter){this.navigationManager.disableClickRecenter();this.isClickRecenter=false;}},enablePan:function(){if(!this.isPan){this.navigationManager.enablePan();this.isPan=true;}},disablePan:function(){if(this.isPan){this.navigationManager.disablePan();this.isPan=false;}},enableRubberBandZoom:function(){if(!this.isRubberBandZoom){this.navigationManager.enableRubberBandZoom();this.isRubberBandZoom=true;}},disableRubberBandZoom:function(){if(this.isRubberBandZoom){this.navigationManager.disableRubberBandZoom();this.isRubberBandZoom=false;}},enableKeyboardNavigation:function(){if(!this.isKeyboardNavigation){this.navigationManager.enableKeyboardNavigation();this.isKeyboardNavigation=true;}},disableKeyboardNavigation:function(){if(this.isKeyboardNavigation){this.navigationManager.disableKeyboardNavigation();this.isKeyboardNavigation=false;}},enableScrollWheelZoom:function(){if(!this.isScrollWheelZoom){this.navigationManager.enableScrollWheelZoom();this.isScrollWheelZoom=true;}},disableScrollWheelZoom:function(){if(this.isScrollWheelZoom){this.navigationManager.disableScrollWheelZoom();this.isScrollWheelZoom=false;}},showPanArrows:function(){if(this._navDiv){this._navDiv.style.display="block";this.isPanArrows=true;}},hidePanArrows:function(){if(this._navDiv){this._navDiv.style.display="none";this.isPanArrows=false;}},showZoomSlider:function(){if(this._slider){ds(this._slider.domNode||this._slider,"visibility","visible");this.isZoomSlider=true;}},hideZoomSlider:function(){if(this._slider){ds(this._slider.domNode||this._slider,"visibility","hidden");this.isZoomSlider=false;}}});if(has("extend-esri")){_d11.Map=Map;}return Map;});},"dojo/io/script":function(){define(["../_base/connect","../_base/kernel","../_base/lang","../sniff","../_base/window","../_base/xhr","../dom","../dom-construct","../request/script"],function(_d4e,_d4f,lang,has,win,xhr,dom,_d50,_d51){function _d52(_d53,id){var dfd=_d53["jsonp_"+id];if(dfd){delete _d53["jsonp_"+id];if(dfd.canceled){_d4f.global[_d51._callbacksProperty][dfd.ioArgs.requestId]();}}};_d4f.deprecated("dojo/io/script","Use dojo/request/script.","2.0");var _d54={get:function(args){var rDfd,self=this;var dfd=this._makeScriptDeferred(args,function(dfd){rDfd&&rDfd.cancel();});var _d55=dfd.ioArgs;xhr._ioAddQueryToUrl(_d55);xhr._ioNotifyStart(dfd);rDfd=_d51.get(_d55.url,{timeout:args.timeout,jsonp:_d55.jsonp,checkString:args.checkString,ioArgs:_d55,frameDoc:args.frameDoc,canAttach:function(rDfd){_d55.requestId=rDfd.id;_d55.scriptId=rDfd.scriptId;_d55.canDelete=rDfd.canDelete;return _d54._canAttach(_d55);}},true);rDfd.then(function(){_d52(self,_d55.id);dfd.resolve(dfd);}).otherwise(function(_d56){_d52(self,_d55.id);dfd.ioArgs.error=_d56;dfd.reject(_d56);});return dfd;},attach:_d51._attach,remove:_d51._remove,_makeScriptDeferred:function(args,_d57){var dfd=xhr._ioSetArgs(args,_d57||this._deferredCancel,this._deferredOk,this._deferredError);var _d58=dfd.ioArgs;_d58.id=_d4f._scopeName+"IoScript"+(args.callbackSuffix||(this._counter++));_d58.canDelete=false;_d58.jsonp=args.callbackParamName||args.jsonp;if(_d58.jsonp){_d58.query=_d58.query||"";if(_d58.query.length>0){_d58.query+="&";}_d58.query+=_d58.jsonp+"="+(args.frameDoc?"parent.":"")+_d4f._scopeName+".io.script.jsonp_"+_d58.id+"._jsonpCallback";_d58.frameDoc=args.frameDoc;_d58.canDelete=true;dfd._jsonpCallback=this._jsonpCallback;this["jsonp_"+_d58.id]=dfd;}return dfd;},_deferredCancel:function(dfd){dfd.canceled=true;},_deferredOk:function(dfd){var _d59=dfd.ioArgs;return _d59.json||_d59.scriptLoaded||_d59;},_deferredError:function(_d5a,dfd){console.log("dojo.io.script error",_d5a);return _d5a;},_deadScripts:[],_counter:1,_addDeadScript:function(_d5b){_d54._deadScripts.push({id:_d5b.id,frameDoc:_d5b.frameDoc});_d5b.frameDoc=null;},_validCheck:function(dfd){var _d5c=_d54._deadScripts;if(_d5c&&_d5c.length>0){for(var i=0;i<_d5c.length;i++){_d54.remove(_d5c[i].id,_d5c[i].frameDoc);_d5c[i].frameDoc=null;}_d54._deadScripts=[];}return true;},_ioCheck:function(dfd){var _d5d=dfd.ioArgs;if(_d5d.json||(_d5d.scriptLoaded&&!_d5d.args.checkString)){return true;}var _d5e=_d5d.args.checkString;return _d5e&&eval("typeof("+_d5e+") != 'undefined'");},_resHandle:function(dfd){if(_d54._ioCheck(dfd)){dfd.callback(dfd);}else{dfd.errback(new Error("inconceivable dojo.io.script._resHandle error"));}},_canAttach:function(){return true;},_jsonpCallback:function(json){this.ioArgs.json=json;_d4f.global[_d51._callbacksProperty][this.ioArgs.requestId](json);}};lang.setObject("dojo.io.script",_d54);return _d54;});},"esri/layers/LayerDrawingOptions":function(){define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array","dojo/has","esri/kernel","esri/lang","esri/renderers/jsonUtils","esri/layers/LabelClass"],function(_d5f,lang,_d60,has,_d61,_d62,_d63,_d64){var _d65=_d5f(null,{declaredClass:"esri.layers.LayerDrawingOptions",constructor:function(json){if(json){lang.mixin(this,json);if(json.renderer){this.renderer=_d63.fromJson(json.renderer);}if(json.labelingInfo&&json.labelingInfo.length>0){this.labelingInfo=[];var _d66;_d60.forEach(json.labelingInfo,function(_d67){_d66=new _d64(_d67);this.labelingInfo.push(_d66);},this);}}},toJson:function(){var json={renderer:this.renderer&&this.renderer.toJson(),transparency:this.transparency,scaleSymbols:this.scaleSymbols,showLabels:this.showLabels};if(this.labelingInfo&&this.labelingInfo.length>0){json.labelingInfo=[];_d60.forEach(this.labelingInfo,function(_d68){json.labelingInfo.push(_d68.toJson());});}return _d62.fixJson(json);}});if(has("extend-esri")){lang.setObject("layers.LayerDrawingOptions",_d65,_d61);}return _d65;});},"esri/layers/layer":function(){define(["dojo/_base/declare","dojo/_base/config","dojo/_base/connect","dojo/_base/lang","dojo/_base/Deferred","dojo/_base/json","dojo/has","esri/Evented","esri/kernel","esri/lang","esri/request","esri/deferredUtils","esri/urlUtils","esri/SpatialReference","esri/geometry/Extent"],function(_d69,_d6a,_d6b,lang,_d6c,_d6d,has,_d6e,_d6f,_d70,_d71,_d72,_d73,_d74,_d75){var _d76=_d69([_d6e],{declaredClass:"esri.layers.Layer",_eventMap:{"error":["error"],"load":["layer"],"opacity-change":["opacity"],"update-end":["error"],"visibility-change":["visible"]},constructor:function(url,_d77){if(url&&lang.isString(url)){this._url=_d73.urlToObject(this.url=url);}else{this.url=(this._url=null);_d77=_d77||url;if(_d77&&_d77.layerDefinition){_d77=null;}}this.spatialReference=new _d74(4326);this.initialExtent=new _d75(-180,-90,180,90,new _d74(4326));this._map=this._div=null;this.normalization=true;if(_d77){if(_d77.id){this.id=_d77.id;}if(_d77.visible===false){this.visible=false;}if(_d70.isDefined(_d77.opacity)){this.opacity=_d77.opacity;}if(_d70.isDefined(_d77.minScale)){this.setMinScale(_d77.minScale);}if(_d70.isDefined(_d77.maxScale)){this.setMaxScale(_d77.maxScale);}this.attributionDataUrl=_d77.attributionDataUrl||"";this.hasAttributionData=!!this.attributionDataUrl;if(_d70.isDefined(_d77.showAttribution)){this.showAttribution=_d77.showAttribution;}}this._errorHandler=lang.hitch(this,this._errorHandler);if(this.managedSuspension){var _d78=this._setMap;this._setMap=function(map){var _d79=_d78.apply(this,arguments);this.evaluateSuspension();if(this.suspended&&!map.loaded){var _d7a=_d6b.connect(map,"onLoad",this,function(){_d6b.disconnect(_d7a);_d7a=null;this.evaluateSuspension();});}return _d79;};}this.registerConnectEvents();},id:null,visible:true,loaded:false,minScale:0,maxScale:0,visibleAtMapScale:false,suspended:true,attributionDataUrl:"",hasAttributionData:false,showAttribution:true,_errorHandler:function(err){this.onError(err);},_setMap:function(map,_d7b,_d7c,lod){this._map=map;this._lyrZEHandle=_d6b.connect(map,"onZoomEnd",this,this._processMapScale);if(map.loaded){this.visibleAtMapScale=this._isMapAtVisibleScale();}else{var _d7d=_d6b.connect(map,"onLoad",this,function(){_d6b.disconnect(_d7d);_d7d=null;this._processMapScale();});}},_unsetMap:function(map,_d7e){_d6b.disconnect(this._lyrZEHandle);this._lyrZEHandle=null;this._map=null;this.suspended=true;},_cleanUp:function(){this._map=this._div=null;},_fireUpdateStart:function(){if(this.updating){return;}this.updating=true;this.onUpdateStart();if(this._map){this._map._incr();}},_fireUpdateEnd:function(_d7f,info){this.updating=false;this.onUpdateEnd(_d7f,info);if(this._map){this._map._decr();}},_getToken:function(){var url=this._url,crd=this.credential;return (url&&url.query&&url.query.token)||(crd&&crd.token)||undefined;},_findCredential:function(){this.credential=_d6f.id&&this._url&&_d6f.id.findCredential(this._url.path);},_useSSL:function(){var _d80=this._url,re=/^http:/i,rep="https:";if(this.url){this.url=this.url.replace(re,rep);}if(_d80&&_d80.path){_d80.path=_d80.path.replace(re,rep);}},refresh:function(){},show:function(){this.setVisibility(true);},hide:function(){this.setVisibility(false);},setMinScale:function(_d81){this.setScaleRange(_d81);},setMaxScale:function(_d82){this.setScaleRange(null,_d82);},setScaleRange:function(_d83,_d84){var _d85=_d70.isDefined(_d83),_d86=_d70.isDefined(_d84);if(!this.loaded){this._hasMin=this._hasMin||_d85;this._hasMax=this._hasMax||_d86;}var _d87=this.minScale,_d88=this.maxScale;this.minScale=(_d85?_d83:this.minScale)||0;this.maxScale=(_d86?_d84:this.maxScale)||0;if((_d87!==this.minScale)||(_d88!==this.maxScale)){this.onScaleRangeChange();this._processMapScale();}},suspend:function(){this._suspended=true;this.evaluateSuspension();},resume:function(){this._suspended=false;this.evaluateSuspension();},canResume:function(){return this.loaded&&this._map&&this._map.loaded&&this.visible&&this.visibleAtMapScale&&!this._suspended;},evaluateSuspension:function(){if(this.canResume()){if(this.suspended){this._resume();}}else{if(!this.suspended){this._suspend();}}},_suspend:function(){this.suspended=true;this.onSuspend();if(this._map){this._map.onLayerSuspend(this);}},_resume:function(){this.suspended=false;var _d89=(this._resumedOnce===undefined);if(_d89){this._resumedOnce=true;}this.onResume({firstOccurrence:_d89});if(this._map){this._map.onLayerResume(this);}},_processMapScale:function(){var _d8a=this.visibleAtMapScale;this.visibleAtMapScale=this._isMapAtVisibleScale();if(_d8a!==this.visibleAtMapScale){this.onScaleVisibilityChange();this.evaluateSuspension();}},isVisibleAtScale:function(_d8b){return (_d8b?_d76.prototype._isMapAtVisibleScale.apply(this,arguments):false);},_isMapAtVisibleScale:function(_d8c){if(!_d8c&&(!this._map||!this._map.loaded)){return false;}_d8c=_d8c||this._map.getScale();var _d8d=this.minScale,_d8e=this.maxScale,_d8f=!_d8d,_d90=!_d8e;if(!_d8f&&_d8c<=_d8d){_d8f=true;}if(!_d90&&_d8c>=_d8e){_d90=true;}return (_d8f&&_d90)?true:false;},getAttributionData:function(){var url=this.attributionDataUrl,dfd=new _d6c(_d72._dfdCanceller);if(this.hasAttributionData&&url){dfd._pendingDfd=_d71({url:url,content:{f:"json"},handleAs:"json",callbackParamName:"callback"});dfd._pendingDfd.then(function(_d91){dfd.callback(_d91);},function(_d92){dfd.errback(_d92);});}else{var err=new Error("Layer does not have attribution data");err.log=_d6a.isDebug;dfd.errback(err);}return dfd;},getResourceInfo:function(){var info=this.resourceInfo;return lang.isString(info)?_d6d.fromJson(info):lang.clone(info);},setNormalization:function(_d93){this.normalization=_d93;},setVisibility:function(v){if(this.visible!==v){this.visible=v;this.onVisibilityChange(this.visible);this.evaluateSuspension();}},onLoad:function(){},onVisibilityChange:function(){},onScaleRangeChange:function(){},onScaleVisibilityChange:function(){},onSuspend:function(){},onResume:function(){},onUpdate:function(){},onUpdateStart:function(){},onUpdateEnd:function(){},onError:function(){}});if(has("extend-esri")){lang.setObject("layers.Layer",_d76,_d6f);}return _d76;});},"*now":function(r){r(["dojo/i18n!*preload*esri/nls/jsapi*[\"ar\",\"az\",\"ca\",\"cs\",\"da\",\"de-de\",\"el\",\"en-gb\",\"en-us\",\"es-es\",\"fi-fi\",\"fr-fr\",\"he-il\",\"hu\",\"it-it\",\"ja-jp\",\"ko-kr\",\"nl-nl\",\"nb\",\"pl\",\"pt-br\",\"pt-pt\",\"ro\",\"ru\",\"sk\",\"sl\",\"sv\",\"th\",\"tr\",\"zh-tw\",\"zh-cn\",\"ROOT\"]"]);},"*noref":1}});define("esri/jsapi",["dojo/fx/Toggler","dojo/_base/html","dijit/_base/manager","esri/main","esri/map","esri/geometry","esri/symbol","esri/renderer","esri/utils","esri/layers/graphics","esri/layers/agstiled","esri/layers/agsdynamic"],function(){return {};});